"use strict";(self.webpackChunksmartbox_fe=self.webpackChunksmartbox_fe||[]).push([[792],{7353:(W,J,l)=>{l.d(J,{s:()=>R});var w=l(2831),c=l(2340),b=l(7587),a=l(2290),t=l(8356),o=l(6609),m=l(4875),D=l(3325),P=l(4100),e=l(9808),N=l(7232);function H(I,F){if(1&I){const O=b.EpF();b.TgZ(0,"div",7),b.NdJ("click",function(){const h=b.CHM(O).$implicit;return b.oxw().setflag("yellow",h)}),b.TgZ(1,"div",8)(2,"div",9)(3,"div",5)(4,"div")(5,"span",10),b._uU(6),b.qZA()()()()()()}if(2&I){const O=F.$implicit;b.xp6(6),b.Oqu(O.text)}}let R=(()=>{class I{constructor(O,k,Z,h,_,C){this.toastrService=O,this.apiservice=k,this.router=Z,this.myService=h,this.LandingPageComponent=_,this.DashboardComponent=C,this.currentuser=localStorage.getItem("current_user"),this.currentuser=JSON.parse(this.currentuser),this.customerID=localStorage.getItem("customerID"),this.categories=localStorage.getItem("categories"),this.categories=JSON.parse(this.categories)}ngOnInit(){}setflag(O,k){if(this.myService.add(O),"office"==localStorage.getItem("role"))this.LandingPageComponent.temp(),this.LandingPageComponent.start("yellow");else if(1==c.N.Deactivate_timer){let h=localStorage.getItem("active_order");h=JSON.parse(h);let _=localStorage.getItem("green_eventdata");_=JSON.parse(_),_&&this.DashboardComponent.stop(_,"yellow"),this.DashboardComponent.stop(h,"yellow"),this.DashboardComponent.createorder("yellow",k),_&&this.DashboardComponent.createorder("green","working on the order"),localStorage.removeItem("green_eventdata")}this.navigate()}navigate(){"office"==localStorage.getItem("role")?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([w.O.HOME+"/"+w.O.LANDING_PAGE])}):this.DashboardComponent.set_flag("screen","")}}return I.\u0275fac=function(O){return new(O||I)(b.Y36(a._W),b.Y36(t.s),b.Y36(o.F0),b.Y36(m.D),b.Y36(D.n),b.Y36(P.M))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-down-time"]],decls:11,vars:7,consts:[[1,"row","mb-4","yellow","titleBar"],[1,"col-md-3","text-start"],[3,"click"],[1,"fa","fa-arrow-left"],[1,"col-md-9","text-end"],[1,"row"],["class","col-md-6 mx-2",3,"click",4,"ngFor","ngForOf"],[1,"col-md-6","mx-2",3,"click"],["data-allow-start","false","data-a","yellow-5",1,"row","mb-2","actionButton","action"],[1,"col","my-auto","text-start"],[1,"button-text-small"]],template:function(O,k){1&O&&(b.TgZ(0,"div",0)(1,"div",1)(2,"a",2),b.NdJ("click",function(){return k.navigate()}),b._UZ(3,"i",3),b._uU(4),b.ALo(5,"translate"),b.qZA()(),b.TgZ(6,"div",4),b._uU(7),b.ALo(8,"translate"),b.qZA()(),b.TgZ(9,"div",5),b.YNc(10,H,7,1,"div",6),b.qZA()),2&O&&(b.xp6(4),b.hij("\xa0\xa0",b.lcZ(5,3,"HOME.BACKBUTTON"),""),b.xp6(3),b.Oqu(b.lcZ(8,5,"HOME.YELLOWQUES")),b.xp6(3),b.Q6J("ngForOf",k.categories))},directives:[e.sg],pipes:[N.X$],styles:[".screenMainSection[_ngcontent-%COMP%]{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.actionButton[_ngcontent-%COMP%]{padding:8px 25px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.titleBar[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:20px}.yellow[_ngcontent-%COMP%]{background-color:orange}"]}),I})()},3325:(W,J,l)=>{l.d(J,{n:()=>L});var w=l(2831),c=l(2340),b=l(193),a=l(3075),t=l(7587),o=l(8441),m=l(6609),D=l(4875);const P=["basicTimer"],e=function(u){return{active:u}},N=function(u,T,p){return{green:u,yellow:T,red:p}};function H(u,T){if(1&u){const p=t.EpF();t.TgZ(0,"div",76),t.NdJ("click",function(){const f=t.CHM(p).$implicit;return t.oxw().focus_button(f)}),t._UZ(1,"button",77),t.TgZ(2,"p",78),t._uU(3),t.qZA()()}if(2&u){const p=T.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(3,e,"true"==p.focus)),t.xp6(1),t.Q6J("ngClass",t.kEZ(5,N,"green"==n.order_flag,"yellow"==n.order_flag,"red"==n.order_flag)),t.xp6(2),t.Oqu(p.number)}}function R(u,T){1&u&&(t.TgZ(0,"div",79),t._UZ(1,"app-working-hours"),t.qZA())}function I(u,T){1&u&&(t.TgZ(0,"div",79),t._UZ(1,"app-down-time"),t.qZA())}function F(u,T){1&u&&(t.TgZ(0,"div",79),t._UZ(1,"app-unplanned-down-time"),t.qZA())}function O(u,T){1&u&&(t.TgZ(0,"div",79),t._UZ(1,"app-reports"),t.qZA())}function k(u,T){1&u&&(t.TgZ(0,"div",79),t._UZ(1,"app-project-list"),t.qZA())}function Z(u,T){if(1&u){const p=t.EpF();t.TgZ(0,"div",79)(1,"div",80),t.NdJ("click",function(){return t.CHM(p),t.oxw().set_flag("green")}),t.TgZ(2,"div",81),t._UZ(3,"button",82),t.qZA(),t.TgZ(4,"div",83)(5,"div",65)(6,"span",84),t._uU(7,"Werken aan het project"),t.qZA()(),t.TgZ(8,"div",65)(9,"div")(10,"span",85),t._uU(11,"(Waardetoevoegende of noodzakelijke activiteit)"),t.qZA()()()()(),t.TgZ(12,"div",86),t.NdJ("click",function(){return t.CHM(p),t.oxw().set_flag("yellow")}),t.TgZ(13,"div",81),t._UZ(14,"button",87),t.qZA(),t.TgZ(15,"div",83)(16,"div",65)(17,"span",84),t._uU(18,"Geplande stilstand"),t.qZA()(),t.TgZ(19,"div",65)(20,"div")(21,"span",85),t._uU(22,"(Je kunt "),t.TgZ(23,"u"),t._uU(24,"niet"),t.qZA(),t._uU(25," verder met dit project)"),t.qZA()()()()(),t.TgZ(26,"div",88),t.NdJ("click",function(){return t.CHM(p),t.oxw().set_flag("red")}),t.TgZ(27,"div",81),t._UZ(28,"button",89),t.qZA(),t.TgZ(29,"div",83)(30,"div",65)(31,"div")(32,"span",84),t._uU(33,"Ongeplande stilstand"),t.qZA()()(),t.TgZ(34,"div",65)(35,"div")(36,"span",85),t._uU(37,"(Je kunt "),t.TgZ(38,"u"),t._uU(39,"niet"),t.qZA(),t._uU(40," verder met dit project)"),t.qZA()()()()(),t.TgZ(41,"div",90),t.NdJ("click",function(){return t.CHM(p),t.oxw().set_flag("blue")}),t.TgZ(42,"div",81),t._UZ(43,"button",91),t.qZA(),t.TgZ(44,"div",83)(45,"div",65)(46,"span",84),t._uU(47,"Melding & hulpvraag"),t.qZA()(),t.TgZ(48,"div",65)(49,"div")(50,"span",85),t._uU(51,"(Je kunt "),t.TgZ(52,"u"),t._uU(53,"wel"),t.qZA(),t._uU(54," verder met dit project)"),t.qZA()()()()()()}}function h(u,T){1&u&&(t.TgZ(0,"div",92),t._UZ(1,"div",93),t.qZA())}function _(u,T){1&u&&(t.TgZ(0,"div",94),t._UZ(1,"div",93),t.qZA())}function C(u,T){if(1&u){const p=t.EpF();t.TgZ(0,"cd-timer",95,96),t.NdJ("onTick",function(x){return t.CHM(p),t.oxw().getcounts(x)}),t.qZA()}if(2&u){const p=t.oxw();t.Q6J("startTime",p.starttime)}}function d(u,T){if(1&u){const p=t.EpF();t.TgZ(0,"div",39)(1,"h5",97),t._uU(2,"Admin settings"),t.qZA(),t.TgZ(3,"button",98),t.NdJ("click",function(){return t.CHM(p).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",99)(5,"form",100)(6,"div",101)(7,"div",102)(8,"label",103),t._uU(9,"Deactivate Timer"),t.qZA()(),t.TgZ(10,"div",102),t._UZ(11,"input",104),t.TgZ(12,"label",105),t._uU(13,"Yes"),t.qZA()(),t.TgZ(14,"div",102),t._UZ(15,"input",104),t.TgZ(16,"label",105),t._uU(17,"No"),t.qZA()()(),t.TgZ(18,"div",106)(19,"div",102)(20,"label",103),t._uU(21,"Default language"),t.qZA()(),t.TgZ(22,"div",102)(23,"select",107)(24,"option",108),t._uU(25,"Select language "),t.qZA(),t.TgZ(26,"option",109),t._uU(27,"English"),t.qZA(),t.TgZ(28,"option",110),t._uU(29,"Dutch"),t.qZA(),t.TgZ(30,"option",111),t._uU(31,"French"),t.qZA()()()(),t.TgZ(32,"div",112)(33,"div",102)(34,"label",103),t._uU(35,"Maximum orders"),t.qZA()(),t.TgZ(36,"div",102)(37,"select",107)(38,"option",108),t._uU(39,"Select maximum order "),t.qZA(),t.TgZ(40,"option",109),t._uU(41,"1"),t.qZA(),t.TgZ(42,"option",110),t._uU(43,"2"),t.qZA(),t.TgZ(44,"option",111),t._uU(45,"3"),t.qZA()()()()()(),t.TgZ(46,"div",55)(47,"button",113),t.NdJ("click",function(){return t.CHM(p).$implicit.close("Save click")}),t._uU(48,"Cancel"),t.qZA(),t.TgZ(49,"button",114),t._uU(50,"To confirm"),t.qZA()()}}let L=(()=>{class u{constructor(p,n,x,f,M){if(this.fb=p,this.modalService=n,this.ngxService=x,this.router=f,this.myService=M,this.screen_status=!0,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.reportstatus_flag=!1,this.deactivate_timer=c.N.Deactivate_timer,this.name=localStorage.getItem("smartbox_name"),this.registrationForm=this.fb.group({timer:["",[a.kI.required]],passwords:["",[a.kI.required,a.kI.minLength(6)]]}),this.order_numbers=[{number:1,focus:"false"},{number:2,focus:"false"},{number:3,focus:"false"},{number:4,focus:"false"}],this.statusflag=localStorage.getItem("status_flag"),this.timing=localStorage.getItem("timing"),this.statusflag){this.start(this.statusflag);let K=new Date("2022-4-18 20:17:30");var y=new Date,E=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),B=y.getHours()+":"+y.getMinutes()+":"+y.getSeconds();new Date(E+" "+B).getTime(),K.getTime()}"green"==this.statusflag?this.green_screen=!0:"yellow"==this.statusflag?this.yellow_screen=!0:this.screen_status=!0,this.order_numbers.forEach(K=>{"true"==K.focus&&(this.active_order=K)})}start(p){if(this.statusflag=localStorage.getItem("status_flag"),this.statusflag==p||"null"==this.statusflag||null==this.statusflag){this.timer_flag=!0;const x=localStorage.getItem("timer");if("null"==this.statusflag||null==this.statusflag)this.timer_flag=!0,this.starttime="00",localStorage.getItem("timer"),localStorage.setItem("status_flag",p);else{let f=x.split(":"),M=parseInt(f[2]),y=60*parseInt(f[1]),E=60*parseInt(f[0]);this.starttime=M+y+E}}else this.statusflag!=p?(this.timer_flag=!1,this.starttime="00",localStorage.setItem("status_flag",p),localStorage.removeItem("timing"),setTimeout(()=>{this.timer_flag=!0},1e3)):this.timer_flag=!1;localStorage.setItem("status_flag",p),this.order_flag=p}focus_button(p){this.order_numbers.forEach(n=>{n.focus="false"}),p.focus="true",this.active_order=p,this.screen_status=!0,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1}ngOnInit(){this.temp()}temp(){this.myService.myMethod().subscribe(p=>{this.data=p,"yellow"==this.data?(this.yellow_screen=!0,this.green_screen=!1):"red"==this.data&&(this.red_screen=!0,this.yellow_screen=!1,this.green_screen=!1)})}open(p){this.modalService.open(p,{ariaLabelledBy:"modal-basic-title"}).result.then(n=>{this.closeResult=`Closed with: ${n}`},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`})}getDismissReason(p){return p===b.If.ESC?"by pressing ESC":p===b.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${p}`}logout(){localStorage.removeItem("smartbox_token"),localStorage.removeItem("smartbox_Authenticated"),localStorage.removeItem("role"),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([w.O.LOGIN])})}getcounts(p){localStorage.setItem("timer",p.hours+":"+p.minutes+":"+p.seconds)}set_flag(p){"yellow"==p?(this.screen_status=!1,this.downtime_flag=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1):"red"==p?(this.downtime_flag=!1,this.screen_status=!1,this.workinghours_flag=!1,this.unplanned_flag=!0,this.reports_flag=!1,this.project_flag=!1):"blue"==p?(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!0,this.project_flag=!1):"workinghours_flag"==p?(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!0,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.order_numbers.forEach(n=>{n.focus="false"})):"green"==p?(this.green_screen=!0,this.start(p)):(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0)}}return u.\u0275fac=function(p){return new(p||u)(t.Y36(a.qu),t.Y36(b.FF),t.Y36(o.LA),t.Y36(m.F0),t.Y36(D.D))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-landing-page"]],viewQuery:function(p,n){if(1&p&&t.Gf(P,7),2&p){let x;t.iGM(x=t.CRH())&&(n.basicTimer=x.first)}},features:[t._Bn([])],decls:131,vars:20,consts:[[1,"navbar","navbar-light","bg-light","static-top"],[1,"container"],[1,"navbar-brand"],["src","https://smartbox-solutions.nl/wp-content/uploads/2021/03/logo_1200x300-300x75.png"],[1,"mr-3","form-check","form-switch"],[1,"btn","btn-primary","mx-1","my-auto",3,"click"],["aria-hidden","true",1,"fa","fa-cog",2,"font-size","22px"],["id","userName",1,"mr-3"],["type","button","id","menuLoginButton","data-bs-toggle","modal","data-bs-target","#examples",1,"btn","btn-primary"],["id","pageOverall",1,"features-icons","bg-light","text-center"],[1,"container","h-100"],["id","userBar",1,"row","mb-4"],["data-userid","1",1,"active"],[1,"fa","fa-play-circle"],["data-userid","1",1,"row","mainScreen",2,"display","flex"],[1,"col-md-2","orderTabs"],[1,"row","project"],[1,"fa","fa-folder","pro_icon",3,"click"],[1,"scrollable"],["class","row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row","overig",2,"display","flex",3,"ngClass","click"],["class","col-md-8 screenMainSection",4,"ngIf"],[1,"col-md-2","statusScreen","grey",3,"ngClass"],["class","row h-50","style","background-color: rgb(40, 134, 56);",4,"ngIf"],["class","row h-50",4,"ngIf"],[1,"row","h-25"],["data-a","33","data-timerid","16","data-eventid","46838",1,"col-md-12","text-align","my-auto","timer","running"],["format","hms",3,"startTime","onTick",4,"ngIf"],[1,"activeColorText"],[1,"activeColorTextDescription"],[1,"row","h-25","statusScreen--last"],[2,"height","0"],[1,"stopTimer"],[1,"statusScreen--last-wrapper","closeOrderBtn"],[1,"col-md-12"],[1,"fa","fa-times","mt-1"],["id","ordernumber_selectModal_1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","ordernumbermodal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","ordernumber_selectModalLabel",1,"modal-title"],[1,"orderCounter"],[1,"orderCounterValue"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","60045","data-orderkey","60045",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","60045",1,"btn","green"],[1,"fas","fa-play"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","60089","data-orderkey","60089",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","60089",1,"btn","green"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","61008","data-orderkey","61008",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","61008",1,"btn","green"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","61015","data-orderkey","61015",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","61015",1,"btn","green"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn-dark","reprint",2,"display","none","color","#fff","padding","6px 12px","border","1px solid #343a40","border-radius","4px"],["type","button","data-dismiss","modal",1,"btn","darkblue","minimize",2,"display","none","color","#fff"],["type","button",1,"btn","btn-primary"],[1,"ordernumbermodal_docked",2,"display","none"],[1,"orderid"],[1,"btn"],["data-userid","0",1,"row","mainScreen",2,"display","none"],[1,"footer","py-3","bg-light"],[1,"row"],[1,"col-lg-6","text-muted","text-start"],[1,"col-lg-6","text-muted","text-end"],["id","examples","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","example",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"click"],["content",""],[1,"row",3,"ngClass","click"],[1,"circle",3,"ngClass"],[1,"number"],[1,"col-md-8","screenMainSection"],["data-allow-start","false","data-a","green","data-eventtype","green","data-level","1",1,"row","mb-2","actionButton","action","d-flex","flex-row",3,"click"],[1,"col-md-3","col-12"],[1,"circle","green"],[1,"col-md-9","col-12","my-auto"],[1,"button-text-large","pl-2","ml-1"],[1,"button-text-small","pl-2","ml-1"],["data-a","YellowStep1","data-level","1","data-eventtype","yellow",1,"row","mb-2","actionButton","d-flex","flex-row",3,"click"],[1,"circle","yellow"],["data-a","RedStep1","data-level","1","data-eventtype","red",1,"row","mb-2","actionButton","flex-row",3,"click"],[1,"circle","red"],["data-a","BlueStep1","data-level","1","data-eventtype","blue",1,"row","mb-2","actionButton","flex-row",3,"click"],[1,"circle","blue"],[1,"row","h-50",2,"background-color","rgb(40, 134, 56)"],[1,"col-md-12","text-align","my-auto","blueStatusBar"],[1,"row","h-50"],["format","hms",3,"startTime","onTick"],["basicTimer",""],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-2"],["formGroup","registrationForm","novalidate",""],[1,"row","g-3","align-items-center"],[1,"col-auto"],["for","inputPassword6",1,"col-form-label"],["type","radio","name","timer",1,"form-check-input"],[1,"mx-2"],[1,"row","align-items-center"],["id","lang",1,"form-select","form-select-sm"],["selected","","disabled",""],["value","1"],["value","2"],["value","3"],[1,"row","gap-1","align-items-center"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary"]],template:function(p,n){if(1&p){const x=t.EpF();t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(x);const M=t.MAs(130);return n.open(M)}),t._UZ(7,"i",6),t.qZA(),t.TgZ(8,"span",7),t._uU(9),t.qZA(),t.TgZ(10,"button",8),t._uU(11,"Log out"),t.qZA()()()(),t.TgZ(12,"section",9)(13,"div",10)(14,"div",11)(15,"div",12),t._UZ(16,"i",13),t.TgZ(17,"span"),t._uU(18),t.qZA()()(),t.TgZ(19,"div",14)(20,"div",15)(21,"div",16),t._uU(22," Project: "),t.TgZ(23,"i",17),t.NdJ("click",function(){return n.set_flag("project")}),t.qZA()(),t.TgZ(24,"div",18),t.YNc(25,H,4,9,"div",19),t.qZA(),t.TgZ(26,"div",20),t.NdJ("click",function(){return n.set_flag("workinghours_flag")}),t.TgZ(27,"span"),t._uU(28,"Werkuren"),t.qZA()()(),t.YNc(29,R,2,0,"div",21),t.YNc(30,I,2,0,"div",21),t.YNc(31,F,2,0,"div",21),t.YNc(32,O,2,0,"div",21),t.YNc(33,k,2,0,"div",21),t.YNc(34,Z,55,0,"div",21),t.TgZ(35,"div",22),t.YNc(36,h,2,0,"div",23),t.YNc(37,_,2,0,"div",24),t.TgZ(38,"div",25)(39,"div",26),t.YNc(40,C,2,1,"cd-timer",27),t.qZA(),t.TgZ(41,"span",28),t._uU(42,"Werken aan de order"),t.qZA(),t._UZ(43,"span",29),t.qZA(),t.TgZ(44,"div",30)(45,"div",31),t._UZ(46,"img",32),t.qZA(),t.TgZ(47,"div",33)(48,"div",34)(49,"div"),t._uU(50,"Sluiten"),t.qZA(),t._UZ(51,"i",35),t.qZA()()()(),t.TgZ(52,"div",36)(53,"div",37)(54,"div",38)(55,"div",39),t._UZ(56,"h5",40),t.TgZ(57,"div",41)(58,"div",42),t._uU(59,"4"),t.qZA(),t._uU(60," order(s) "),t.qZA(),t.TgZ(61,"button",43)(62,"span",44),t._uU(63,"\xd7"),t.qZA()()(),t.TgZ(64,"div",45)(65,"div")(66,"button",46),t._uU(67," 60045 "),t.qZA(),t.TgZ(68,"button",47),t._UZ(69,"i",48),t._uU(70," START"),t.qZA()(),t.TgZ(71,"div")(72,"button",49),t._uU(73," 60089 "),t.qZA(),t.TgZ(74,"button",50),t._UZ(75,"i",48),t._uU(76," START"),t.qZA()(),t.TgZ(77,"div")(78,"button",51),t._uU(79," 61008 "),t.qZA(),t.TgZ(80,"button",52),t._UZ(81,"i",48),t._uU(82," START"),t.qZA()(),t.TgZ(83,"div")(84,"button",53),t._uU(85," 61015 "),t.qZA(),t.TgZ(86,"button",54),t._UZ(87,"i",48),t._uU(88," START"),t.qZA()()(),t.TgZ(89,"div",55)(90,"button",56),t._uU(91,"Annuleren"),t.qZA(),t.TgZ(92,"button",57),t._uU(93,"Print sticker"),t.qZA(),t.TgZ(94,"button",58),t._uU(95,"Stilstand / hulpvraag"),t.qZA(),t.TgZ(96,"button",59),t._uU(97,"Kiezen"),t.qZA()()()()(),t.TgZ(98,"div",60)(99,"div"),t._UZ(100,"i",13),t.qZA(),t._UZ(101,"div",61),t.TgZ(102,"div")(103,"button",62),t._uU(104,"Terug"),t.qZA()()()(),t._UZ(105,"div",63),t.qZA()(),t._UZ(106,"br"),t.TgZ(107,"footer",64)(108,"div",1)(109,"div",65)(110,"p",66),t._uU(111,"\xa9 smart.box 2022. All Rights Reserved."),t.qZA(),t.TgZ(112,"p",67),t._uU(113,"Version: 1.0.94"),t.qZA()()()(),t.TgZ(114,"div",68)(115,"div",69)(116,"div",38)(117,"div",39)(118,"h5",70),t._uU(119,"Log out"),t.qZA(),t._UZ(120,"button",71),t.qZA(),t.TgZ(121,"div",45)(122,"h5"),t._uU(123,"Are you sure you want to log out?"),t.qZA()(),t.TgZ(124,"div",72)(125,"button",73),t._uU(126,"Cancel"),t.qZA(),t.TgZ(127,"button",74),t.NdJ("click",function(){return n.logout()}),t._uU(128,"Confirm"),t.qZA()()()()(),t.YNc(129,d,51,0,"ng-template",null,75,t.W1O)}2&p&&(t.xp6(9),t.Oqu(n.name),t.xp6(9),t.Oqu(n.name),t.xp6(7),t.Q6J("ngForOf",n.order_numbers),t.xp6(1),t.Q6J("ngClass",t.VKq(14,e,1==n.workinghours_flag)),t.xp6(3),t.Q6J("ngIf",n.workinghours_flag),t.xp6(1),t.Q6J("ngIf",n.downtime_flag),t.xp6(1),t.Q6J("ngIf",n.unplanned_flag),t.xp6(1),t.Q6J("ngIf",n.reports_flag),t.xp6(1),t.Q6J("ngIf",n.project_flag),t.xp6(1),t.Q6J("ngIf",n.screen_status),t.xp6(1),t.Q6J("ngClass",t.kEZ(16,N,1==n.green_screen,1==n.yellow_screen,1==n.red_screen)),t.xp6(1),t.Q6J("ngIf",n.reportstatus_flag),t.xp6(1),t.Q6J("ngIf",!n.reportstatus_flag),t.xp6(3),t.Q6J("ngIf",n.timer_flag))},styles:["#pageOverall[_ngcontent-%COMP%]{overflow-x:scroll}.statusScreen[_ngcontent-%COMP%]{border-radius:0;color:#fff;font-weight:700;margin-left:28px;max-width:calc(18.66667% - 60px)}.features-icons[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:1rem}nav[_ngcontent-%COMP%]{flex:70px 0 0;flex-grow:0;flex-shrink:0;flex-basis:70px}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#000000e6}.navbar-brand[_ngcontent-%COMP%]{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}#userName[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-right:19px}.orderTabs[_ngcontent-%COMP%]   div.row[_ngcontent-%COMP%]{padding:15px 10px;margin:0;height:77px;border-bottom:1px solid #fff;display:flex;flex-wrap:wrap}.red[_ngcontent-%COMP%]{background-color:red}.yellow[_ngcontent-%COMP%]{background-color:orange}.project[_ngcontent-%COMP%]{margin-left:-12px}.orderTabs[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]:first-child{height:62.6px;padding:5px 10px;display:inherit;background:#547C96;margin-left:-12px;color:#fff;font-size:24px;font-weight:400;text-align:left}.orderTabs[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding-bottom:14px;background:rgba(84,124,150,.5);background-image:initial;background-position-x:initial;background-position-y:initial;background-size:initial;background-attachment:initial;background-origin:initial;background-clip:initial;background-color:#547c9680;margin-right:30px;max-width:calc(18.66667% - 30px);padding-right:0}.overig[_ngcontent-%COMP%]{margin-left:-12px}.footer[_ngcontent-%COMP%]{position:fixed;height:5px;bottom:6px;margin-top:5px;width:100%}.orderTabs[_ngcontent-%COMP%]   div.row.overig[_ngcontent-%COMP%]{margin-left:-12px}.screenMainSection[_ngcontent-%COMP%]{max-width:65%;margin-right:auto}.orderTabs[_ngcontent-%COMP%]   button.circle[_ngcontent-%COMP%]{width:11px;height:20px;border-radius:50%;border:none;margin:auto 0 -31px}.green[_ngcontent-%COMP%]{background-color:green}.number[_ngcontent-%COMP%]{margin-top:10px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.row.actionButton[_ngcontent-%COMP%]{padding:8px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.mainScreen[_ngcontent-%COMP%]{height:calc(100% - 60px)}.orderTabs[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 363px);margin-left:-15px;-ms-overflow-style:none;scrollbar-width:none}.pro_icon[_ngcontent-%COMP%]{margin-left:28px;width:0px;font-size:28px;margin-top:8px}"]}),u})()},1966:(W,J,l)=>{l.d(J,{X:()=>F});var w=l(3075),c=l(2831),b=l(193),a=l(7587),t=l(4875),o=l(2290),m=l(8356),D=l(4100),P=l(6609),e=l(9808),N=l(7232);const H=["number_input"];function R(O,k){1&O&&(a.TgZ(0,"span",26),a._uU(1,"In progress"),a.qZA())}function I(O,k){if(1&O){const Z=a.EpF();a.TgZ(0,"button",24),a.NdJ("click",function(){const C=a.CHM(Z).$implicit;return a.oxw().sendorder(C)}),a._uU(1),a.YNc(2,R,2,0,"span",25),a.qZA()}if(2&O){const Z=k.$implicit;a.xp6(1),a.hij(" ",Z.orderID," "),a.xp6(1),a.Q6J("ngIf",Z.isExist)}}let F=(()=>{class O{constructor(Z,h,_,C,d,L,u){this.modalService=Z,this.service=h,this.toastrService=_,this.apiservice=C,this.DashboardComponent=d,this.router=L,this.fb=u,this.submitted=!1,this.form=new w.cw({order:new w.NI("",w.kI.required)}),this.service.get().subscribe(T=>{this.workstationorders=T})}ngAfterViewInit(){setTimeout(()=>{this.searchElement.nativeElement.focus()},100)}ngOnInit(){this.geterp()}geterp(){this.apiservice.geterp().subscribe(Z=>{if(0!=Z.response){this.orderlist=Z.response.ordernumber_list.ordernummers;for(let h=0;h<this.orderlist.length-1;h++){this.orderlist[h].isExist=!1;for(let _=0;_<=this.workstationorders.length-1;_++)if(this.workstationorders[_].orderID==this.orderlist[h].orderID){this.orderlist[h].isExist=!0;break}}}else this.toastrService.error("No ERP orders available","Error!"),this.orderlist=[]},Z=>{this.toastrService.error("Something went wrong!","Error!")})}navigate(){if("office"==localStorage.getItem("role"))this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([c.O.HOME+"/"+c.O.LANDING_PAGE])});else{let h=this.DashboardComponent.orders.filter(function(_){return"s"!=_.orderID&&""!=_.orderID});this.DashboardComponent.orders=h,this.DashboardComponent.lastorder_focus(),this.DashboardComponent.set_flag("screen","")}}orders(){this.form.valid&&this.DashboardComponent.add_order(this.form.value.order)}sendorder(Z){this.order_to_pass=Z}open(Z){this.modalService.open(Z,{ariaLabelledBy:"modal-basic-title"}).result.then(h=>{this.closeResult=`Closed with: ${h}`},h=>{this.closeResult=`Dismissed ${this.getDismissReason(h)}`})}getDismissReason(Z){return Z===b.If.ESC?"by pressing ESC":Z===b.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${Z}`}onSubmit(){this.DashboardComponent.add_order(this.order_to_pass.orderID),this.DashboardComponent.erpattachment(this.order_to_pass)}}return O.\u0275fac=function(Z){return new(Z||O)(a.Y36(b.FF),a.Y36(t.D),a.Y36(o._W),a.Y36(m.s),a.Y36(D.M),a.Y36(P.F0),a.Y36(w.qu))},O.\u0275cmp=a.Xpm({type:O,selectors:[["app-project-list"]],viewQuery:function(Z,h){if(1&Z&&a.Gf(H,5),2&Z){let _;a.iGM(_=a.CRH())&&(h.searchElement=_.first)}},decls:40,vars:20,consts:[[1,"row","h-100"],[1,"col-md-1"],[1,"col-md-10","my-auto"],[1,"modal-content","orderNumberInput"],[1,"modal-header"],["id","loginModalLabel",1,"modal-title"],["novalidate","",3,"formGroup","keyup.enter"],[1,"modal-body"],[1,"form-group"],["type","number","name","order","formControlName","order","placeholder","Order number",1,"form-control","form-control-lg","inputOrderNumber",2,"display","inline-block","width","calc(100% - 120px)","width","calc(100% - 120px)","width","calc(100% - 120px)","width","calc(100% - 120px)"],["number_input",""],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","form-control-lg",2,"margin-bottom","5px"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"d-grid","gap-2"],["class","btn btn-light","style","background-color:#EFEFEF;","type","button",3,"click",4,"ngFor","ngForOf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-light",2,"background-color","#EFEFEF",3,"click"],["style","color: green;background-color: white;",4,"ngIf"],[2,"color","green","background-color","white"]],template:function(Z,h){1&Z&&(a.TgZ(0,"div",0),a._UZ(1,"div",1),a.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"form",6),a.NdJ("keyup.enter",function(){return h.orders()}),a.TgZ(9,"div",7)(10,"div",8),a._UZ(11,"input",9,10),a.TgZ(13,"button",11),a._uU(14),a.ALo(15,"translate"),a.qZA()()()(),a.TgZ(16,"div",12)(17,"button",13),a.NdJ("click",function(){return h.navigate()}),a._uU(18),a.ALo(19,"translate"),a.qZA(),a.TgZ(20,"button",14),a.NdJ("click",function(){return h.orders()}),a._uU(21),a.ALo(22,"translate"),a.qZA()()()()(),a.TgZ(23,"div",15)(24,"div",16)(25,"div",17)(26,"div",4)(27,"h5",18),a._uU(28,"Order"),a.qZA(),a._UZ(29,"button",19),a.qZA(),a.TgZ(30,"div",7)(31,"div",20),a.YNc(32,I,3,2,"button",21),a.qZA()(),a.TgZ(33,"div",12)(34,"button",22),a._uU(35),a.ALo(36,"translate"),a.qZA(),a.TgZ(37,"button",23),a.NdJ("click",function(){return h.onSubmit()}),a._uU(38),a.ALo(39,"translate"),a.qZA()()()()()),2&Z&&(a.xp6(6),a.Oqu(a.lcZ(7,8,"HOME.ORDERTOPIC")),a.xp6(2),a.Q6J("formGroup",h.form),a.xp6(6),a.Oqu(a.lcZ(15,10,"HOME.SELECTBUTTON")),a.xp6(4),a.Oqu(a.lcZ(19,12,"HOME.CANCELBUTTON")),a.xp6(3),a.Oqu(a.lcZ(22,14,"HOME.CONFIRMBUTTON")),a.xp6(11),a.Q6J("ngForOf",h.orderlist),a.xp6(3),a.Oqu(a.lcZ(36,16,"HOME.CANCELBUTTON")),a.xp6(3),a.Oqu(a.lcZ(39,18,"HOME.CONFIRMBUTTON")))},directives:[w._Y,w.JL,w.sg,w.wV,w.Fj,w.JJ,w.u,e.sg,e.O5],pipes:[N.X$],styles:[""]}),O})()},3068:(W,J,l)=>{l.d(J,{y:()=>p});var w=l(2831),c=l(3075),b=l(2340),a=l(193),t=l(7587),o=l(8441),m=l(4875),D=l(2290),P=l(8356),e=l(6609),N=l(3325),H=l(4100),R=l(9808),I=l(7232);function F(n,x){1&n&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"HOME.BLUEQUES")))}function O(n,x){1&n&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"HOME.SENDNOTIFICATION")))}function k(n,x){if(1&n){const f=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t.NdJ("click",function(){const E=t.CHM(f).$implicit,B=t.oxw(2),z=t.MAs(12),G=t.MAs(14);return B.open(z,G,E)}),t.TgZ(2,"div",29)(3,"div",30)(4,"div")(5,"span",31),t._uU(6),t.qZA()()()()()()}if(2&n){const f=x.$implicit;t.xp6(6),t.hij(" ",f.text," ")}}function Z(n,x){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,k,7,1,"div",26),t.qZA()),2&n){const f=t.oxw();t.xp6(1),t.Q6J("ngForOf",f.categories)}}function h(n,x){1&n&&(t.TgZ(0,"strong",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"HOME.RECENTNOTES")))}function _(n,x){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const f=x.$implicit;t.xp6(1),t.HOy("Op ",f.day," om ",f.timing," door ",f.displayName,": ",f.fkEventDetail,"")}}function C(n,x){if(1&n&&(t.TgZ(0,"div",32),t.YNc(1,h,3,3,"strong",33),t.TgZ(2,"div",34)(3,"ul",35),t.YNc(4,_,2,4,"li",36),t.qZA()()()),2&n){const f=t.oxw();t.xp6(1),t.Q6J("ngIf",f.notes),t.xp6(3),t.Q6J("ngForOf",f.notes)}}function d(n,x){if(1&n){const f=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t.NdJ("click",function(){const E=t.CHM(f).$implicit;return t.oxw(2).create_alert(E)}),t.TgZ(2,"div",29)(3,"div",30)(4,"div")(5,"span",31),t._uU(6),t.qZA()()()()()()}if(2&n){const f=x.$implicit;t.xp6(6),t.hij(" ",f.text," ")}}function L(n,x){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,d,7,1,"div",26),t.qZA()),2&n){const f=t.oxw();t.xp6(1),t.Q6J("ngForOf",f.reports)}}function u(n,x){if(1&n){const f=t.EpF();t.TgZ(0,"div",12)(1,"h5",37),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",38),t.NdJ("click",function(){return t.CHM(f).$implicit.dismiss("Cross click")}),t.qZA()(),t._UZ(5,"div",15),t.TgZ(6,"div",39)(7,"button",40),t.NdJ("click",function(){return t.CHM(f),t.oxw().backToDashbord()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",41),t.NdJ("click",function(){const E=t.CHM(f).$implicit;return t.oxw().submit(),E.close("Save click")}),t._uU(11),t.ALo(12,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"HOME.REQUESTHELP")),t.xp6(6),t.Oqu(t.lcZ(9,5,"HOME.CANCELBUTTON")),t.xp6(3),t.Oqu(t.lcZ(12,7,"HOME.CONFIRMBUTTON")))}function T(n,x){if(1&n){const f=t.EpF();t.TgZ(0,"div",12)(1,"h5",37),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",38),t.NdJ("click",function(){return t.CHM(f).$implicit.dismiss("Cross click")}),t.qZA()(),t._UZ(5,"div",15),t.TgZ(6,"div",39)(7,"button",40),t.NdJ("click",function(){return t.CHM(f).$implicit.close("Save click")}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",41),t.NdJ("click",function(){return t.CHM(f),t.oxw().submit()}),t._uU(11),t.ALo(12,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"HOME.REQUESTHELP")),t.xp6(6),t.Oqu(t.lcZ(9,5,"HOME.CANCELBUTTON")),t.xp6(3),t.Oqu(t.lcZ(12,7,"HOME.CONFIRMBUTTON")))}let p=(()=>{class n{constructor(f,M,y,E,B,z,G,K,X){this.ngxService=f,this.modalService=M,this.myService=y,this.toastrService=E,this.apiservice=B,this.router=z,this.fb=G,this.LandingPageComponent=K,this.DashboardComponent=X,this.categories_flag=!1,this.alert_flag=!1,this.currentuser=localStorage.getItem("current_user"),this.workstationid=localStorage.getItem("workstationID"),this.customerID=localStorage.getItem("customerID"),this.currentuser=JSON.parse(this.currentuser),this.downtimeform=this.fb.group({info:["",[c.kI.required]]}),this.categories=localStorage.getItem("bluecategories"),this.notes=localStorage.getItem("notes"),this.notes=JSON.parse(this.notes),this.reports=localStorage.getItem("reportblue"),this.categories=JSON.parse(this.categories),this.categories&&(this.categories_flag=!0,this.reports=JSON.parse(this.reports))}ngOnInit(){}submit(){this.categories_flag=!1,this.alert_flag=!0,this.modalService.dismissAll()}open(f,M,y){console.log(f,y,"reort"),this.dropdown_values=[],null!=y.extraLevel?(y.extraLevel.split(";").forEach(B=>{this.dropdown_values.push(B)}),this.modalService.open(f,{ariaLabelledBy:"modal-basic-title"}).result.then(B=>{this.closeResult=`Closed with: ${B}`},B=>{this.closeResult=`Dismissed ${this.getDismissReason(B)}`})):this.modalService.open(f,{ariaLabelledBy:"modal-basic-title"}).result.then(E=>{this.closeResult=`Closed with: ${E}`},E=>{this.closeResult=`Dismissed ${this.getDismissReason(E)}`}),this.createorder("blue",y)}backToDashbord(){console.log("in back"),this.modalService.dismissAll(),this.DashboardComponent.set_flag("screen","")}createorder(f,M){var y=Math.floor((new Date).getTime()/1e3);this.apiservice.addorder({orderNr:this.DashboardComponent.active_order.orderID,customerRef:"",orderkey:"",userID:this.currentuser.userID,actionType:f,eventDescription:M.text,actionDetail:M.value,workstationID:this.workstationid,monitorStartTime:y}).subscribe(B=>{this.DashboardComponent.getorders(this.DashboardComponent.currentuser.userID,this.workstationid)},B=>{this.toastrService.error("Something went wrong!","Error!")})}getDismissReason(f){return f===a.If.ESC?"by pressing ESC":f===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${f}`}setflag(f,M){if(this.myService.add(f),"office"==localStorage.getItem("role"))this.LandingPageComponent.temp(),this.LandingPageComponent.start("blue");else if(this.DashboardComponent.temp(),1==b.N.Deactivate_timer){let E=localStorage.getItem("active_order");E=JSON.parse(E),this.DashboardComponent.createorder("blue",M)}}create_alert(f){let M=localStorage.getItem("active_order");M=JSON.parse(M);let y={userID:this.currentuser.userID,workstationID:this.workstationid,orderNr:M.orderID,role:f.value};this.ngxService.start(),this.apiservice.createalert(y).subscribe(E=>{this.ngxService.stop(),this.downtimeform.reset({}),E?(this.DashboardComponent.getnotes(),localStorage.setItem("blueperson",E),this.backToDashbord(),this.DashboardComponent.getorders(this.DashboardComponent.currentuser.userID,this.workstationid),this.toastrService.success("Alert created","Success!")):this.toastrService.error("Alert is not created!","Error!")},E=>{})}navigate(){"office"==localStorage.getItem("role")?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([w.O.HOME+"/"+w.O.LANDING_PAGE])}):this.DashboardComponent.set_flag("screen","content")}}return n.\u0275fac=function(f){return new(f||n)(t.Y36(o.LA),t.Y36(a.FF),t.Y36(m.D),t.Y36(D._W),t.Y36(P.s),t.Y36(e.F0),t.Y36(c.qu),t.Y36(N.n),t.Y36(H.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reports"]],decls:49,vars:8,consts:[["data-level","1",1,"row","mb-4","blue","titleBar"],[1,"col-md-3","text-start"],[3,"click"],[1,"fa","fa-arrow-left"],["class","col-md-9 text-end",4,"ngIf"],["class","row","id","prob_class",4,"ngIf"],["class","row recenteMeldingen",4,"ngIf"],["content",""],["report",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["type","text","placeholder","Items",1,"form-control"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button",1,"btn","btn-outline-primary"],["id","example_Modal","tabindex","-1","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],["id","ModalLabel",1,"modal-title"],["type","text",1,"form-control"],[1,"col-md-9","text-end"],["id","prob_class",1,"row"],["class","col-md-6 mx-2",4,"ngFor","ngForOf"],[1,"col-md-6","mx-2"],[1,"row","mb-2","actionButton",3,"click"],[1,"col","my-auto","text-start"],[1,"row"],[1,"button-text-small"],[1,"row","recenteMeldingen"],["class","text-start",4,"ngIf"],[1,"col-md-8"],[1,"text-start"],[4,"ngFor","ngForOf"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(f,M){1&f&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return M.navigate()}),t._UZ(3,"i",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,F,3,3,"div",4),t.YNc(7,O,3,3,"div",4),t.qZA(),t.YNc(8,Z,2,1,"div",5),t.YNc(9,C,5,2,"div",6),t.YNc(10,L,2,1,"div",5),t.YNc(11,u,13,9,"ng-template",null,7,t.W1O),t.YNc(13,T,13,9,"ng-template",null,8,t.W1O),t.TgZ(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"h5",13),t._uU(20,"Additional Information"),t.qZA(),t._UZ(21,"button",14),t.qZA(),t.TgZ(22,"div",15)(23,"form")(24,"div",16),t._UZ(25,"input",17),t.qZA()()(),t.TgZ(26,"div",18)(27,"button",19),t._uU(28,"Cancel"),t.qZA(),t.TgZ(29,"button",20),t._uU(30,"Confirm"),t.qZA()()()()(),t.TgZ(31,"div",21)(32,"div",10)(33,"div",11)(34,"div",12)(35,"h5",22),t._uU(36,"Additional Information"),t.qZA(),t._UZ(37,"button",14),t.qZA(),t.TgZ(38,"div",15)(39,"form")(40,"div",16)(41,"label"),t._uU(42,"Would you like to send a message for a direct request for help?"),t.qZA(),t._UZ(43,"input",23),t.qZA()()(),t.TgZ(44,"div",18)(45,"button",19),t._uU(46,"New"),t.qZA(),t.TgZ(47,"button",20),t._uU(48,"And"),t.qZA()()()()()),2&f&&(t.xp6(4),t.hij(" \xa0\xa0",t.lcZ(5,6,"HOME.BACKBUTTON")," "),t.xp6(2),t.Q6J("ngIf",M.categories_flag),t.xp6(1),t.Q6J("ngIf",M.alert_flag),t.xp6(1),t.Q6J("ngIf",M.categories_flag),t.xp6(1),t.Q6J("ngIf",!M.alert_flag),t.xp6(1),t.Q6J("ngIf",M.alert_flag))},directives:[R.O5,R.sg,c._Y,c.JL,c.F],pipes:[I.X$],styles:[".screenMainSection[_ngcontent-%COMP%]{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.actionButton[_ngcontent-%COMP%]{padding:8px 25px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.titleBar[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:20px}.blue[_ngcontent-%COMP%]{background-color:#00f}.prob_class[_ngcontent-%COMP%]{margin-right:-44px}.recenteMeldingen[_ngcontent-%COMP%]{margin-top:28%}"]}),n})()},1722:(W,J,l)=>{l.d(J,{i:()=>C});var w=l(5861),c=l(2831),b=l(3075),a=l(193),t=l(2340),o=l(7587),m=l(8441),D=l(2290),P=l(8356),e=l(4100),N=l(6609),H=l(4875),R=l(3325),I=l(9808),F=l(7232);const O=["textboxmodal"];function k(d,L){if(1&d){const u=o.EpF();o.TgZ(0,"div",24)(1,"div",25),o.NdJ("click",function(){const n=o.CHM(u).$implicit,x=o.oxw(),f=o.MAs(12);return x.open(f,n)}),o.TgZ(2,"div",26)(3,"div",5)(4,"div")(5,"span",27),o._uU(6),o.qZA()()()()()()}if(2&d){const u=L.$implicit;o.xp6(6),o.hij(" ",u.text," ")}}function Z(d,L){if(1&d&&(o.TgZ(0,"option",36),o._uU(1),o.qZA()),2&d){const u=L.$implicit;o.s9C("value",u),o.xp6(1),o.Oqu(u)}}function h(d,L){if(1&d){const u=o.EpF();o.TgZ(0,"div",12)(1,"h5",28),o._uU(2,"Additional Information"),o.qZA(),o.TgZ(3,"button",29),o.NdJ("click",function(){return o.CHM(u).$implicit.dismiss("Cross click")}),o.qZA()(),o.TgZ(4,"div",15)(5,"form",30),o.NdJ("keyup.enter",function(){return o.CHM(u),o.oxw().submit_dropdown()}),o.TgZ(6,"div",16)(7,"select",31)(8,"option",18),o._uU(9,"select "),o.qZA(),o.YNc(10,Z,2,2,"option",32),o.qZA()()()(),o.TgZ(11,"div",33)(12,"button",34),o.NdJ("click",function(){return o.CHM(u).$implicit.close("Save click")}),o._uU(13,"Cancel"),o.qZA(),o.TgZ(14,"button",35),o.NdJ("click",function(){return o.CHM(u),o.oxw().submit_dropdown()}),o._uU(15,"To confirm"),o.qZA()()}if(2&d){const u=o.oxw();o.xp6(5),o.Q6J("formGroup",u.dropdownform),o.xp6(5),o.Q6J("ngForOf",u.dropdown_values)}}function _(d,L){if(1&d){const u=o.EpF();o.TgZ(0,"div",12)(1,"h5",28),o._uU(2,"Additional Information"),o.qZA(),o.TgZ(3,"button",29),o.NdJ("click",function(){return o.CHM(u).$implicit.dismiss("Cross click")}),o.qZA()(),o.TgZ(4,"div",15)(5,"form",30),o.NdJ("keyup.enter",function(){return o.CHM(u),o.oxw().submit_dropdown()}),o.TgZ(6,"div",16)(7,"div",37),o._UZ(8,"input",38),o.qZA()()()(),o.TgZ(9,"div",33)(10,"button",34),o.NdJ("click",function(){return o.CHM(u).$implicit.close("Save click")}),o._uU(11,"Cancel"),o.qZA(),o.TgZ(12,"button",35),o.NdJ("click",function(){return o.CHM(u),o.oxw().submit_dropdown()}),o._uU(13,"To confirm"),o.qZA()()}if(2&d){const u=o.oxw();o.xp6(5),o.Q6J("formGroup",u.dropdownform),o.xp6(3),o.s9C("placeholder",u.placeholder)}}let C=(()=>{class d{constructor(u,T,p,n,x,f,M,y,E){this.ngxService=u,this.modalService=T,this.toastrService=p,this.apiservice=n,this.DashboardComponent=x,this.router=f,this.fb=M,this.myService=y,this.LandingPageComponent=E,this.dropdown_values=[],this.values=[],this.values_b=[],this.array=[],this.add_info_modal=!1,this.currentuser=localStorage.getItem("current_user"),this.currentuser=JSON.parse(this.currentuser),this.customerID=localStorage.getItem("customerID"),this.categories=localStorage.getItem("redcategories"),this.categories=JSON.parse(this.categories),this.dropdownform=this.fb.group({additional_info:["",[b.kI.required]]}),this.downtimeform=this.fb.group({info:["",[b.kI.required]]})}submit_dropdown(){var u=this;return(0,w.Z)(function*(){yield u.setflag("red",u.eventDesc),u.dropdownform.valid?(u.modalService.dismissAll(),setTimeout(()=>{let T=localStorage.getItem("active_order");T=JSON.parse(T),u.apiservice.addformfield({eventID:T.eventID,updateFields:[{Fieldname:u.dropdownform.value.additional_info}]}).subscribe(n=>{u.ngxService.stop(),u.downtimeform.reset({}),"success"==n.response?u.toastrService.success("Added","Success!"):u.toastrService.error("Not added!","Error!")},n=>{})},2e3)):u.toastrService.error("Please select any value!","Error!")})()}open(u,T){if(this.eventDesc=T,this.dropdown_values=[],null!=T.extraLevel){let p=T.extraLevel.split("mailto");if("Instructie|"==p[0]){if(p.forEach(n=>{n.split(/[<>]/).forEach(f=>{this.values_b.push(f)})}),this.values_b.forEach(n=>{if(/^[A-Za-z0-9&; ]+$/.test(n)&&""!=n&&";"!=n){let M=n.substring(0,n.indexOf(" &"));M=""==M?n:M,this.values.push(M)}}),this.values.length>1)for(let n=0;n<this.values.length-1;n++)this.values[n]&&n+1<=this.values.length-1&&(this.dropdown_values.push(this.values[n]+" & "+this.values[n+1]),n+=1);else this.dropdown_values=this.values;this.modalService.open(u,{ariaLabelledBy:"modal-basic-title"}).result.then(n=>{this.closeResult=`Closed with: ${n}`},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`})}else T.extraLevel.includes(";")?(T.extraLevel.split(";").forEach(x=>{this.dropdown_values.push(x)}),this.modalService.open(u,{ariaLabelledBy:"modal-basic-title"}).result.then(x=>{this.closeResult=`Closed with: ${x}`},x=>{this.closeResult=`Dismissed ${this.getDismissReason(x)}`})):(this.openmd(this.contentRef),this.placeholder=T.extraLevel)}else this.setflag("red",this.eventDesc)}openmd(u){this.modalService.open(u,{ariaLabelledBy:"modal-basic-title"}).result.then(T=>{this.closeResult=`Closed with: ${T}`},T=>{this.closeResult=`Dismissed ${this.getDismissReason(T)}`})}getDismissReason(u){return u===a.If.ESC?"by pressing ESC":u===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${u}`}ngOnInit(){this.getCategories(this.customerID)}getCategories(u){this.apiservice.getcategories(u).subscribe(T=>{T.red?this.categories=T.red:this.toastrService.error("No categories!","Error!")},T=>{this.toastrService.error("Something went wrong!","Error!")})}navigate(){"office"==localStorage.getItem("role")?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([c.O.HOME+"/"+c.O.LANDING_PAGE])}):this.DashboardComponent.set_flag("screen","")}setflag(u,T){if(this.myService.add(u),"office"==localStorage.getItem("role"))this.LandingPageComponent.temp();else if(1==t.N.Deactivate_timer){let n=localStorage.getItem("green_eventdata");n=JSON.parse(n);let x=localStorage.getItem("active_order");x=JSON.parse(x),n&&this.DashboardComponent.stop(n,"red"),this.DashboardComponent.stop(x,"red"),this.DashboardComponent.createorder("red",T),n&&this.DashboardComponent.createorder("green","working on the order"),localStorage.removeItem("green_eventdata")}this.navigate()}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(m.LA),o.Y36(a.FF),o.Y36(D._W),o.Y36(P.s),o.Y36(e.M),o.Y36(N.F0),o.Y36(b.qu),o.Y36(H.D),o.Y36(R.n))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-unplanned-down-time"]],viewQuery:function(u,T){if(1&u&&o.Gf(O,5),2&u){let p;o.iGM(p=o.CRH())&&(T.contentRef=p.first)}},decls:37,vars:7,consts:[[1,"row","mb-4","red","titleBar"],[1,"col-md-3","text-start"],[3,"click"],[1,"fa","fa-arrow-left"],[1,"col-md-9","text-end"],[1,"row"],["class","col-md-6 mx-2",4,"ngFor","ngForOf"],["content",""],["textboxmodal",""],["id","example_Modal","tabindex","-1","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","ModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["aria-label",".form-select-sm example",1,"form-select","form-select-lg"],["selected","","disabled",""],["value","1"],["value","2"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button",1,"btn","btn-outline-primary"],[1,"col-md-6","mx-2"],[1,"row","mb-2","actionButton",3,"click"],[1,"col","my-auto","text-start"],[1,"button-text-small"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup","keyup.enter"],["formControlName","additional_info","aria-label",".form-select-sm example",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"value"],[1,"form-group"],["type","text","formControlName","additional_info",1,"form-control",3,"placeholder"]],template:function(u,T){1&u&&(o.TgZ(0,"div",0)(1,"div",1)(2,"a",2),o.NdJ("click",function(){return T.navigate()}),o._UZ(3,"i",3),o._uU(4),o.ALo(5,"translate"),o.qZA()(),o.TgZ(6,"div",4),o._uU(7),o.ALo(8,"translate"),o.qZA()(),o.TgZ(9,"div",5),o.YNc(10,k,7,1,"div",6),o.qZA(),o.YNc(11,h,16,2,"ng-template",null,7,o.W1O),o.YNc(13,_,14,2,"ng-template",null,8,o.W1O),o.TgZ(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"h5",13),o._uU(20,"Additional Information"),o.qZA(),o._UZ(21,"button",14),o.qZA(),o.TgZ(22,"div",15)(23,"form")(24,"div",16)(25,"select",17)(26,"option",18),o._uU(27,"Open this select menu"),o.qZA(),o.TgZ(28,"option",19),o._uU(29,"Test 1"),o.qZA(),o.TgZ(30,"option",20),o._uU(31,"Test 2"),o.qZA()()()()(),o.TgZ(32,"div",21)(33,"button",22),o._uU(34,"Cancel"),o.qZA(),o.TgZ(35,"button",23),o._uU(36,"Confirm"),o.qZA()()()()()),2&u&&(o.xp6(4),o.hij(" \xa0\xa0",o.lcZ(5,3,"HOME.BACKBUTTON")," "),o.xp6(3),o.hij(" ",o.lcZ(8,5,"HOME.REDQUES")," "),o.xp6(3),o.Q6J("ngForOf",T.categories))},directives:[I.sg,b._Y,b.JL,b.sg,b.EJ,b.JJ,b.u,b.YN,b.Kr,b.Fj,b.F],pipes:[F.X$],styles:[".screenMainSection[_ngcontent-%COMP%]{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.actionButton[_ngcontent-%COMP%]{padding:8px 25px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.titleBar[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:20px}.yellow[_ngcontent-%COMP%]{background-color:red}.prob_class[_ngcontent-%COMP%]{margin-right:-44px}"]}),d})()},4100:(W,J,l)=>{l.d(J,{M:()=>ft});var w=l(5861),c=l(2831),b=l(3325),a=l(5963),t=l(1135),o=l(4004),m=l(2340),D=l(193),P=l(3075),e=l(7587),N=l(2313),H=l(7232),R=l(2290),I=l(8356),F=l(284),O=l(6609),k=l(4875);const Z=["attachment"],h=["logoutt"],_=["basicTimer"];function C(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"li")(1,"a",44),e.NdJ("click",function(){const v=e.CHM(i).$implicit;return e.oxw().setLang(v)}),e._uU(2),e.qZA()()}if(2&g){const i=S.$implicit;e.xp6(2),e.Oqu(i.name)}}function d(g,S){1&g&&(e.TgZ(0,"div")(1,"div",45)(2,"h2",46),e._uU(3,"Even pauze"),e.qZA(),e.TgZ(4,"p",47),e._UZ(5,"i",48),e.qZA(),e.TgZ(6,"p",49)(7,"button",50),e._UZ(8,"i",51),e.TgZ(9,"span"),e._uU(10,"Hervatten"),e.qZA()()()()())}function L(g,S){1&g&&e._UZ(0,"i",57)}function u(g,S){1&g&&e._UZ(0,"i",58)}function T(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"i",59),e.NdJ("click",function(){e.CHM(i);const s=e.oxw().$implicit;return e.oxw().modal_values(s)}),e.qZA()}}const p=function(g){return{active:g}};function n(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"div",52),e.NdJ("click",function(){const v=e.CHM(i).$implicit;return e.oxw().current_user(v)}),e.YNc(1,L,1,0,"i",53),e.YNc(2,u,1,0,"i",54),e.TgZ(3,"span",55),e._uU(4),e.qZA(),e.YNc(5,T,1,0,"i",56),e.qZA()}if(2&g){const i=S.$implicit,r=e.oxw();e.Q6J("ngClass",e.VKq(5,p,(null==i?null:i.displayName)==(null==r.currentuser?null:r.currentuser.displayName)&&0==r.user_screen)),e.xp6(1),e.Q6J("ngIf","play"==(null==i?null:i.icon)),e.xp6(1),e.Q6J("ngIf","pause"==(null==i?null:i.icon)),e.xp6(2),e.hij(" ",null==i?null:i.displayName," "),e.xp6(1),e.Q6J("ngIf",(null==i?null:i.displayName)==(null==r.currentuser?null:r.currentuser.displayName)&&0==r.user_screen)}}const x=function(g,S,i,r){return{green:g,yellow:S,red:i,grey:r}};function f(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"div",81),e.NdJ("click",function(){const v=e.CHM(i).$implicit;return e.oxw(2).focus_button(v)}),e._UZ(1,"button",82),e.TgZ(2,"p",83),e._uU(3),e.qZA()()}if(2&g){const i=S.$implicit;e.Q6J("ngClass",e.VKq(3,p,1==(null==i?null:i.focus))),e.xp6(1),e.Q6J("ngClass",e.l5B(5,x,"green"==(null==i?null:i.eventType),"yellow"==(null==i?null:i.eventType),"red"==(null==i?null:i.eventType),"grey"==(null==i?null:i.eventType))),e.xp6(2),e.Oqu(null==i?null:i.orderID)}}function M(g,S){1&g&&(e.TgZ(0,"div",84),e._UZ(1,"app-down-time"),e.qZA())}function y(g,S){1&g&&(e.TgZ(0,"div",84),e._UZ(1,"app-unplanned-down-time"),e.qZA())}function E(g,S){1&g&&(e.TgZ(0,"div",84),e._UZ(1,"app-reports"),e.qZA())}function B(g,S){1&g&&(e.TgZ(0,"div",84),e._UZ(1,"app-project-list"),e.qZA())}const z=function(g){return{blur_button:g}};function G(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"div",84)(1,"div",85),e.NdJ("click",function(){e.CHM(i);const s=e.oxw(2),v=e.MAs(66);return s.set_flag("green",v)}),e._UZ(2,"button",86),e.TgZ(3,"div",87)(4,"div",88)(5,"span",89),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",88)(9,"div")(10,"span",90),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()(),e.TgZ(13,"div",91),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).set_flag("yellow","content")}),e._UZ(14,"button",92),e.TgZ(15,"div",87)(16,"div",88)(17,"span",89),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",88)(21,"div")(22,"span",90),e._uU(23),e.ALo(24,"translate"),e.qZA()()()()(),e.TgZ(25,"div",93),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).set_flag("red","content")}),e._UZ(26,"button",94),e.TgZ(27,"div",87)(28,"div",88)(29,"div")(30,"span",89),e._uU(31),e.ALo(32,"translate"),e.qZA()()(),e.TgZ(33,"div",88)(34,"div")(35,"span",90),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()(),e.TgZ(38,"div",95),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).set_flag("blue","content")}),e._UZ(39,"button",96),e.TgZ(40,"div",87)(41,"div",88)(42,"span",89),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",88)(46,"div")(47,"span",90),e._uU(48),e.ALo(49,"translate"),e.qZA()()()()(),e.TgZ(50,"div",97),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).open_attachment()}),e._UZ(51,"button",98),e.TgZ(52,"div",87)(53,"div",88)(54,"span",99),e._uU(55),e.ALo(56,"translate"),e.qZA()()()(),e.TgZ(57,"p",100),e._UZ(58,"img",101),e.qZA()()}if(2&g){const i=e.oxw(2);e.xp6(6),e.Oqu(e.lcZ(7,10,"HOME.GREENBUTTON")),e.xp6(5),e.Oqu(e.lcZ(12,12,"HOME.GREEN_ACT")),e.xp6(7),e.Oqu(e.lcZ(19,14,"HOME.YELLOWBUTTON")),e.xp6(5),e.Oqu(e.lcZ(24,16,"HOME.YELLOW_ACT")),e.xp6(8),e.Oqu(e.lcZ(32,18,"HOME.REDBUTTON")),e.xp6(5),e.Oqu(e.lcZ(37,20,"HOME.RED_ACT")),e.xp6(7),e.Oqu(e.lcZ(44,22,"HOME.BLUEBUTTON")),e.xp6(5),e.Oqu(e.lcZ(49,24,"HOME.BLUE_ACT")),e.xp6(2),e.Q6J("ngClass",e.VKq(28,z,null==i.attachments)),e.xp6(5),e.Oqu(e.lcZ(56,26,"HOME.INSTRUCTDOCUMENT"))}}function K(g,S){1&g&&(e.TgZ(0,"div",102),e._UZ(1,"div",103),e.qZA())}function X(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){e.CHM(i);const s=e.oxw(4);return s.stop(s.report_event,"blue")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&g&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"HOME.READYBUTTON")))}const tt=function(g){return{blue:g}};function et(g,S){if(1&g&&(e.TgZ(0,"div",106)(1,"p",107),e._uU(2),e.qZA(),e.TgZ(3,"p"),e.YNc(4,X,3,3,"button",108),e.qZA()()),2&g){const i=e.oxw(3);e.Q6J("ngClass",e.VKq(3,tt,1==i.reportstatus_flag)),e.xp6(2),e.Oqu(null==i.report_event?null:i.report_event.eventDetail),e.xp6(2),e.Q6J("ngIf",i.reportstatus_flag)}}function it(g,S){if(1&g&&(e.TgZ(0,"div",104),e.YNc(1,et,5,5,"div",105),e.qZA()),2&g){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.reportstatus_flag)}}function ot(g,S){if(1&g&&e._UZ(0,"cd-timer",110,111),2&g){const i=e.oxw(2);e.Q6J("startTime",i.starttime)}}function rt(g,S){1&g&&(e.TgZ(0,"span"),e._uU(1,"00:00:00"),e.qZA())}function nt(g,S){1&g&&(e.TgZ(0,"span",112),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&g&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"HOME.YELLOWBUTTON")))}function st(g,S){1&g&&(e.TgZ(0,"span",112),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&g&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"HOME.REDBUTTON")))}function at(g,S){if(1&g&&(e.TgZ(0,"span",113),e._uU(1),e.qZA()),2&g){const i=e.oxw(2);e.xp6(1),e.Oqu(null==i.active_order?null:i.active_order.eventDescription)}}function lt(g,S){if(1&g&&(e.TgZ(0,"span",113),e._uU(1),e.qZA()),2&g){const i=e.oxw(2);e.xp6(1),e.Oqu(null==i.active_order?null:i.active_order.eventDetail)}}const ct=function(g,S,i,r,s){return{green:g,yellow:S,red:i,grey:r,blue:s}};function dt(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"div",60)(1,"div",61)(2,"div",62),e.YNc(3,f,4,10,"div",63),e.qZA()(),e.TgZ(4,"div",64)(5,"div",65),e.YNc(6,M,2,0,"div",66),e.YNc(7,y,2,0,"div",66),e.YNc(8,E,2,0,"div",66),e.YNc(9,B,2,0,"div",66),e.YNc(10,G,59,30,"div",66),e.TgZ(11,"div",67),e.YNc(12,K,2,0,"div",68),e.YNc(13,it,2,1,"div",69),e.TgZ(14,"div",70)(15,"div",71),e.YNc(16,ot,2,1,"cd-timer",72),e.YNc(17,rt,2,0,"span",13),e.qZA(),e.YNc(18,nt,3,3,"span",73),e.YNc(19,st,3,3,"span",73),e.YNc(20,at,2,1,"span",74),e.YNc(21,lt,2,1,"span",74),e.qZA(),e.TgZ(22,"div",75),e.NdJ("click",function(){return e.CHM(i),e.oxw().delete_order()}),e.TgZ(23,"div",76),e._UZ(24,"img",77),e.qZA(),e.TgZ(25,"div",78)(26,"div",79),e._UZ(27,"i",80),e.TgZ(28,"div"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()()()()()()}if(2&g){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.orders),e.xp6(3),e.Q6J("ngIf",i.downtime_flag),e.xp6(1),e.Q6J("ngIf",i.unplanned_flag),e.xp6(1),e.Q6J("ngIf",i.reports_flag),e.xp6(1),e.Q6J("ngIf",i.project_flag),e.xp6(1),e.Q6J("ngIf",i.screen_status),e.xp6(1),e.Q6J("ngClass",e.qbA(19,ct,"green"==(null==i.active_order?null:i.active_order.eventType)&&0==i.reportstatus_flag,"yellow"==(null==i.active_order?null:i.active_order.eventType)&&0==i.reportstatus_flag,"red"==(null==i.active_order?null:i.active_order.eventType)&&0==i.reportstatus_flag,"grey"==(null==i.active_order?null:i.active_order.eventType)||""==(null==i.active_order?null:i.active_order.eventType)||null==i.active_order,1==i.reportstatus_flag)),e.xp6(1),e.Q6J("ngIf",!i.reportstatus_flag),e.xp6(1),e.Q6J("ngIf",i.reportstatus_flag),e.xp6(1),e.Q6J("ngClass",e.l5B(25,x,"green"==(null==i.active_order?null:i.active_order.eventType),"yellow"==(null==i.active_order?null:i.active_order.eventType),"red"==(null==i.active_order?null:i.active_order.eventType),null==i.active_order||"grey"==(null==i.active_order?null:i.active_order.eventType)||""==(null==i.active_order?null:i.active_order.eventType))),e.xp6(2),e.Q6J("ngIf",i.timer_flag&&"grey"!=(null==i.active_order?null:i.active_order.eventType)&&""!=(null==i.active_order?null:i.active_order.eventType)),e.xp6(1),e.Q6J("ngIf","grey"==(null==i.active_order?null:i.active_order.eventType)||""==(null==i.active_order?null:i.active_order.eventType)),e.xp6(1),e.Q6J("ngIf","yellow"==(null==i.active_order?null:i.active_order.eventType)),e.xp6(1),e.Q6J("ngIf","red"==(null==i.active_order?null:i.active_order.eventType)),e.xp6(1),e.Q6J("ngIf",null!=i.active_order||"grey"!=(null==i.active_order?null:i.active_order.eventType)&&"green"!=(null==i.active_order?null:i.active_order.eventType)&&""!=(null==i.active_order?null:i.active_order.eventType)),e.xp6(1),e.Q6J("ngIf",null!=i.active_order&&"grey"!=(null==i.active_order?null:i.active_order.eventType)&&"green"==(null==i.active_order?null:i.active_order.eventType)&&""!=(null==i.active_order?null:i.active_order.eventType)),e.xp6(8),e.Oqu(e.lcZ(30,17,"HOME.CLOSEBUTTON"))}}function ut(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"a",121),e.NdJ("click",function(){const v=e.CHM(i).$implicit;return e.oxw(2).add_user(v)}),e._uU(1),e.qZA()}if(2&g){const i=S.$implicit;e.xp6(1),e.hij("",i.firstName," ")}}function _t(g,S){if(1&g&&(e.TgZ(0,"div",114),e._UZ(1,"div",115),e.TgZ(2,"div",116)(3,"div",117)(4,"div",30)(5,"h5",118),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",33)(9,"div",119),e.YNc(10,ut,2,1,"a",120),e.qZA()()()(),e._UZ(11,"div",115),e.qZA()),2&g){const i=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,2,"HOME.CHOOSEUSER")),e.xp6(4),e.Q6J("ngForOf",i.available_users)}}function gt(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"div",30)(1,"h5",122),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",123),e.NdJ("click",function(){return e.CHM(i).$implicit.dismiss("Cross click")}),e.qZA()(),e.TgZ(5,"div",33)(6,"p",39),e._uU(7),e.qZA(),e.TgZ(8,"h5"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",40)(12,"button",124),e.NdJ("click",function(){return e.CHM(i).$implicit.close("Save click")}),e._uU(13,"Cancel"),e.qZA(),e.TgZ(14,"button",125),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return s.remove_user(s.modal_item)}),e._uU(15,"Ok"),e.qZA()()}if(2&g){const i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"HOME.USERSIGNOUTTOPIC")),e.xp6(5),e.Oqu(i.modal_item),e.xp6(2),e.hij(" ",e.lcZ(10,5,"HOME.USERSIGNOUT")," ")}}function mt(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"div",30)(1,"h5",122),e._uU(2,"An activity is already running"),e.qZA(),e.TgZ(3,"button",123),e.NdJ("click",function(){return e.CHM(i).$implicit.dismiss("Cross click")}),e.qZA()(),e.TgZ(4,"div",33)(5,"p"),e._uU(6," You can only be engaged in a value-adding activity for one order at a time."),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"form",126)(10,"div",127),e._UZ(11,"input",128),e.TgZ(12,"label",129),e._uU(13," Close "),e.qZA()(),e.TgZ(14,"div",127),e._UZ(15,"input",130),e.TgZ(16,"label",131),e._uU(17," Put on yellow (planned stoppage) "),e.qZA()(),e.TgZ(18,"div",127),e._UZ(19,"input",132),e.TgZ(20,"label",131),e._uU(21," Put on red (unplanned stoppage) "),e.qZA()()()(),e.TgZ(22,"div",40)(23,"button",124),e.NdJ("click",function(){return e.CHM(i).$implicit.close("Save click")}),e._uU(24,"Cancel"),e.qZA(),e.TgZ(25,"button",125),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSubmit_event()}),e._uU(26,"To confirm"),e.qZA()()}if(2&g){const i=e.oxw();e.xp6(8),e.AsE("What do you want to do with order ",i.green_eventdata.orderID," on workstation ",i.name,"?"),e.xp6(1),e.Q6J("formGroup",i.activityForm)}}function pt(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"span")(1,"button",136),e.NdJ("click",function(){const v=e.CHM(i).$implicit;return e.oxw(2).open_modal(v)}),e._uU(2),e.qZA(),e._UZ(3,"br"),e.qZA()}if(2&g){const i=S.$implicit;e.xp6(2),e.Oqu(i.document_type)}}function ht(g,S){if(1&g){const i=e.EpF();e.TgZ(0,"div",30)(1,"h5",122),e._uU(2,"Document"),e.qZA(),e.TgZ(3,"button",124),e.NdJ("click",function(){return e.CHM(i).$implicit.close("Save click")}),e._uU(4,"Sluiten"),e.qZA()(),e.TgZ(5,"div",33)(6,"div",65)(7,"div",133),e.YNc(8,pt,4,1,"span",9),e.qZA(),e.TgZ(9,"div",134),e._UZ(10,"iframe",135),e.qZA()()()}if(2&g){const i=e.oxw();e.xp6(8),e.Q6J("ngForOf",i.attachments),e.xp6(2),e.Q6J("src",i.src,e.uOi)}}(0,a.H)(0,1e3);let ft=(()=>{class g{constructor(i,r,s,v,A,q,V,Y,Q){if(this.sanitizer=i,this.translate=r,this.modalService=s,this.fb=v,this.toastrService=A,this.apiservice=q,this.countupTimerService=V,this.router=Y,this.myService=Q,this.timer_flag=!1,this.subject=new t.X("init ;"),this.screen_status=!0,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.greencat_flag=!1,this.user_screen=!1,this.status_screen=!0,this.orders=[],this.seconds=0,this.minutes=0,this.hours=0,this.reportstatus_flag=!1,this.workstation_orders=[],this.disablegreen=!1,this.adduserflag=!1,this.allow_greensubcat=!1,this.control=!1,this.currentlang="English",this.workstationid=localStorage.getItem("workstationID"),this.customerID=localStorage.getItem("customerID"),this.currentuser&&(this.temp_orders=localStorage.getItem(this.currentuser.userID)),this.statusflag=localStorage.getItem("status_flag"),this.timing=localStorage.getItem("timing"),this.activityForm=this.fb.group({event:["",[P.kI.required]]}),this.statusflag&&1==m.N.Deactivate_timer){let bt=new Date("2022-4-18 20:17:30");var j=new Date,U=j.getFullYear()+"-"+(j.getMonth()+1)+"-"+j.getDate(),$=j.getHours()+":"+j.getMinutes()+":"+j.getSeconds();new Date(U+" "+$).getTime(),bt.getTime()}"green"==this.statusflag?this.green_screen=!0:"yellow"==this.statusflag?this.yellow_screen=!0:this.status_screen=!0,this.lang_array=[{name:"Dutch",value:"du"},{name:"English",value:"en"}],this.translate.use("en"),this.name=localStorage.getItem("smartbox_name"),this.getusers(),this.getCategories(this.customerID),this.activities()}setLang(i){this.currentlang=i.name,this.translate.use(i.value)}activities(){this.apiservice.getgreenactivities().subscribe(i=>{i.response&&(this.attachment_flag=i.response.allow_attachments,this.allow_greensubcat="1"!=i.response.numberOfGreenActivities||1!=i.response.numberOfGreenActivities)},i=>{this.toastrService.error("Something went wrong!","Error!")})}getnotes(){this.apiservice.getnotes(this.active_order.orderID).subscribe(i=>{i?(i.forEach(r=>{let s=1e3*parseInt(r.endTime);var v=new Date(s);let A=v.getDate()<10?"0"+v.getDate():v.getDate(),q=v.getMonth()+1<10?"0"+(v.getMonth()+1):v.getMonth()+1;r.day=A+"-"+q;let V=v.getHours()<10?"0"+v.getHours():v.getHours(),Y=v.getMinutes()<10?"0"+v.getMinutes():v.getMinutes();r.timing=V+":"+Y}),localStorage.setItem("notes",JSON.stringify(i))):localStorage.setItem("notes",JSON.stringify(null))},i=>{this.toastrService.error("Something went wrong!","Error!")})}lastuser_focus(){this.active_users[this.active_users.length-1].focus=!0,this.currentuser=this.active_users[this.active_users.length-1],localStorage.setItem("current_user",JSON.stringify(this.currentuser))}lastorder_focus(){this.orders[this.orders.length-1].focus=!0,this.active_order=this.orders[this.orders.length-1],localStorage.setItem("active_order",JSON.stringify(this.active_order)),localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(this.active_order))}openLg(i){this.modalService.open(i,{size:"lg"})}ngOnDestroy(){this.timerSubscription.unsubscribe()}getavailableusers(){let i=[];this.active_users.forEach(r=>{i.push(r.userID)}),this.userIds=i.toString(),this.apiservice.getavailableuserslist(this.userIds,this.workstationid).subscribe(r=>{this.available_users=r.res?r.res:[]},r=>{this.toastrService.error("Something went wrong!","Error!")})}getorders(i,r){this.apiservice.getorder(i,r).subscribe(s=>{if(s){this.pre_orders=localStorage.getItem("orders");let v=!1;if(s&&JSON.stringify(s)==this.pre_orders?v=!0:(v=!1,localStorage.setItem("orders",JSON.stringify(s))),1!=v){this.orderss=s;let A=0;if(this.orderss.forEach(q=>{"blue"==q.eventType&&(A+=1)}),this.temp_orders=localStorage.getItem(this.currentuser.userID),this.temp_orders&&("string"==typeof this.temp_orders&&(this.temp_orders=JSON.parse(this.temp_orders)),this.temp_orders.forEach(q=>{q.focus=!1,this.orderss.push(q)})),s==[]||0==s.length||this.orderss.length==A)this.orders=[],this.add_order("s"),this.orders[0].focus=!0,this.active_order=this.orders[0],this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0,this.timer_flag=!1;else{this.screen_status=!0,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1;let V=[],Y=[];for(let U=0;U<=this.orderss.length-1;U++)this.orderss[U].focus=!1,"blue"!=this.orderss[U].eventType?V.push(this.orderss[U]):Y.push(this.orderss[U]);if(Y&&Y.length>0)for(let U=0;U<Y.length;U++)Y[U].eventDescription.includes("Signaal")&&(this.reportstatus_flag=!0,this.person=localStorage.getItem("blueperson"),this.report_event=Y[U]);else this.reportstatus_flag=!1;this.orders=V,this.orders=this.sort_by_key(this.orders,"orderID"),console.log(this.orders,"after sort"),this.current_temp_order&&this.orders.forEach(U=>{U.orderID==this.current_temp_order&&localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(U))});let Q=localStorage.getItem(this.currentuser.userID+"focus_order");Q=JSON.parse(Q),Q&&""!=Q.orderID?this.orders.forEach(U=>{U.focus=!1,U.orderID==Q.orderID&&(U.focus=!0,this.active_order=U,localStorage.setItem("active_order",JSON.stringify(this.active_order)))}):this.lastorder_focus(),this.start(this.active_order,this.active_order.eventType),this.erpattachment(this.active_order);let j=[];j[0]=this.currentuser,this.getusericon(j)}}}else this.toastrService.error("No orders for this user!","Error!")},s=>{this.toastrService.error("Something went wrong!","Error!")})}getusers(){this.apiservice.getuserlist(this.workstationid).subscribe(i=>{if("success"==i.response)if(0==i.users.length)setInterval(()=>this.getusers(),54e3),this.active_users=[];else{if(this.users=localStorage.getItem("users"),this.users=JSON.parse(this.users),this.adduserflag&&this.users){this.userarr=this.users;let s=i.users.filter(v=>!this.users.some(A=>A.userID==v.userID));this.userarr.push(s[0]),this.userarr&&(this.active_users=this.userarr,localStorage.setItem("users",JSON.stringify(this.active_users)),this.lastuser_focus())}else this.active_users=i.users,localStorage.setItem("users",JSON.stringify(i.users));this.active_users.forEach(s=>{s.focus=!1}),localStorage.getItem("current_user")||(this.currentuser=this.active_users[this.active_users.length-1],localStorage.setItem("current_user",JSON.stringify(this.currentuser)),this.lastuser_focus()),this.getorders(this.currentuser.userID,this.workstationid),this.getavailableusers(),this.getusericon(this.active_users)}else this.toastrService.error("No user found!","Error!")},i=>{this.toastrService.error("Something went wrong!","Error!")})}getusericon(i){i.forEach(r=>{this.apiservice.getorder(r.userID,this.workstationid).subscribe(s=>{if(s)if(r.icon="",s==[]||0==s.length)r.icon="pause";else{s.forEach(v=>{this.workstation_orders.push(v)}),this.myService.set(this.workstation_orders);for(let v=0;v<=s.length-1;v++){if("green"==s[v].eventType||"red"==s[v].eventType||"yellow"==s[v].eventType){r.icon="play";break}v==s.length-1&&""==r.icon&&(r.icon="pause")}}else this.toastrService.error("Something went wrong!","Error!")},s=>{this.toastrService.error(`Something went wrong! ${s}`,"Error!")})})}getcounts(i){let r=i.hours+":"+i.minutes+":"+i.seconds;this.subject.next(r),localStorage.setItem("timer",r)}stop(i,r){this.apiservice.stopevent({eventID:i.eventID,orderkey:"",deleteFromERP:!0,userID:this.currentuser.userID,workstationID:this.workstationid}).subscribe(v=>{"success"==v.response?("blue"==r&&(this.reportstatus_flag=!1),localStorage.removeItem("active_order"),localStorage.removeItem("orders"),localStorage.removeItem(this.currentuser.userID+"focus_order"),this.getorders(this.currentuser.userID,this.workstationid)):this.toastrService.error("Event is not stopped!","Error!")},v=>{this.toastrService.error("Something went wrong!","Error!")})}start(i,r){if("grey"==i.eventType||""==i.eventType)this.starttime=parseInt("00");else{this.timer_flag=!1;const U=new Date(1e3*i.monitorStartTime);var s=U.getFullYear()+"-"+(U.getMonth()+1)+"-"+U.getDate(),v=U.getHours()+":"+U.getMinutes()+":"+U.getSeconds(),A=new Date(s+" "+v);const $=new Date;var q=$.getFullYear()+"-"+($.getMonth()+1)+"-"+$.getDate(),V=$.getHours()+":"+$.getMinutes()+":"+$.getSeconds(),Y=new Date(q+" "+V);this.starttime=(Y.getTime()-A.getTime())/1e3,setTimeout(()=>{this.timer_flag=!0},100),this.disablegreen=!1}}delete_order(){var i=this;return(0,w.Z)(function*(){if(1==i.reportstatus_flag)localStorage.removeItem("active_order"),localStorage.removeItem("orders"),localStorage.removeItem(i.currentuser.userID+"focus_order"),i.stop(i.report_event,"blue"),i.stop(i.active_order,i.active_order.eventType);else if(0==i.reportstatus_flag&&null!=i.active_order&&""!=i.active_order.eventType)localStorage.removeItem("active_order"),localStorage.removeItem("orders"),localStorage.removeItem(i.currentuser.userID+"focus_order"),i.stop(i.active_order,i.active_order.eventType);else if(""==i.active_order.eventType&&1==i.active_order.focus){let r=i.active_order.orderID,s=i.orders.filter(function(A){return A.orderID!=r});i.temp_orders=localStorage.getItem(i.currentuser.userID),i.temp_orders=JSON.parse(i.temp_orders);let v=i.temp_orders.filter(function(A){return A.orderID!=r});localStorage.setItem(i.currentuser.userID,JSON.stringify(v)),i.temp_orders=localStorage.getItem(i.currentuser.userID),i.orders=s,localStorage.removeItem("active_order"),localStorage.removeItem("orders"),localStorage.removeItem(i.currentuser.userID+"focus_order")}else i.toastrService.warning("Please select an order to close","Warning");i.orders.length>0&&i.lastorder_focus()})()}timer_update(i,r,s,v){null!=this.statusflag&&this.statusflag!=v&&(s=0,r=0,i=0,localStorage.removeItem("timing"));let A=localStorage.getItem("timing");if("string"==typeof A){let q=A.split(":");s=parseInt(q[2]),r=parseInt(q[1]),i=parseInt(q[0])}else s=0,r=0,i=0;(s+=1)>=60&&(s=0,(r+=1)>=60&&(r=0,i+=1)),this.seconds=s,this.minutes=r,this.hours=i,this.timing=(i?i>9?i:"0"+i:"00")+":"+(r?r>9?r:"0"+r:"00")+":"+(s>9?s:"0"+s),localStorage.setItem("timing",this.timing)}erpattachment(i){this.apiservice.getattachment(i,this.workstationid).subscribe(r=>{r.result&&r.result.length>0?(this.attachments=r.result,this.src=this.sanitizer.bypassSecurityTrustResourceUrl("https://docs.google.com/gview?url=https://slimmerwerken.app"+r.result[0].filename)):this.attachments=void 0},r=>{this.toastrService.error("Something went wrong!","Error!")})}sort_by_key(i,r){return i.sort(function(s,v){var A=s[r],q=v[r];return A<q?-1:A>q?1:0})}open_modal(i){this.src=this.sanitizer.bypassSecurityTrustResourceUrl("https://docs.google.com/gview?url=https://slimmerwerken.app"+i.filename)}add_order(i){if(this.timer_flag=!1,"s"!=i){let r;for(let s=0;s<=this.orders.length-1;s++)if(this.orders[s].orderID==i){r=!0;break}if(1==r)this.toastrService.error("Order already exist","error");else{let s=[];this.orders.forEach(v=>{1==v.focus&&(s.push(v),v.orderID=i,this.active_order=v,localStorage.setItem("active_order",JSON.stringify(this.active_order)),localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(this.active_order)))}),this.temp_orders=localStorage.getItem(this.currentuser.userID),this.temp_orders&&(this.temp_orders=JSON.parse(this.temp_orders),this.temp_orders.forEach(v=>{s.push(v)})),localStorage.setItem(this.currentuser.userID,JSON.stringify(s)),this.screen_status=!0,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1}}else i="s"==i?"":i,this.orders.forEach(r=>{r.focus=!1}),this.orders.push({orderID:i,eventType:"",focus:!0}),this.orders.forEach(r=>{1==r.focus&&(r.orderID=i,this.active_order=r,localStorage.setItem("active_order",JSON.stringify(this.active_order)))}),this.screen_status=!1,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0}remove_user(i){this.modalService.dismissAll(),this.orders.forEach(s=>{"green"==s.eventType&&this.stop(s,"green")}),this.apiservice.deleteuser({userID:i.userID}).subscribe(s=>{"success"==s.response?(this.adduserflag=!1,localStorage.removeItem("current_user"),localStorage.removeItem("active_order"),this.toastrService.success("User unsubscribed!","success!"),this.currentuser=void 0,this.active_order=void 0,this.getusers()):this.toastrService.error("User is not unsubscribed!","Error!")},s=>{this.toastrService.error("Something went wrong!","Error!")})}modal_values(i){this.modal_item=i}add_user(i){this.apiservice.adduser({userID:i.userID}).subscribe(s=>{"success"==s.response?(this.adduserflag=!0,this.toastrService.success("User added!","success!"),this.user_screen=!1,this.status_screen=!0,localStorage.removeItem("active_order"),this.getusers()):this.toastrService.error("User is not added!","Error!")},s=>{this.toastrService.error("Something went wrong!","Error!")}),this.lastuser_focus()}realtimeorder(){this.timerSubscription=(0,a.H)(0,34e3).pipe((0,o.U)(()=>{this.currentuser&&this.getorders(this.currentuser.userID,this.workstationid)})).subscribe()}current_user(i){localStorage.removeItem("active_order"),localStorage.removeItem("orders"),3==window.event.srcElement.classList.length?this.open(this.logoutRef):(this.currentuser=i,this.user_screen=!1,this.status_screen=!0,this.reportstatus_flag=!1,localStorage.setItem("current_user",JSON.stringify(this.currentuser)),this.temp_orders=localStorage.getItem(this.currentuser.userID),this.getorders(this.currentuser.userID,this.workstationid))}focus_button(i){this.orders.forEach(r=>{r.focus=!1}),i.focus=!0,this.active_order=i,this.erpattachment(this.active_order),this.screen_status=!0,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,i.eventType&&(localStorage.setItem("active_order",JSON.stringify(this.active_order)),this.start(i,this.active_order.eventType)),localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(this.active_order)),""==i.orderID&&(this.screen_status=!1,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0),this.getnotes()}users_list(){this.user_screen=!0,this.status_screen=!1}open_attachment(){var i=this;return(0,w.Z)(function*(){yield i.erpattachment(i.active_order),i.openLg(i.contentRef)})()}ngOnInit(){localStorage.removeItem("orders");let i=localStorage.getItem("current_user");i&&(this.currentuser=JSON.parse(i));let r=localStorage.getItem("active_order");r&&(this.active_order=JSON.parse(r)),this.realtimeorder()}temp(){this.myService.myMethod().subscribe(i=>{this.data=i,"yellow"==this.data?(this.yellow_screen=!0,this.green_screen=!1,this.active_order.eventType="yellow"):"red"==this.data&&(this.active_order.eventType="red",this.red_screen=!0,this.yellow_screen=!1,this.green_screen=!1)})}sortArray(i){i.sort(this.compare)}compare(i,r){return parseInt(i.orderID)-parseInt(r.orderID)}createorder(i,r){var s=Math.floor((new Date).getTime()/1e3);let v={orderNr:this.active_order.orderID,customerRef:"",orderkey:"",userID:this.currentuser.userID,actionType:i,eventDescription:r.value?r.eventDescription:r,actionDetail:r.value?r.value:r,workstationID:this.workstationid,monitorStartTime:s};this.green_eventdata&&(v.orderNr=this.green_eventdata.orderID),this.green_eventdata=void 0,"green"==i&&(v.eventDescription=null),this.apiservice.addorder(v).subscribe(A=>{if("success"==A.response){if("blue"==i)this.toastrService.success("Created/Updated successfully","Success");else if(this.current_temp_order=A.orderID,this.toastrService.success("Created/Updated successfully","Success"),this.getorders(this.currentuser.userID,this.workstationid),""==this.active_order.eventType){this.current_temp_order=this.active_order;let q=this.active_order.orderID;this.temp_orders=localStorage.getItem(this.currentuser.userID),this.temp_orders=JSON.parse(this.temp_orders);let V=this.temp_orders.filter(function(Y){return Y.orderID!=q});localStorage.setItem(this.currentuser.userID,JSON.stringify(V))}}else this.toastrService.error("Order is not created!","Error!")},A=>{this.toastrService.error("Something went wrong!","Error!")})}onSubmit_event(){this.modalService.dismissAll(),"close"==this.activityForm.value.event?(this.stop(this.green_eventdata,"close"),this.green_eventdata=void 0,this.createorder("green","working on the order"),this.green_screen=!0,1==m.N.Deactivate_timer&&this.start(this.active_order,"green")):"yellow"==this.activityForm.value.event?(this.screen_status=!1,this.downtime_flag=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1):(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!0,this.reports_flag=!1,this.project_flag=!1)}open(i){this.modalService.open(i,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===D.If.ESC?"by pressing ESC":i===D.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}getCategories(i){this.apiservice.getcategories(i).subscribe(r=>{if(r.yellow){if(this.categories=r.yellow,this.redcategories=r.red,this.bluecategories=r.blue,this.report_blue=r.level2.blue,localStorage.setItem("categories",JSON.stringify(this.categories)),localStorage.setItem("redcategories",JSON.stringify(this.redcategories)),localStorage.setItem("bluecategories",JSON.stringify(this.bluecategories)),localStorage.setItem("reportblue",JSON.stringify(this.report_blue)),this.allow_greensubcat){let s;this.green_categories=r.green,this.green_categories.forEach(v=>{null==v.extraLevel&&(s=!0)}),s&&localStorage.setItem("greencategories",JSON.stringify(this.green_categories))}}else localStorage.setItem("categories",JSON.stringify(this.categories)),localStorage.setItem("redcategories",JSON.stringify(this.redcategories)),localStorage.setItem("bluecategories",JSON.stringify(this.bluecategories)),localStorage.setItem("bluecategories",JSON.stringify(this.report_blue)),this.toastrService.error("No categories!","Error!")},r=>{this.toastrService.error("Something went wrong!","Error!")})}set_flag(i,r){if("yellow"==i)this.screen_status=!1,this.downtime_flag=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1;else if("red"==i)this.downtime_flag=!1,this.screen_status=!1,this.workinghours_flag=!1,this.unplanned_flag=!0,this.reports_flag=!1,this.project_flag=!1;else if("screen"==i)this.downtime_flag=!1,this.screen_status=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.greencat_flag=!1;else if("blue"==i)this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!0,this.project_flag=!1;else if("workinghours_flag"==i)this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!0,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.order_numbers.forEach(s=>{s.focus="false"});else if("green"==i)if(this.green_categories)this.greencat_flag=!0;else{for(let s=0;s<=this.orders.length-1;s++){let v;if("green"==this.orders[s].eventType&&this.orders.length>1&&this.active_order.orderID!=this.orders[s].orderID){this.green_eventdata=this.orders[s],v=!0;break}v=!1}this.green_eventdata?(localStorage.setItem("green_eventdata",JSON.stringify(this.green_eventdata)),this.open(r)):(this.disablegreen=!0,this.stop(this.active_order,"green"),this.createorder(i,"working on the order"),this.green_screen=!0)}else this.myService.set(this.workstation_orders),this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0}useLanguage(i){this.translate.use(i)}logout(){var i=this;return(0,w.Z)(function*(){yield i.getusericon(i.active_users),i.workstation_orders.forEach(r=>{"green"==r.eventType&&i.stop(r,"green")}),localStorage.removeItem("smartbox_token"),localStorage.removeItem("smartbox_Authenticated"),localStorage.removeItem("role"),localStorage.removeItem("active_order"),localStorage.removeItem("current_user"),localStorage.removeItem("green_eventdata"),localStorage.removeItem("orders"),localStorage.removeItem("users"),localStorage.removeItem(i.currentuser.userID+"focus_order"),localStorage.removeItem("blueperson"),i.router.navigate([c.O.LOGIN])})()}controlStatus(){this.control=!this.control}}return g.\u0275fac=function(i){return new(i||g)(e.Y36(N.H7),e.Y36(H.sK),e.Y36(D.FF),e.Y36(P.qu),e.Y36(R._W),e.Y36(I.s),e.Y36(F.Cb),e.Y36(O.F0),e.Y36(k.D))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-dashboard"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Z,5),e.Gf(h,5),e.Gf(_,7)),2&i){let s;e.iGM(s=e.CRH())&&(r.contentRef=s.first),e.iGM(s=e.CRH())&&(r.logoutRef=s.first),e.iGM(s=e.CRH())&&(r.basicTimer=s.first)}},features:[e._Bn([b.n])],decls:69,vars:12,consts:[[1,"navbar","navbar-primary","static-top"],[1,"container-fluid"],["id","userName",1,"text-white"],[1,"d-flex","flex-row"],[1,"nav","nav-pills","nav-lang"],[1,"nav-item","dropdown","d-flex","align-items-center"],[1,"icon-global","d-inline-block"],["data-bs-toggle","dropdown","role","button","aria-expanded","false",1,"nav-link","dropdown-toggle","text-white"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],["type","button","id","menuLoginButton","data-bs-toggle","modal","data-bs-target","#example",1,"btn","p-0","pe-1","me-4"],["src","../../assets/images/logout.svg"],["id","pageOverall",1,"features-icons","bg-light","text-center"],[4,"ngIf"],[1,"container-fluid","h-100"],["id","userBar",1,"row","bg-gray","position-relative"],[1,"w-215","user-control","p-0","d-flex","justify-content-center"],[1,"btn","btn-light-blue","w-50","p-0","h-100","d-flex","justify-content-center","align-items-center",3,"click"],[1,"icon-white-doc","m-0"],[1,"icon-plus-small","ms-1","me-0"],[1,"btn","btn-light-blue","w-50","p-0","h-100","border-left","d-flex","justify-content-center","align-items-center",3,"ngClass","click"],[1,"icon-control","d-inline-block","m-0"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"addUser","d-flex","justify-content-center","align-items-center",2,"flex","0 0 107px",3,"ngClass","click"],[1,"icon-add-user","m-0"],["class","row mainScreen bg-white",4,"ngIf"],["class","row mainScreen mt-5","style","display: flex;",4,"ngIf"],["id","example","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","example",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],[2,"display","none"],[1,"modal-footer"],["logoutt",""],["content",""],["attachment",""],[1,"dropdown-item",3,"click"],["id","loading-event",1,"loading-event-pause","w-100","h-100"],[1,"font-mulish"],[1,"mt-5","text-center"],[1,"icon-loading-time","d-inline-block"],[1,"d-flex","justify-content-center"],[1,"btn","btn-loading","d-flex","justify-content-start","align-items-center"],[1,"icon-control-pause","d-inline-block"],[3,"ngClass","click"],["class","icon-play-user",4,"ngIf"],["class","fa fa-pause-circle ",4,"ngIf"],[1,"d-inline-block","text-truncate",2,"max-width","100px"],["class","icon-close-user ms-auto icon-close-user--btn","data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click",4,"ngIf"],[1,"icon-play-user"],[1,"fa","fa-pause-circle"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"icon-close-user","ms-auto","icon-close-user--btn",3,"click"],[1,"row","mainScreen","bg-white"],[1,"col-md-2","orderTabs"],[1,"scrollable"],["class","row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-10","wrapper-list-item"],[1,"row","h-100"],["class","col-md-9 screenMainSection",4,"ngIf"],[1,"col-md-3","statusScreen",3,"ngClass"],["class","row h-50",4,"ngIf"],["class","row h-50","style","border-bottom: solid 24px #fff;",4,"ngIf"],[1,"row","h-25",3,"ngClass"],[1,"col-md-12","text-align","my-auto","timer","running"],["format","hms",3,"startTime",4,"ngIf"],["class","activeColorText font-mulish font-sm",4,"ngIf"],["class","activeColorTextDescription font-mulish font-sm",4,"ngIf"],[1,"row","h-25","statusScreen--last",3,"click"],[2,"height","0"],["src","/img/icon-stop.png",1,"stopTimer"],[1,"statusScreen--last-wrapper","closeOrderBtn"],[1,"col-md-12","d-flex","flex-row"],[1,"icon-close"],[1,"row",3,"ngClass","click"],[1,"status-item",3,"ngClass"],[1,"number","m-0"],[1,"col-md-9","screenMainSection"],["data-allow-start","false","data-a","green","data-eventtype","green","data-level","1",1,"row","mb-3","actionButton","action","d-flex","flex-row",3,"click"],[1,"circle","green","ms-md-4","me-md-3"],[1,"col-md-9","col-12","my-auto","text-start"],[1,"row"],[1,"button-text-large","pl-2","ml-1","lh-1"],[1,"button-text-small","pl-2","ml-1"],[1,"row","mb-3","actionButton","d-flex","flex-row",3,"click"],[1,"circle","yellow","ms-md-4","me-md-3"],["data-a","RedStep1","data-level","1","data-eventtype","red",1,"row","mb-3","actionButton","flex-row",3,"click"],[1,"circle","red","ms-md-4","me-md-3"],["data-a","BlueStep1","data-level","1","data-eventtype","blue",1,"row","mb-3","actionButton","flex-row",3,"click"],[1,"circle","blue","ms-md-4","me-md-3"],[1,"row","mb-3","actionButton","flex-row",3,"ngClass","click"],[1,"icon-docs","ms-md-4","me-md-4","ps-md-2","border-0","bg-white","align-self-center"],[1,"button-text-large","ms-md-2","pl-2","ml-1","lh-1"],[1,"mb-0","pt-4"],["src","https://smartbox-solutions.nl/wp-content/uploads/2021/03/logo_1200x300-300x75.png","width","223"],[1,"row","h-50"],[1,"col-md-12","text-align","my-auto","blueStatusBar"],[1,"row","h-50",2,"border-bottom","solid 24px #fff"],["class","col-md-12 text-align my-auto blueStatusBar",3,"ngClass",4,"ngIf"],[1,"col-md-12","text-align","my-auto","blueStatusBar",3,"ngClass"],[1,"font-mulish","font-sm"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["format","hms",3,"startTime"],["basicTimer",""],[1,"activeColorText","font-mulish","font-sm"],[1,"activeColorTextDescription","font-mulish","font-sm"],[1,"row","mainScreen","mt-5",2,"display","flex"],[1,"col-md-1"],[1,"col-md-10","my-auto","mt-5"],[1,"modal-content","userOverview"],["id","loginModalLabel",1,"modal-title"],[1,"form-group"],["class","btn btn-primary btn-lg btn-block active","role","button","aria-pressed","true",3,"click",4,"ngFor","ngForOf"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","btn-block","active",3,"click"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],["novalidate","",3,"formGroup"],[1,"form-check"],["type","radio","name","event","formControlName","event","value","close","id","flexRadioDefault1",1,"form-check-input"],["for","flexRadioDefault1",1,"form-check-label"],["type","radio","name","event","formControlName","event","value","yellow","id","flexRadioDefault2",1,"form-check-input"],["for","flexRadioDefault2",1,"form-check-label"],["type","radio","name","event","formControlName","event","value","red","id","flexRadioDefault2",1,"form-check-input"],[1,"col-lg-2",2,"border-right","1px solid #eee"],[1,"col-lg-10","pdf-container"],["frameborder","0",2,"width","100%","height","600px",3,"src"],["aria-pressed","true",1,"width-150px","btn","active","pbm",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"nav",3)(5,"ul",4)(6,"li",5),e._UZ(7,"i",6),e.TgZ(8,"a",7),e._uU(9),e.qZA(),e.TgZ(10,"ul",8),e.YNc(11,C,3,1,"li",9),e.qZA()()(),e.TgZ(12,"button",10),e._UZ(13,"img",11),e.qZA()()()(),e.TgZ(14,"section",12),e.YNc(15,d,11,0,"div",13),e.TgZ(16,"div",14)(17,"div",15)(18,"div",16)(19,"button",17),e.NdJ("click",function(){return r.add_order("s")}),e._UZ(20,"i",18)(21,"i",19),e.qZA(),e.TgZ(22,"button",20),e.NdJ("click",function(){return r.controlStatus()}),e._UZ(23,"i",21),e.qZA()(),e.YNc(24,n,6,7,"div",22),e.TgZ(25,"div",23),e.NdJ("click",function(){return r.users_list()}),e.TgZ(26,"span"),e._UZ(27,"i",24),e.qZA()()(),e.YNc(28,dt,31,30,"div",25),e.YNc(29,_t,12,4,"div",26),e.qZA()(),e._UZ(30,"br"),e.TgZ(31,"div",27)(32,"div",28)(33,"div",29)(34,"div",30)(35,"h5",31),e._uU(36,"Log out"),e.qZA(),e._UZ(37,"button",32),e.qZA(),e.TgZ(38,"div",33)(39,"h5"),e._uU(40,"Are you sure you want to log out?"),e.qZA()(),e.TgZ(41,"div",34)(42,"button",35),e._uU(43,"Cancel"),e.qZA(),e.TgZ(44,"button",36),e.NdJ("click",function(){return r.logout()}),e._uU(45,"Confirm"),e.qZA()()()()(),e.TgZ(46,"div",37)(47,"div",28)(48,"div",29)(49,"div",30)(50,"h5",38),e._uU(51,"Confirmation "),e.qZA(),e._UZ(52,"button",32),e.qZA(),e.TgZ(53,"div",33)(54,"p",39),e._uU(55),e.qZA(),e.TgZ(56,"h5"),e._uU(57," Are you sure you want to sign out? "),e.qZA()(),e.TgZ(58,"div",40)(59,"button",35),e._uU(60,"Cancel"),e.qZA(),e.TgZ(61,"button",36),e.NdJ("click",function(){return r.remove_user(r.modal_item)}),e._uU(62,"Ok"),e.qZA()()()()(),e.YNc(63,gt,16,7,"ng-template",null,41,e.W1O),e.YNc(65,mt,27,3,"ng-template",null,42,e.W1O),e.YNc(67,ht,11,2,"ng-template",null,43,e.W1O)),2&i&&(e.xp6(3),e.Oqu(r.name),e.xp6(6),e.Oqu(r.currentlang),e.xp6(2),e.Q6J("ngForOf",r.lang_array),e.xp6(4),e.Q6J("ngIf",r.control),e.xp6(7),e.Q6J("ngClass",r.control?"pause":"play"),e.xp6(2),e.Q6J("ngForOf",r.active_users),e.xp6(1),e.Q6J("ngClass",e.VKq(10,p,1==r.user_screen)),e.xp6(3),e.Q6J("ngIf",r.status_screen),e.xp6(1),e.Q6J("ngIf",r.user_screen),e.xp6(26),e.Oqu(r.modal_item))},styles:["@import\"https://fonts.googleapis.com/css2?family=Mulish&display=swap\";body[_ngcontent-%COMP%]{overflow:hidden!important}.font-mulish[_ngcontent-%COMP%]{font-family:Mulish,sans-serif}.font-sm[_ngcontent-%COMP%]{font-size:18px}.navbar[_ngcontent-%COMP%]{height:59px;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif}.button-text-large[_ngcontent-%COMP%]{font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif}.activeColorText[_ngcontent-%COMP%]{font-size:medium}.activeColorTextDescription[_ngcontent-%COMP%]{font-size:11}.statusScreen[_ngcontent-%COMP%]{border-radius:0;color:#fff;font-weight:700;margin-left:10px;margin-top:40px;margin-right:32px;max-width:184px}@media (min-width: 1900px){.statusScreen[_ngcontent-%COMP%]{max-width:293px}}@media (max-width: 1049px){.statusScreen[_ngcontent-%COMP%]{max-width:22%}}.features-icons[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}nav[_ngcontent-%COMP%]{flex:70px 0 0;flex-grow:0;flex-shrink:0;flex-basis:70px}.navbar-primary[_ngcontent-%COMP%]{background:#0E405F}.navbar-brand[_ngcontent-%COMP%]{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}#userName[_ngcontent-%COMP%]{font-weight:400;font-size:20px;line-height:24px;padding-left:3}@media (min-width: 1900px){#userName[_ngcontent-%COMP%]{padding-left:42px}}#userBar[_ngcontent-%COMP%]{border:none;z-index:4}#userBar[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{background:#24597A;color:#fff;cursor:pointer;font-weight:700;position:relative}#userBar[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]:after{width:25px;height:12px;left:50%;margin-left:-12px;bottom:-12px;content:\"\";position:absolute;display:block;background-image:url(\"data:image/svg+xml,%3Csvg width='25' height='12' viewBox='0 0 25 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 -1.09278e-06L12.5 12L25 0L0 -1.09278e-06Z' fill='%2324597A'/%3E%3C/svg%3E%0A\")}#userBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;padding:12px 19px;color:#24597a;border-right:1px solid #24597A;border-bottom:1px solid #24597A;font-weight:400;font-size:24px;line-height:30px;cursor:pointer;background-color:#fff;max-width:215px;font-family:Mulish,sans-serif;display:flex;justify-content:start;align-items:center}@media (min-width: 1900px){#userBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:33px 28px 34px;max-width:330px}}#userBar[_ngcontent-%COMP%]   .addUser[_ngcontent-%COMP%]{background:#547C96;border-bottom:none}.icon-add-user[_ngcontent-%COMP%]{width:34px;height:25px;display:block;background-image:url(\"data:image/svg+xml,%3Csvg width='34' height='25' viewBox='0 0 34 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5455 6.25C18.5455 2.79688 15.7791 0 12.3636 0C8.94818 0 6.18182 2.79688 6.18182 6.25C6.18182 9.70312 8.94818 12.5 12.3636 12.5C15.7791 12.5 18.5455 9.70312 18.5455 6.25ZM15.4545 6.25C15.4545 7.96875 14.0636 9.375 12.3636 9.375C10.6636 9.375 9.27273 7.96875 9.27273 6.25C9.27273 4.53125 10.6636 3.125 12.3636 3.125C14.0636 3.125 15.4545 4.53125 15.4545 6.25ZM0 21.875V25H24.7273V21.875C24.7273 17.7188 16.49 15.625 12.3636 15.625C8.23727 15.625 0 17.7188 0 21.875ZM3.09091 21.875C3.4 20.7656 8.19091 18.75 12.3636 18.75C16.5209 18.75 21.2964 20.75 21.6364 21.875H3.09091ZM29.3636 17.1875V12.5H34V9.375H29.3636V4.6875H26.2727V9.375H21.6364V12.5H26.2727V17.1875H29.3636Z' fill='white'/%3E%3C/svg%3E%0A\")}.icon-close[_ngcontent-%COMP%]{width:29px;height:29px;margin-right:23px;background-image:url(\"data:image/svg+xml,%3Csvg width='29' height='29' viewBox='0 0 29 29' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M29 2.92071L26.0793 0L14.5 11.5793L2.92071 0L0 2.92071L11.5793 14.5L0 26.0793L2.92071 29L14.5 17.4207L26.0793 29L29 26.0793L17.4207 14.5L29 2.92071Z' fill='%2324597A'/%3E%3C/svg%3E%0A\")}.closeOrderBtn[_ngcontent-%COMP%]{border-radius:0;font-family:Mulish,sans-serif;font-size:18px;line-height:23px;padding:21px 26px;min-height:71px;max-height:71px}#pageOverall[_ngcontent-%COMP%]{overflow:hidden;overflow-x:hidden;overflow-y:hidden}.orderTabs[_ngcontent-%COMP%]   div.row[_ngcontent-%COMP%]{padding:10px;margin:0;height:65px;border-bottom:1px solid #24597A;display:flex;flex-wrap:wrap;align-items:center}@media (min-width: 1900px){.orderTabs[_ngcontent-%COMP%]   div.row[_ngcontent-%COMP%]{height:99px}}.red[_ngcontent-%COMP%]{background-color:#eb3324}.yellow[_ngcontent-%COMP%]{background-color:#f3a83b}.blue[_ngcontent-%COMP%]{background-color:#0022f5}.addOrder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;margin-left:60px;font-size:20px;line-height:39px}.pbm[_ngcontent-%COMP%]{background-color:#a9a9a9;width:auto;margin-top:5%}.orderTabs[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]:first-child{height:62.6px;padding:5px 10px;display:inherit;background:#547C96;margin-left:-12px;color:#fff;font-size:24px;font-weight:400;text-align:left}.orderTabs[_ngcontent-%COMP%]{background-image:initial;background-position-x:initial;background-position-y:initial;background-size:initial;background-attachment:initial;background-origin:initial;background-clip:initial;margin-right:30px;max-width:calc(18.66667% - 30px);height:100%;max-width:227px;padding-right:12px;overflow-y:scroll;background-color:transparent;min-width:227px}@media (min-width: 1900px){.orderTabs[_ngcontent-%COMP%]{max-width:340px;min-width:340px}}.w-215[_ngcontent-%COMP%]{width:215px;max-width:215px}.user-control[_ngcontent-%COMP%]{border-left:3px solid #24597A;border-right:3px solid #24597A!important}.overig[_ngcontent-%COMP%], .orderTabs[_ngcontent-%COMP%]   div.row.overig[_ngcontent-%COMP%]{margin-left:-12px}.screenMainSection[_ngcontent-%COMP%]{margin-right:auto;padding-top:40px}.orderTabs[_ngcontent-%COMP%]   button.circle[_ngcontent-%COMP%]{width:11px;height:20px;border-radius:50%;border:none;margin:auto 0 -31px}.blur_button[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.green[_ngcontent-%COMP%]{background-color:#387d23}.number[_ngcontent-%COMP%]{font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:24px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.row.actionButton[_ngcontent-%COMP%]{padding:8px;border:2px solid #24597A;min-height:87px;border-radius:0}@media (min-width: 1900px){.row.actionButton[_ngcontent-%COMP%]{min-height:113px}}.mt-6[_ngcontent-%COMP%]{margin-top:10rem}.mainScreen[_ngcontent-%COMP%]{height:calc(100% - 80px)}.orderTabs[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{margin-left:-15px;-ms-overflow-style:none;scrollbar-width:none;background:#E5E5E5;border-right:solid 3px #24597A;overflow-y:initial;height:100%;min-width:218px}@media (min-width: 1900px){.orderTabs[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{min-width:333px}}.pro_icon[_ngcontent-%COMP%]{margin-left:28px;width:0px;font-size:28px;margin-top:8px}.btn-light-blue[_ngcontent-%COMP%]{background:#547C96;border-radius:0}.btn-light-blue.border-left[_ngcontent-%COMP%]{border-left:1px solid #24597A}.icon-control[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg width='21' height='25' viewBox='0 0 21 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 24.3866H7V0H0V24.3866ZM14 0V24.3866H21V0H14Z' fill='white'/%3E%3C/svg%3E%0A\");width:21px;height:24px}.pause[_ngcontent-%COMP%]   .icon-control[_ngcontent-%COMP%], .icon-control-pause[_ngcontent-%COMP%]{width:26px;height:33px;background-image:url(\"data:image/svg+xml,%3Csvg width='26' height='33' viewBox='0 0 26 33' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.72727 8.58L17.1836 16.5L4.72727 24.42V8.58ZM0 0V33L26 16.5L0 0Z' fill='white'/%3E%3C/svg%3E%0A\")}.bg-gray[_ngcontent-%COMP%]{background:#E5E5E5}.status-item[_ngcontent-%COMP%]{width:13px;height:100px;border:none;padding:0;position:absolute;left:0;top:0;height:100%}.orderTabs[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:relative;background-color:#fff;color:#24597a}.orderTabs[_ngcontent-%COMP%]   .row.active[_ngcontent-%COMP%]{background:#24597A;color:#fff;font-weight:800}.orderTabs[_ngcontent-%COMP%]   .row.active[_ngcontent-%COMP%]:after{width:12px;height:25px;position:absolute;display:block;top:50%;margin-top:-12px;right:-12px;content:\"\";background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='25' viewBox='0 0 12 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 25L12 12.5L0 0V25Z' fill='%2324597A'/%3E%3C/svg%3E%0A\")}.icon-close-user[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(\"data:image/svg+xml,%3Csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16 2.01808L14.3886 0.381073L8 6.87105L1.61143 0.381073L0 2.01808L6.38857 8.50806L0 14.998L1.61143 16.635L8 10.1451L14.3886 16.635L16 14.998L9.61143 8.50806L16 2.01808Z' fill='white'/%3E%3C/svg%3E%0A\");display:inline-block}#userBar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:18px}@media (min-width: 1900px){#userBar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:26px}}#userBar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}#userBar[_ngcontent-%COMP%]   i.icon-close-user--btn[_ngcontent-%COMP%]{margin-right:-7px}.icon-play-user[_ngcontent-%COMP%]{width:20px;height:21px;background-image:url(\"data:image/svg+xml,%3Csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10 0.333344C4.48 0.333344 0 4.88445 0 10.4921C0 16.0997 4.48 20.6508 10 20.6508C15.52 20.6508 20 16.0997 20 10.4921C20 4.88445 15.52 0.333344 10 0.333344ZM8 15.0635V5.92065L14 10.4921L8 15.0635Z' fill='%2324597A'/%3E%3C/svg%3E%0A\");display:inline-block}.active[_ngcontent-%COMP%]   .icon-play-user[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10 0.349335C4.48 0.349335 0 4.90045 0 10.5081C0 16.1157 4.48 20.6668 10 20.6668C15.52 20.6668 20 16.1157 20 10.5081C20 4.90045 15.52 0.349335 10 0.349335ZM8 15.0795V5.93664L14 10.5081L8 15.0795Z' fill='white'/%3E%3C/svg%3E%0A\")}.icon-docs[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg width='47' height='47' viewBox='0 0 47 47' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M33.9444 0H5.22222C2.35 0 0 2.35 0 5.22222V41.7778C0 44.65 2.35 47 5.22222 47H41.7778C44.65 47 47 44.65 47 41.7778V13.0556L33.9444 0ZM41.7778 41.7778H5.22222V5.22222H31.3333V15.6667H41.7778V41.7778ZM10.4444 36.5556H36.5556V31.3333H10.4444V36.5556ZM23.5 10.4444H10.4444V15.6667H23.5V10.4444ZM10.4444 26.1111H36.5556V20.8889H10.4444V26.1111Z' fill='%2324597A'/%3E%3C/svg%3E%0A\");width:47px;height:47px;display:inline-block}.blueStatusBar[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{border-radius:0;font-family:Mulish,sans-serif;font-weight:400;font-size:18px;line-height:23px;text-align:center;color:#24597a;border:none}button.circle[_ngcontent-%COMP%]{width:65px;height:65px;position:relative;align-self:center}button.circle[_ngcontent-%COMP%]:after{position:absolute;content:\"\";width:56px;height:56px;border-radius:50%;top:4px;left:4px;border:solid 3px #fff}.icon-white-doc[_ngcontent-%COMP%]{width:24px;height:30px;background-image:url(\"data:image/svg+xml,%3Csvg width='24' height='30' viewBox='0 0 24 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 21H18V24H6V21ZM6 15H18V18H6V15ZM15 0H3C1.35 0 0 1.35 0 3V27C0 28.65 1.335 30 2.985 30H21C22.65 30 24 28.65 24 27V9L15 0ZM21 27H3V3H13.5V10.5H21V27Z' fill='white'/%3E%3C/svg%3E\");display:inline-block}.icon-plus-small[_ngcontent-%COMP%]{width:18px;height:28px;display:inline-block;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml,%3Csvg width='13' height='13' viewBox='0 0 13 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.928 12.064V7.36H0.32V4.864H4.928V0.303999H7.496V4.864H12.08V7.36H7.496V12.064H4.928Z' fill='white'/%3E%3C/svg%3E%0A\")}#pageOverall[_ngcontent-%COMP%]{height:100vh}.loading-event-pause[_ngcontent-%COMP%]{background:rgba(196,196,196,.9);position:absolute;z-index:5;top:112px}.loading-event-pause[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:64px;line-height:80px;color:#24597a;margin-top:154px}.loading-event-pause[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:290px;height:94px;background:#24597A;color:#fff;font-size:24px;line-height:29px;padding-left:49px;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;margin-top:46px}.loading-event-pause[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:29px}.icon-loading-time[_ngcontent-%COMP%]{width:82px;height:136px;background-image:url(\"data:image/svg+xml,%3Csvg width='82' height='136' viewBox='0 0 82 136' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0V40.8H0.0683349L0 40.868L27.3333 68L0 95.2L0.0683349 95.268H0V136H82V95.268H81.9317L82 95.2L54.6667 68L82 40.868L81.9317 40.8H82V0H0ZM68.3333 98.6V122.4H13.6667V98.6L41 71.4L68.3333 98.6ZM41 64.6L13.6667 37.4V13.6H68.3333V37.4L41 64.6Z' fill='%2324597A'/%3E%3C/svg%3E%0A\")}.nav-lang[_ngcontent-%COMP%]{margin-right:48px}.nav-lang[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem .8rem}.nav-lang[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:1px solid #24597A;box-shadow:0 4px 4px #00000040;border-radius:0;padding-top:18px;min-width:198px;margin-top:3px}.nav-lang[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;color:#24597a;padding:.38rem 1.28rem}.nav-lang[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#24597a}.nav-lang[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.nav-lang[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{border:none;width:12px;height:8px;margin-left:12px;vertical-align:middle;background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.59 0L6 4.58L1.41 0L0 1.41L6 7.41L12 1.41L10.59 0Z' fill='white'/%3E%3C/svg%3E%0A\")}.icon-global[_ngcontent-%COMP%]{width:20px;height:20px;background-image:url(\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.99 0C4.47 0 0 4.48 0 10C0 15.52 4.47 20 9.99 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 9.99 0ZM16.92 6H13.97C13.65 4.75 13.19 3.55 12.59 2.44C14.43 3.07 15.96 4.35 16.92 6ZM10 2.04C10.83 3.24 11.48 4.57 11.91 6H8.09C8.52 4.57 9.17 3.24 10 2.04ZM2.26 12C2.1 11.36 2 10.69 2 10C2 9.31 2.1 8.64 2.26 8H5.64C5.56 8.66 5.5 9.32 5.5 10C5.5 10.68 5.56 11.34 5.64 12H2.26ZM3.08 14H6.03C6.35 15.25 6.81 16.45 7.41 17.56C5.57 16.93 4.04 15.66 3.08 14ZM6.03 6H3.08C4.04 4.34 5.57 3.07 7.41 2.44C6.81 3.55 6.35 4.75 6.03 6ZM10 17.96C9.17 16.76 8.52 15.43 8.09 14H11.91C11.48 15.43 10.83 16.76 10 17.96ZM12.34 12H7.66C7.57 11.34 7.5 10.68 7.5 10C7.5 9.32 7.57 8.65 7.66 8H12.34C12.43 8.65 12.5 9.32 12.5 10C12.5 10.68 12.43 11.34 12.34 12ZM12.59 17.56C13.19 16.45 13.65 15.25 13.97 14H16.92C15.96 15.65 14.43 16.93 12.59 17.56ZM14.36 12C14.44 11.34 14.5 10.68 14.5 10C14.5 9.32 14.44 8.66 14.36 8H17.74C17.9 8.64 18 9.31 18 10C18 10.69 17.9 11.36 17.74 12H14.36Z' fill='white'/%3E%3C/svg%3E%0A\")}.logo-bottom[_ngcontent-%COMP%]{bottom:0;left:0;right:0;position:relative}@media (min-width: 1400px){.logo-bottom[_ngcontent-%COMP%]{position:absolute;bottom:15px}}@media (min-width: 1900px){.statusScreen--last-wrapper[_ngcontent-%COMP%]   i.icon-close[_ngcontent-%COMP%]{margin-left:72px}}.wrapper-list-item.col-md-10[_ngcontent-%COMP%]{margin-left:auto}@media (min-width: 768px){.wrapper-list-item.col-md-10[_ngcontent-%COMP%]{flex:0 0 auto;width:79.333333%}}@media (max-width: 1249px){.wrapper-list-item.col-md-10[_ngcontent-%COMP%]{flex:0 0 auto;width:77.333333%}}@media (max-width: 1140px){.wrapper-list-item.col-md-10[_ngcontent-%COMP%]{flex:0 0 auto;width:74.333333%}}@media (max-width: 1010px){.wrapper-list-item.col-md-10[_ngcontent-%COMP%]{flex:0 0 auto;width:71.333333%}}"]}),g})()},284:(W,J,l)=>{l.d(J,{Cb:()=>m,d_:()=>Z});var w=l(9808),c=l(7587),b=l(4049),a=l(5963);function t(h=0,_=b.z){return h<0&&(h=0),(0,a.H)(h,h,_)}var o=l(8306);class m{constructor(){this.timerValue={seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=_=>{if(_){let C=new Date,d=new Date(_);this.totalSeconds=Math.round((C.getTime()-d.getTime())/1e3)}return this.isTimerStart=!0,!0},this.pauseTimer=(_,C)=>{if(_&&C){let d=new Date(C),L=new Date(_);this.totalSeconds=Math.round((d.getTime()-L.getTime())/1e3)}return this.isTimerStart=!1,!1},this.stopTimer=()=>{this.isTimerStart=!1,this.totalSeconds=0},this.getTimerValue=()=>new o.y(_=>{this.intervalSubscription&&this.intervalSubscription.unsubscribe(),this.intervalSubscription=this.interval.subscribe(C=>{if(this.isTimerStart){++this.totalSeconds,this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let d=0;d=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(d)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600)),_.next(this.timerValue),_.complete()}else{if(this.totalSeconds>0){this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let d=0;d=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(d)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600))}else this.timerValue.hours="00",this.timerValue.mins="00",this.timerValue.seconds="00";_.next(this.timerValue),_.complete()}},C=>{_.error(C),_.complete()})}),this.setTimervalue=_=>{let C=_+"";return C.length<2?"0"+C:C},this.interval=t(1e3)}}m.\u0275fac=function(_){return new(_||m)},m.\u0275prov=c.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m.ngInjectableDef=(0,c.Ez6)({factory:function(){return new m},token:m,providedIn:"root"});class I{constructor(){this.onTimerStatusChange=new c.vpe,this.timerValue={seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=_=>{if(_){let C=new Date,d=new Date(_);this.totalSeconds=-1*Math.round((C.getTime()-d.getTime())/1e3)}return this.isTimerStart=!0,this.onTimerStatusChange.emit("START"),!0},this.pauseTimer=(_,C)=>{if(_&&C){let d=new Date(C),L=new Date(_);this.totalSeconds=Math.round((d.getTime()-L.getTime())/1e3)}return this.isTimerStart=!1,this.onTimerStatusChange.emit("PAUSE"),!1},this.stopTimer=()=>{this.isTimerStart=!1,this.totalSeconds=0,this.onTimerStatusChange.emit("STOP")},this.resumeTimer=()=>{this.isTimerStart=!0},this.getTimerValue=()=>new o.y(_=>{this.intervalSubscription&&this.intervalSubscription.unsubscribe(),this.intervalSubscription=this.interval.subscribe(C=>{if(this.isTimerStart&&this.totalSeconds>0){--this.totalSeconds,this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let d=0;d=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(d)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600)),_.next(this.timerValue),_.complete()}else{if(this.totalSeconds>0){this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let d=0;d=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(d)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600))}else this.timerValue.hours="00",this.timerValue.mins="00",this.timerValue.seconds="00",this.stopTimer();_.next(this.timerValue),_.complete()}},C=>{_.error(C),_.complete()})}),this.setTimervalue=_=>{let C=_+"";return C.length<2?"0"+C:C},this.interval=t(1e3)}}I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I.ngInjectableDef=(0,c.Ez6)({factory:function(){return new I},token:I,providedIn:"root"});class O{constructor(){this.timerValue={miliseconds:"00",seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=()=>(this.isTimerStart=!0,!0),this.pauseTimer=(_,C)=>{if(_&&C){let d=new Date(C),L=new Date(_);this.totalSeconds=Math.round((d.getTime()-L.getTime())/1e3)}return this.isTimerStart=!1,!1},this.stopTimer=()=>{this.isTimerStart=!1,this.totalSeconds=0},this.resumeTimer=()=>{this.isTimerStart=!0},this.getTimerValue=()=>new o.y(_=>{this.intervalSubscription&&this.intervalSubscription.unsubscribe(),this.intervalSubscription=this.interval.subscribe(C=>{if(this.isTimerStart&&this.totalSeconds>0){--this.totalSeconds,this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let d=0;d=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(d)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600)),_.next(this.timerValue),_.complete()}else{if(this.totalSeconds>0){this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let d=0;d=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(d)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600))}else this.timerValue.hours="00",this.timerValue.mins="00",this.timerValue.seconds="00";_.next(this.timerValue),_.complete()}},C=>{_.error(C),_.complete()})}),this.setTimervalue=_=>{let C=_+"";return C.length<2?"0"+C:C},this.interval=t(1e4)}}O.\u0275fac=function(_){return new(_||O)},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O.ngInjectableDef=(0,c.Ez6)({factory:function(){return new O},token:O,providedIn:"root"});let Z=(()=>{class h{}return h.\u0275fac=function(C){return new(C||h)},h.\u0275mod=c.oAB({type:h}),h.\u0275inj=c.cJS({providers:[m,I,O],imports:[[w.ez]]}),h})()},9592:(W,J,l)=>{l.d(J,{I:()=>b,d:()=>a});var w=l(7587);const c=["*"];let b=(()=>{class t{constructor(m,D){this.elt=m,this.renderer=D,this.onStart=new w.vpe,this.onStop=new w.vpe,this.onTick=new w.vpe,this.onComplete=new w.vpe,this.autoStart=!0,this.startTime=0,this.endTime=0,this.timeoutId=null,this.countdown=!1,this.format="default"}ngAfterViewInit(){const m=this.elt.nativeElement.lastChild;this.ngContentSchema=m?m.nodeValue:"",(void 0===this.autoStart||!0===this.autoStart)&&this.start()}ngOnDestroy(){this.resetTimeout()}start(){this.initVar(),this.resetTimeout(),this.computeTimeUnits(),this.startTickCount(),this.onStart.emit(this)}resume(){this.resetTimeout(),this.startTickCount()}stop(){this.clear(),this.onStop.emit(this)}reset(){this.initVar(),this.resetTimeout(),this.clear(),this.computeTimeUnits(),this.renderText()}get(){return{seconds:this.seconds,minutes:this.minutes,hours:this.hours,days:this.days,timer:this.timeoutId,tick_count:this.tickCounter}}initVar(){this.startTime=this.startTime||0,this.endTime=this.endTime||0,this.countdown=this.countdown||!1,this.tickCounter=this.startTime,this.countdown&&0===this.startTime&&(this.countdown=!1),this.format||(this.format=this.ngContentSchema.length>5?"user":"default")}resetTimeout(){this.timeoutId&&clearInterval(this.timeoutId)}renderText(){let m;if("user"===this.format){const D={seconds:this.seconds,minutes:this.minutes,hours:this.hours,days:this.days};m=this.ngContentSchema;for(const P of Object.keys(D))m=m.replace("["+P+"]",D[P].toString())}else"intelli"===this.format?(m="",this.days>0&&(m+=this.days.toString()+"day"+(this.days>1?"s":"")+" "),(this.hours>0||this.days>0)&&(m+=this.hours.toString()+"h "),(this.minutes>0||this.hours>0)&&0===this.days&&(m+=this.minutes.toString().padStart(2,"0")+"min "),0===this.hours&&0===this.days&&(m+=this.seconds.toString().padStart(2,"0")+"s")):"hms"===this.format?(m=this.hours.toString().padStart(2,"0")+":",m+=this.minutes.toString().padStart(2,"0")+":",m+=this.seconds.toString().padStart(2,"0")):"ms"===this.format?(m="",this.hours>0&&(m=this.hours.toString().padStart(2,"0")+":"),m+=this.minutes.toString().padStart(2,"0")+":",m+=this.seconds.toString().padStart(2,"0")):(m=this.days.toString()+"d ",m+=this.hours.toString()+"h ",m+=this.minutes.toString()+"m ",m+=this.seconds.toString()+"s");this.renderer.setProperty(this.elt.nativeElement,"innerHTML",m)}clear(){this.resetTimeout(),this.timeoutId=null}computeTimeUnits(){this.maxTimeUnit&&"day"!==this.maxTimeUnit?"second"===this.maxTimeUnit?(this.seconds=this.tickCounter,this.minutes=0,this.hours=0,this.days=0):"minute"===this.maxTimeUnit?(this.seconds=Math.floor(this.tickCounter%60),this.minutes=Math.floor(this.tickCounter/60),this.hours=0,this.days=0):"hour"===this.maxTimeUnit&&(this.seconds=Math.floor(this.tickCounter%60),this.minutes=Math.floor(this.tickCounter/60%60),this.hours=Math.floor(this.tickCounter/3600),this.days=0):(this.seconds=Math.floor(this.tickCounter%60),this.minutes=Math.floor(this.tickCounter/60%60),this.hours=Math.floor(this.tickCounter/3600%24),this.days=Math.floor(this.tickCounter/3600/24)),this.renderText()}startTickCount(){const m=this;m.timeoutId=setInterval(function(){let D;if(m.countdown?(D=m.tickCounter,m.startTime>m.endTime&&(D=m.tickCounter-m.endTime-1)):(D=m.tickCounter-m.startTime,m.endTime>m.startTime&&(D=m.endTime-m.tickCounter-1)),m.computeTimeUnits(),m.onTick.emit({seconds:m.seconds,minutes:m.minutes,hours:m.hours,days:m.days,timer:m.timeoutId,tick_count:m.tickCounter}),D<0)return m.stop(),void m.onComplete.emit(m);m.countdown?m.tickCounter--:m.tickCounter++},1e3)}}return t.\u0275fac=function(m){return new(m||t)(w.Y36(w.SBq),w.Y36(w.Qsj))},t.\u0275cmp=w.Xpm({type:t,selectors:[["cd-timer"]],inputs:{startTime:"startTime",endTime:"endTime",countdown:"countdown",autoStart:"autoStart",maxTimeUnit:"maxTimeUnit",format:"format"},outputs:{onStart:"onStart",onStop:"onStop",onTick:"onTick",onComplete:"onComplete"},ngContentSelectors:c,decls:1,vars:0,template:function(m,D){1&m&&(w.F$t(),w.Hsn(0))},encapsulation:2}),t})(),a=(()=>{class t{}return t.\u0275fac=function(m){return new(m||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[[]]}),t})()},5861:(W,J,l)=>{function w(b,a,t,o,m,D,P){try{var e=b[D](P),N=e.value}catch(H){return void t(H)}e.done?a(N):Promise.resolve(N).then(o,m)}function c(b){return function(){var a=this,t=arguments;return new Promise(function(o,m){var D=b.apply(a,t);function P(N){w(D,o,m,P,e,"next",N)}function e(N){w(D,o,m,P,e,"throw",N)}P(void 0)})}}l.d(J,{Z:()=>c})}}]);