"use strict";(self.webpackChunksmartbox_fe=self.webpackChunksmartbox_fe||[]).push([[321],{321:(M,u,r)=>{r.r(u),r.d(u,{LoginModule:()=>I});var c=r(9808),d=r(6609),n=r(3075),a=r(2831),l=r(193),e=r(7587),m=r(8441),f=r(72),p=r(2290),v=r(8356),b=r(8861);function x(t,s){1&t&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function C(t,s){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,x,2,0,"div",22),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.f.email.errors.required)}}function w(t,s){1&t&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function L(t,s){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,w,2,0,"div",22),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.f.passwords.errors.required)}}const h=function(t){return{"is-invalid":t}},y=[{path:"",component:(()=>{class t{constructor(i,o,g,A,T,P,k,F){this.modalService=i,this.elementRef=o,this.ngxService=g,this.spinner=A,this.toastrService=T,this.router=P,this.fb=k,this.apiservice=F,this.submitted=!1,this.show=!1,this.config=this.ngxService.getDefaultConfig(),this.registrationForm=this.fb.group({email:["",[n.kI.required]],passwords:["",[n.kI.required,n.kI.minLength(6)]]})}onSubmit(){this.registrationForm.valid?(this.ngxService.start(),this.apiservice.doLogin({email:this.registrationForm.value.email,password:this.registrationForm.value.passwords}).subscribe(o=>{this.ngxService.stop(),this.registrationForm.reset({}),1==o.login?(localStorage.setItem("smartbox_token",o.cookie),localStorage.setItem("workstationID",o.workstationID),localStorage.setItem("smartbox_name",o.workstationName),localStorage.setItem("customerID",o.customerID),localStorage.setItem("smartbox_Authenticated","true"),this.modalService.dismissAll(),this.toastrService.success("Logged-in!","Success!"),"1"==o.template?(localStorage.setItem("role","office"),this.router.navigate([a.O.HOME+"/"+a.O.LANDING_PAGE])):(localStorage.setItem("role","shopfloor"),this.router.navigate([a.O.USER+"/"+a.O.DASHBOARD]))):this.toastrService.error("Login failed!","Error!")},o=>{})):this.submitted=!0}onClick(){"password"===this.password?(this.password="text",this.show=!0):(this.password="password",this.show=!1)}get f(){return this.registrationForm.controls}open(i){this.modalService.open(i,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(i){return i===l.If.ESC?"by pressing ESC":i===l.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}ngOnInit(){this.password="password"}navigate(){this.router.navigate(["/"+a.O.FORGOTPASSWORD])}ngOndestroy(){this.elementRef.nativeElement.remove()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(l.FF),e.Y36(e.SBq),e.Y36(m.LA),e.Y36(f.t2),e.Y36(p._W),e.Y36(d.F0),e.Y36(n.qu),e.Y36(v.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:29,vars:10,consts:[[1,"main-page"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-12","col-md-6","d-flex","flex-column"],["novalidate","",1,"d-flex","flex-column","m-auto",3,"formGroup"],[1,"text-primary","mb-5"],[1,"mb-3"],["type","text","formControlName","email","required","","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"input-group","mb-1"],["formControlName","passwords","required","","placeholder","Password","aria-label","Password","aria-describedby","basic-addon1",1,"form-control",3,"type","ngClass"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[1,"mb-1","text-center"],[1,"link-primary","text-primary","activeColorText","text-decoration-none",3,"click"],[1,"text-center"],["src","https://smartbox-solutions.nl/wp-content/uploads/2021/03/logo_1200x300-300x75.png"],[1,"col-12","col-md-6","text-end","overflow-hidden","h-100vh"],["src","../assets/images/human-labour.png",1,"img-fluid","w-100"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(i,o){1&i&&(e._UZ(0,"app-header"),e.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"form",4)(6,"h1",5),e._uU(7,"Inloggen"),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"input",7),e.YNc(10,C,2,1,"div",8),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"input",10),e.YNc(13,L,2,1,"div",8),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"input",12),e.TgZ(16,"label",13),e._uU(17," Login op smart.monitor "),e.qZA()(),e.TgZ(18,"div",6)(19,"button",14),e.NdJ("click",function(){return o.onSubmit()}),e._uU(20,"Log in"),e.qZA()(),e.TgZ(21,"div",15)(22,"a",16),e.NdJ("click",function(){return o.navigate()}),e._uU(23,"Wachtwoord vergeten"),e.qZA()()(),e.TgZ(24,"p",17),e._UZ(25,"img",18),e.qZA()(),e.TgZ(26,"div",19),e._UZ(27,"img",20),e.qZA()()()(),e._UZ(28,"ngx-ui-loader")),2&i&&(e.xp6(5),e.Q6J("formGroup",o.registrationForm),e.xp6(4),e.Q6J("ngClass",e.VKq(6,h,o.submitted&&o.f.email.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.email.errors),e.xp6(2),e.Q6J("type",o.password)("ngClass",e.VKq(8,h,o.submitted&&o.f.passwords.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.passwords.errors))},directives:[b.G,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.Q7,c.mk,c.O5,m.Eo],styles:[".basic-addon1[_ngcontent-%COMP%]{cursor:pointer}.text-primary[_ngcontent-%COMP%]{color:#24597a!important}h1[_ngcontent-%COMP%]{font-weight:500;font-size:24px;line-height:29px}form[_ngcontent-%COMP%]{font-size:18px;max-width:446px;width:80%;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif}@media (min-width: 992px){form[_ngcontent-%COMP%]{width:446px}}form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#24597a;color:#fff;border:2px solid #24597A;border-radius:0;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;height:56px;margin-top:11px}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #C4C4C4;height:56px;border-radius:0;color:#000}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border:2px solid #24597A;box-shadow:none}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#24597a}.h-100vh[_ngcontent-%COMP%]{height:100vh}"]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),t})();var Z=r(1075);const O={bgsColor:"red",bgsOpacity:.5,bgsPosition:"bottom-right",bgsSize:60,bgsType:"ball-spin-clockwise",blur:5,delay:0,fastFadeOut:!0,fgsColor:"red",fgsPosition:"center-center",fgsSize:60,fgsType:"ball-spin-clockwise",gap:24,logoPosition:"center-center",logoSize:170,logoUrl:"https://raw.githubusercontent.com/t-ho/ngx-ui-loader/master/src/assets/angular.png",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(40, 40, 40, 0.8)",pbColor:"red",pbDirection:"ltr",pbThickness:3,hasProgressBar:!0,text:"",textColor:"#FFFFFF",textPosition:"center-center",maxTime:-1,minTime:300};let I=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[Z.m,c.ez,S,l.IJ,n.UX,p.Rh.forRoot({closeButton:!0,timeOut:1e4,progressBar:!0}),f.ef,m.Js.forRoot(O)]]}),t})()}}]);