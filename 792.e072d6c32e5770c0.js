"use strict";(self.webpackChunksmartbox_fe=self.webpackChunksmartbox_fe||[]).push([[792],{7353:(Q,F,c)=>{c.d(F,{s:()=>j});var w=c(2831),a=c(2340),x=c(1223),_=c(2290),t=c(8356),q=c(5425),u=c(4875),U=c(3325),J=c(7687),B=c(9808);function e(N,D){if(1&N){const M=x.EpF();x.TgZ(0,"div",7),x.NdJ("click",function(){const A=x.CHM(M).$implicit;return x.oxw().setflag("yellow",A)}),x.TgZ(1,"div",8)(2,"div",9)(3,"div",5)(4,"div")(5,"span",10),x._uU(6),x.qZA()()()()()()}if(2&N){const M=D.$implicit;x.xp6(6),x.Oqu(M.text)}}let j=(()=>{class N{constructor(M,T,O,A,f,d){this.toastrService=M,this.apiservice=T,this.router=O,this.myService=A,this.LandingPageComponent=f,this.DashboardComponent=d,this.currentuser=localStorage.getItem("current_user"),this.currentuser=JSON.parse(this.currentuser),this.customerID=localStorage.getItem("customerID"),this.categories=localStorage.getItem("categories"),this.categories=JSON.parse(this.categories)}ngOnInit(){}setflag(M,T){if(this.myService.add(M),"office"==localStorage.getItem("role"))this.LandingPageComponent.temp(),this.LandingPageComponent.start("yellow");else if(1==a.N.Deactivate_timer){let A=localStorage.getItem("active_order");A=JSON.parse(A);let f=localStorage.getItem("green_eventdata");f=JSON.parse(f),f&&this.DashboardComponent.stop(f,"yellow"),this.DashboardComponent.stop(A,"yellow"),this.DashboardComponent.createorder("yellow",T),f&&this.DashboardComponent.createorder("green","working on the order"),localStorage.removeItem("green_eventdata")}this.navigate()}navigate(){"office"==localStorage.getItem("role")?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([w.O.HOME+"/"+w.O.LANDING_PAGE])}):this.DashboardComponent.set_flag("screen","")}}return N.\u0275fac=function(M){return new(M||N)(x.Y36(_._W),x.Y36(t.s),x.Y36(q.F0),x.Y36(u.D),x.Y36(U.n),x.Y36(J.M))},N.\u0275cmp=x.Xpm({type:N,selectors:[["app-down-time"]],decls:9,vars:1,consts:[[1,"row","mb-4","yellow","titleBar"],[1,"col-md-3","text-start"],[3,"click"],[1,"fa","fa-arrow-left"],[1,"col-md-9","text-end"],[1,"row"],["class","col-md-6 mx-2",3,"click",4,"ngFor","ngForOf"],[1,"col-md-6","mx-2",3,"click"],["data-allow-start","false","data-a","yellow-5",1,"row","mb-2","actionButton","action"],[1,"col","my-auto","text-start"],[1,"button-text-small"]],template:function(M,T){1&M&&(x.TgZ(0,"div",0)(1,"div",1)(2,"a",2),x.NdJ("click",function(){return T.navigate()}),x._UZ(3,"i",3),x._uU(4,"\xa0\xa0Back"),x.qZA()(),x.TgZ(5,"div",4),x._uU(6,"Geplande stilstand. Wat is de reden?"),x.qZA()(),x.TgZ(7,"div",5),x.YNc(8,e,7,1,"div",6),x.qZA()),2&M&&(x.xp6(8),x.Q6J("ngForOf",T.categories))},directives:[B.sg],styles:[".screenMainSection[_ngcontent-%COMP%]{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.actionButton[_ngcontent-%COMP%]{padding:8px 25px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.titleBar[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:20px}.yellow[_ngcontent-%COMP%]{background-color:orange}"]}),N})()},3325:(Q,F,c)=>{c.d(F,{n:()=>C});var w=c(2831),a=c(2340),x=c(6425),_=c(2382),t=c(1223),q=c(8441),u=c(5425),U=c(4875);const J=["basicTimer"],B=function(v){return{active:v}},e=function(v,b,s){return{green:v,yellow:b,red:s}};function j(v,b){if(1&v){const s=t.EpF();t.TgZ(0,"div",76),t.NdJ("click",function(){const Z=t.CHM(s).$implicit;return t.oxw().focus_button(Z)}),t._UZ(1,"button",77),t.TgZ(2,"p",78),t._uU(3),t.qZA()()}if(2&v){const s=b.$implicit,m=t.oxw();t.Q6J("ngClass",t.VKq(3,B,"true"==s.focus)),t.xp6(1),t.Q6J("ngClass",t.kEZ(5,e,"green"==m.order_flag,"yellow"==m.order_flag,"red"==m.order_flag)),t.xp6(2),t.Oqu(s.number)}}function N(v,b){1&v&&(t.TgZ(0,"div",79),t._UZ(1,"app-working-hours"),t.qZA())}function D(v,b){1&v&&(t.TgZ(0,"div",79),t._UZ(1,"app-down-time"),t.qZA())}function M(v,b){1&v&&(t.TgZ(0,"div",79),t._UZ(1,"app-unplanned-down-time"),t.qZA())}function T(v,b){1&v&&(t.TgZ(0,"div",79),t._UZ(1,"app-reports"),t.qZA())}function O(v,b){1&v&&(t.TgZ(0,"div",79),t._UZ(1,"app-project-list"),t.qZA())}function A(v,b){if(1&v){const s=t.EpF();t.TgZ(0,"div",79)(1,"div",80),t.NdJ("click",function(){return t.CHM(s),t.oxw().set_flag("green")}),t.TgZ(2,"div",81),t._UZ(3,"button",82),t.qZA(),t.TgZ(4,"div",83)(5,"div",65)(6,"span",84),t._uU(7,"Werken aan het project"),t.qZA()(),t.TgZ(8,"div",65)(9,"div")(10,"span",85),t._uU(11,"(Waardetoevoegende of noodzakelijke activiteit)"),t.qZA()()()()(),t.TgZ(12,"div",86),t.NdJ("click",function(){return t.CHM(s),t.oxw().set_flag("yellow")}),t.TgZ(13,"div",81),t._UZ(14,"button",87),t.qZA(),t.TgZ(15,"div",83)(16,"div",65)(17,"span",84),t._uU(18,"Geplande stilstand"),t.qZA()(),t.TgZ(19,"div",65)(20,"div")(21,"span",85),t._uU(22,"(Je kunt "),t.TgZ(23,"u"),t._uU(24,"niet"),t.qZA(),t._uU(25," verder met dit project)"),t.qZA()()()()(),t.TgZ(26,"div",88),t.NdJ("click",function(){return t.CHM(s),t.oxw().set_flag("red")}),t.TgZ(27,"div",81),t._UZ(28,"button",89),t.qZA(),t.TgZ(29,"div",83)(30,"div",65)(31,"div")(32,"span",84),t._uU(33,"Ongeplande stilstand"),t.qZA()()(),t.TgZ(34,"div",65)(35,"div")(36,"span",85),t._uU(37,"(Je kunt "),t.TgZ(38,"u"),t._uU(39,"niet"),t.qZA(),t._uU(40," verder met dit project)"),t.qZA()()()()(),t.TgZ(41,"div",90),t.NdJ("click",function(){return t.CHM(s),t.oxw().set_flag("blue")}),t.TgZ(42,"div",81),t._UZ(43,"button",91),t.qZA(),t.TgZ(44,"div",83)(45,"div",65)(46,"span",84),t._uU(47,"Melding & hulpvraag"),t.qZA()(),t.TgZ(48,"div",65)(49,"div")(50,"span",85),t._uU(51,"(Je kunt "),t.TgZ(52,"u"),t._uU(53,"wel"),t.qZA(),t._uU(54," verder met dit project)"),t.qZA()()()()()()}}function f(v,b){1&v&&(t.TgZ(0,"div",92),t._UZ(1,"div",93),t.qZA())}function d(v,b){1&v&&(t.TgZ(0,"div",94),t._UZ(1,"div",93),t.qZA())}function h(v,b){if(1&v){const s=t.EpF();t.TgZ(0,"cd-timer",95,96),t.NdJ("onTick",function(g){return t.CHM(s),t.oxw().getcounts(g)}),t.qZA()}if(2&v){const s=t.oxw();t.Q6J("startTime",s.starttime)}}function o(v,b){if(1&v){const s=t.EpF();t.TgZ(0,"div",39)(1,"h5",97),t._uU(2,"Admin settings"),t.qZA(),t.TgZ(3,"button",98),t.NdJ("click",function(){return t.CHM(s).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",99)(5,"form",100)(6,"div",101)(7,"div",102)(8,"label",103),t._uU(9,"Deactivate Timer"),t.qZA()(),t.TgZ(10,"div",102),t._UZ(11,"input",104),t.TgZ(12,"label",105),t._uU(13,"Yes"),t.qZA()(),t.TgZ(14,"div",102),t._UZ(15,"input",104),t.TgZ(16,"label",105),t._uU(17,"No"),t.qZA()()(),t.TgZ(18,"div",106)(19,"div",102)(20,"label",103),t._uU(21,"Default language"),t.qZA()(),t.TgZ(22,"div",102)(23,"select",107)(24,"option",108),t._uU(25,"Select language "),t.qZA(),t.TgZ(26,"option",109),t._uU(27,"English"),t.qZA(),t.TgZ(28,"option",110),t._uU(29,"Dutch"),t.qZA(),t.TgZ(30,"option",111),t._uU(31,"French"),t.qZA()()()(),t.TgZ(32,"div",112)(33,"div",102)(34,"label",103),t._uU(35,"Maximum orders"),t.qZA()(),t.TgZ(36,"div",102)(37,"select",107)(38,"option",108),t._uU(39,"Select maximum order "),t.qZA(),t.TgZ(40,"option",109),t._uU(41,"1"),t.qZA(),t.TgZ(42,"option",110),t._uU(43,"2"),t.qZA(),t.TgZ(44,"option",111),t._uU(45,"3"),t.qZA()()()()()(),t.TgZ(46,"div",55)(47,"button",113),t.NdJ("click",function(){return t.CHM(s).$implicit.close("Save click")}),t._uU(48,"Cancel"),t.qZA(),t.TgZ(49,"button",114),t._uU(50,"To confirm"),t.qZA()()}}let C=(()=>{class v{constructor(s,m,g,Z,k){if(this.fb=s,this.modalService=m,this.ngxService=g,this.router=Z,this.myService=k,this.screen_status=!0,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.reportstatus_flag=!1,this.deactivate_timer=a.N.Deactivate_timer,this.name=localStorage.getItem("smartbox_name"),this.registrationForm=this.fb.group({timer:["",[_.kI.required]],passwords:["",[_.kI.required,_.kI.minLength(6)]]}),this.order_numbers=[{number:1,focus:"false"},{number:2,focus:"false"},{number:3,focus:"false"},{number:4,focus:"false"}],this.statusflag=localStorage.getItem("status_flag"),this.timing=localStorage.getItem("timing"),this.statusflag){this.start(this.statusflag);let W=new Date("2022-4-18 20:17:30");var y=new Date,L=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),H=y.getHours()+":"+y.getMinutes()+":"+y.getSeconds();new Date(L+" "+H).getTime(),W.getTime()}"green"==this.statusflag?this.green_screen=!0:"yellow"==this.statusflag?this.yellow_screen=!0:this.screen_status=!0,this.order_numbers.forEach(W=>{"true"==W.focus&&(this.active_order=W)})}start(s){if(this.statusflag=localStorage.getItem("status_flag"),this.statusflag==s||"null"==this.statusflag||null==this.statusflag){this.timer_flag=!0;const g=localStorage.getItem("timer");if("null"==this.statusflag||null==this.statusflag)this.timer_flag=!0,this.starttime="00",localStorage.getItem("timer"),localStorage.setItem("status_flag",s);else{let Z=g.split(":"),k=parseInt(Z[2]),y=60*parseInt(Z[1]),L=60*parseInt(Z[0]);this.starttime=k+y+L}}else this.statusflag!=s?(this.timer_flag=!1,this.starttime="00",localStorage.setItem("status_flag",s),localStorage.removeItem("timing"),setTimeout(()=>{this.timer_flag=!0},1e3)):this.timer_flag=!1;localStorage.setItem("status_flag",s),this.order_flag=s}focus_button(s){this.order_numbers.forEach(m=>{m.focus="false"}),s.focus="true",this.active_order=s,this.screen_status=!0,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1}ngOnInit(){this.temp()}temp(){this.myService.myMethod().subscribe(s=>{this.data=s,"yellow"==this.data?(this.yellow_screen=!0,this.green_screen=!1):"red"==this.data&&(this.red_screen=!0,this.yellow_screen=!1,this.green_screen=!1)})}open(s){this.modalService.open(s,{ariaLabelledBy:"modal-basic-title"}).result.then(m=>{this.closeResult=`Closed with: ${m}`},m=>{this.closeResult=`Dismissed ${this.getDismissReason(m)}`})}getDismissReason(s){return s===x.If.ESC?"by pressing ESC":s===x.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${s}`}logout(){localStorage.removeItem("smartbox_token"),localStorage.removeItem("smartbox_Authenticated"),localStorage.removeItem("role"),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([w.O.LOGIN])})}getcounts(s){localStorage.setItem("timer",s.hours+":"+s.minutes+":"+s.seconds)}set_flag(s){"yellow"==s?(this.screen_status=!1,this.downtime_flag=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1):"red"==s?(this.downtime_flag=!1,this.screen_status=!1,this.workinghours_flag=!1,this.unplanned_flag=!0,this.reports_flag=!1,this.project_flag=!1):"blue"==s?(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!0,this.project_flag=!1):"workinghours_flag"==s?(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!0,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.order_numbers.forEach(m=>{m.focus="false"})):"green"==s?(this.green_screen=!0,this.start(s)):(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0)}}return v.\u0275fac=function(s){return new(s||v)(t.Y36(_.qu),t.Y36(x.FF),t.Y36(q.LA),t.Y36(u.F0),t.Y36(U.D))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-landing-page"]],viewQuery:function(s,m){if(1&s&&t.Gf(J,7),2&s){let g;t.iGM(g=t.CRH())&&(m.basicTimer=g.first)}},features:[t._Bn([])],decls:131,vars:20,consts:[[1,"navbar","navbar-light","bg-light","static-top"],[1,"container"],[1,"navbar-brand"],["src","https://smartbox-solutions.nl/wp-content/uploads/2021/03/logo_1200x300-300x75.png"],[1,"mr-3","form-check","form-switch"],[1,"btn","btn-primary","mx-1","my-auto",3,"click"],["aria-hidden","true",1,"fa","fa-cog",2,"font-size","22px"],["id","userName",1,"mr-3"],["type","button","id","menuLoginButton","data-bs-toggle","modal","data-bs-target","#example",1,"btn","btn-primary"],["id","pageOverall",1,"features-icons","bg-light","text-center"],[1,"container","h-100"],["id","userBar",1,"row","mb-4"],["data-userid","1",1,"active"],[1,"fa","fa-play-circle"],["data-userid","1",1,"row","mainScreen",2,"display","flex"],[1,"col-md-2","orderTabs"],[1,"row","project"],[1,"fa","fa-folder","pro_icon",3,"click"],[1,"scrollable"],["class","row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row","overig",2,"display","flex",3,"ngClass","click"],["class","col-md-8 screenMainSection",4,"ngIf"],[1,"col-md-2","statusScreen","grey",3,"ngClass"],["class","row h-50","style","background-color: rgb(40, 134, 56);",4,"ngIf"],["class","row h-50",4,"ngIf"],[1,"row","h-25"],["data-a","33","data-timerid","16","data-eventid","46838",1,"col-md-12","text-align","my-auto","timer","running"],["format","hms",3,"startTime","onTick",4,"ngIf"],[1,"activeColorText"],[1,"activeColorTextDescription"],[1,"row","h-25","statusScreen--last"],[2,"height","0"],[1,"stopTimer"],[1,"statusScreen--last-wrapper","closeOrderBtn"],[1,"col-md-12"],[1,"fa","fa-times","mt-1"],["id","ordernumber_selectModal_1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","ordernumbermodal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","ordernumber_selectModalLabel",1,"modal-title"],[1,"orderCounter"],[1,"orderCounterValue"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","60045","data-orderkey","60045",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","60045",1,"btn","green"],[1,"fas","fa-play"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","60089","data-orderkey","60089",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","60089",1,"btn","green"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","61008","data-orderkey","61008",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","61008",1,"btn","green"],["data-toggle","button","data-orderstatus","","data-duedate","","data-spoed","","data-material","","data-orderid","61015","data-orderkey","61015",1,"btn",2,"position","relative"],["data-customerref","","data-zaaglijstid","","data-orderkey","61015",1,"btn","green"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn-dark","reprint",2,"display","none","color","#fff","padding","6px 12px","border","1px solid #343a40","border-radius","4px"],["type","button","data-dismiss","modal",1,"btn","darkblue","minimize",2,"display","none","color","#fff"],["type","button",1,"btn","btn-primary"],[1,"ordernumbermodal_docked",2,"display","none"],[1,"orderid"],[1,"btn"],["data-userid","0",1,"row","mainScreen",2,"display","none"],[1,"footer","py-3","bg-light"],[1,"row"],[1,"col-lg-6","text-muted","text-start"],[1,"col-lg-6","text-muted","text-end"],["id","example","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","example",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"click"],["content",""],[1,"row",3,"ngClass","click"],[1,"circle",3,"ngClass"],[1,"number"],[1,"col-md-8","screenMainSection"],["data-allow-start","false","data-a","green","data-eventtype","green","data-level","1",1,"row","mb-2","actionButton","action","d-flex","flex-row",3,"click"],[1,"col-md-3","col-12"],[1,"circle","green"],[1,"col-md-9","col-12","my-auto"],[1,"button-text-large","pl-2","ml-1"],[1,"button-text-small","pl-2","ml-1"],["data-a","YellowStep1","data-level","1","data-eventtype","yellow",1,"row","mb-2","actionButton","d-flex","flex-row",3,"click"],[1,"circle","yellow"],["data-a","RedStep1","data-level","1","data-eventtype","red",1,"row","mb-2","actionButton","flex-row",3,"click"],[1,"circle","red"],["data-a","BlueStep1","data-level","1","data-eventtype","blue",1,"row","mb-2","actionButton","flex-row",3,"click"],[1,"circle","blue"],[1,"row","h-50",2,"background-color","rgb(40, 134, 56)"],[1,"col-md-12","text-align","my-auto","blueStatusBar"],[1,"row","h-50"],["format","hms",3,"startTime","onTick"],["basicTimer",""],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-2"],["formGroup","registrationForm","novalidate",""],[1,"row","g-3","align-items-center"],[1,"col-auto"],["for","inputPassword6",1,"col-form-label"],["type","radio","name","timer",1,"form-check-input"],[1,"mx-2"],[1,"row","align-items-center"],["id","lang",1,"form-select","form-select-sm"],["selected","","disabled",""],["value","1"],["value","2"],["value","3"],[1,"row","gap-1","align-items-center"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary"]],template:function(s,m){if(1&s){const g=t.EpF();t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(g);const k=t.MAs(130);return m.open(k)}),t._UZ(7,"i",6),t.qZA(),t.TgZ(8,"span",7),t._uU(9),t.qZA(),t.TgZ(10,"button",8),t._uU(11,"Log out"),t.qZA()()()(),t.TgZ(12,"section",9)(13,"div",10)(14,"div",11)(15,"div",12),t._UZ(16,"i",13),t.TgZ(17,"span"),t._uU(18),t.qZA()()(),t.TgZ(19,"div",14)(20,"div",15)(21,"div",16),t._uU(22," Project: "),t.TgZ(23,"i",17),t.NdJ("click",function(){return m.set_flag("project")}),t.qZA()(),t.TgZ(24,"div",18),t.YNc(25,j,4,9,"div",19),t.qZA(),t.TgZ(26,"div",20),t.NdJ("click",function(){return m.set_flag("workinghours_flag")}),t.TgZ(27,"span"),t._uU(28,"Werkuren"),t.qZA()()(),t.YNc(29,N,2,0,"div",21),t.YNc(30,D,2,0,"div",21),t.YNc(31,M,2,0,"div",21),t.YNc(32,T,2,0,"div",21),t.YNc(33,O,2,0,"div",21),t.YNc(34,A,55,0,"div",21),t.TgZ(35,"div",22),t.YNc(36,f,2,0,"div",23),t.YNc(37,d,2,0,"div",24),t.TgZ(38,"div",25)(39,"div",26),t.YNc(40,h,2,1,"cd-timer",27),t.qZA(),t.TgZ(41,"span",28),t._uU(42,"Werken aan de order"),t.qZA(),t._UZ(43,"span",29),t.qZA(),t.TgZ(44,"div",30)(45,"div",31),t._UZ(46,"img",32),t.qZA(),t.TgZ(47,"div",33)(48,"div",34)(49,"div"),t._uU(50,"Sluiten"),t.qZA(),t._UZ(51,"i",35),t.qZA()()()(),t.TgZ(52,"div",36)(53,"div",37)(54,"div",38)(55,"div",39),t._UZ(56,"h5",40),t.TgZ(57,"div",41)(58,"div",42),t._uU(59,"4"),t.qZA(),t._uU(60," order(s) "),t.qZA(),t.TgZ(61,"button",43)(62,"span",44),t._uU(63,"\xd7"),t.qZA()()(),t.TgZ(64,"div",45)(65,"div")(66,"button",46),t._uU(67," 60045 "),t.qZA(),t.TgZ(68,"button",47),t._UZ(69,"i",48),t._uU(70," START"),t.qZA()(),t.TgZ(71,"div")(72,"button",49),t._uU(73," 60089 "),t.qZA(),t.TgZ(74,"button",50),t._UZ(75,"i",48),t._uU(76," START"),t.qZA()(),t.TgZ(77,"div")(78,"button",51),t._uU(79," 61008 "),t.qZA(),t.TgZ(80,"button",52),t._UZ(81,"i",48),t._uU(82," START"),t.qZA()(),t.TgZ(83,"div")(84,"button",53),t._uU(85," 61015 "),t.qZA(),t.TgZ(86,"button",54),t._UZ(87,"i",48),t._uU(88," START"),t.qZA()()(),t.TgZ(89,"div",55)(90,"button",56),t._uU(91,"Annuleren"),t.qZA(),t.TgZ(92,"button",57),t._uU(93,"Print sticker"),t.qZA(),t.TgZ(94,"button",58),t._uU(95,"Stilstand / hulpvraag"),t.qZA(),t.TgZ(96,"button",59),t._uU(97,"Kiezen"),t.qZA()()()()(),t.TgZ(98,"div",60)(99,"div"),t._UZ(100,"i",13),t.qZA(),t._UZ(101,"div",61),t.TgZ(102,"div")(103,"button",62),t._uU(104,"Terug"),t.qZA()()()(),t._UZ(105,"div",63),t.qZA()(),t._UZ(106,"br"),t.TgZ(107,"footer",64)(108,"div",1)(109,"div",65)(110,"p",66),t._uU(111,"\xa9 smart.box 2022. All Rights Reserved."),t.qZA(),t.TgZ(112,"p",67),t._uU(113,"Version: 1.0.94"),t.qZA()()()(),t.TgZ(114,"div",68)(115,"div",69)(116,"div",38)(117,"div",39)(118,"h5",70),t._uU(119,"Log out"),t.qZA(),t._UZ(120,"button",71),t.qZA(),t.TgZ(121,"div",45)(122,"h5"),t._uU(123,"Are you sure you want to log out?"),t.qZA()(),t.TgZ(124,"div",72)(125,"button",73),t._uU(126,"Cancel"),t.qZA(),t.TgZ(127,"button",74),t.NdJ("click",function(){return m.logout()}),t._uU(128,"Confirm"),t.qZA()()()()(),t.YNc(129,o,51,0,"ng-template",null,75,t.W1O)}2&s&&(t.xp6(9),t.Oqu(m.name),t.xp6(9),t.Oqu(m.name),t.xp6(7),t.Q6J("ngForOf",m.order_numbers),t.xp6(1),t.Q6J("ngClass",t.VKq(14,B,1==m.workinghours_flag)),t.xp6(3),t.Q6J("ngIf",m.workinghours_flag),t.xp6(1),t.Q6J("ngIf",m.downtime_flag),t.xp6(1),t.Q6J("ngIf",m.unplanned_flag),t.xp6(1),t.Q6J("ngIf",m.reports_flag),t.xp6(1),t.Q6J("ngIf",m.project_flag),t.xp6(1),t.Q6J("ngIf",m.screen_status),t.xp6(1),t.Q6J("ngClass",t.kEZ(16,e,1==m.green_screen,1==m.yellow_screen,1==m.red_screen)),t.xp6(1),t.Q6J("ngIf",m.reportstatus_flag),t.xp6(1),t.Q6J("ngIf",!m.reportstatus_flag),t.xp6(3),t.Q6J("ngIf",m.timer_flag))},styles:["#pageOverall[_ngcontent-%COMP%]{overflow-x:scroll}.statusScreen[_ngcontent-%COMP%]{border-radius:0;color:#fff;font-weight:700;margin-left:28px;max-width:calc(18.66667% - 60px)}.features-icons[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:1rem}nav[_ngcontent-%COMP%]{flex:70px 0 0;flex-grow:0;flex-shrink:0;flex-basis:70px}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#000000e6}.navbar-brand[_ngcontent-%COMP%]{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}#userName[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-right:19px}.orderTabs[_ngcontent-%COMP%]   div.row[_ngcontent-%COMP%]{padding:15px 10px;margin:0;height:77px;border-bottom:1px solid #fff;display:flex;flex-wrap:wrap}.red[_ngcontent-%COMP%]{background-color:red}.yellow[_ngcontent-%COMP%]{background-color:orange}.project[_ngcontent-%COMP%]{margin-left:-12px}.orderTabs[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]:first-child{height:62.6px;padding:5px 10px;display:inherit;background:#547C96;margin-left:-12px;color:#fff;font-size:24px;font-weight:400;text-align:left}.orderTabs[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding-bottom:14px;background:rgba(84,124,150,.5);background-image:initial;background-position-x:initial;background-position-y:initial;background-size:initial;background-attachment:initial;background-origin:initial;background-clip:initial;background-color:#547c9680;margin-right:30px;max-width:calc(18.66667% - 30px);padding-right:0}.overig[_ngcontent-%COMP%]{margin-left:-12px}.footer[_ngcontent-%COMP%]{position:fixed;height:5px;bottom:6px;margin-top:5px;width:100%}.orderTabs[_ngcontent-%COMP%]   div.row.overig[_ngcontent-%COMP%]{margin-left:-12px}.screenMainSection[_ngcontent-%COMP%]{max-width:65%;margin-right:auto}.orderTabs[_ngcontent-%COMP%]   button.circle[_ngcontent-%COMP%]{width:11px;height:20px;border-radius:50%;border:none;margin:auto 0 -31px}.green[_ngcontent-%COMP%]{background-color:green}.number[_ngcontent-%COMP%]{margin-top:10px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.row.actionButton[_ngcontent-%COMP%]{padding:8px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.mainScreen[_ngcontent-%COMP%]{height:calc(100% - 60px)}.orderTabs[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 363px);margin-left:-15px;-ms-overflow-style:none;scrollbar-width:none}.pro_icon[_ngcontent-%COMP%]{margin-left:28px;width:0px;font-size:28px;margin-top:8px}"]}),v})()},1966:(Q,F,c)=>{c.d(F,{X:()=>N});var w=c(2382),a=c(2831),x=c(6425),_=c(1223),t=c(4875),q=c(2290),u=c(8356),U=c(7687),J=c(5425),B=c(9808);function e(D,M){1&D&&(_.TgZ(0,"span",25),_._uU(1,"In progress"),_.qZA())}function j(D,M){if(1&D){const T=_.EpF();_.TgZ(0,"button",23),_.NdJ("click",function(){const f=_.CHM(T).$implicit;return _.oxw().sendorder(f)}),_._uU(1),_.YNc(2,e,2,0,"span",24),_.qZA()}if(2&D){const T=M.$implicit;_.xp6(1),_.hij(" ",T.orderID," "),_.xp6(1),_.Q6J("ngIf",T.isExist)}}let N=(()=>{class D{constructor(T,O,A,f,d,h,o){this.modalService=T,this.service=O,this.toastrService=A,this.apiservice=f,this.DashboardComponent=d,this.router=h,this.fb=o,this.submitted=!1,this.userData={order:""},this.orderlist=[{order:"6332",focus:!0},{order:"5232",focus:!1}],this.form=new w.cw({order:new w.NI("",w.kI.required)}),this.service.get().subscribe(C=>{this.workstationorders=C})}ngOnInit(){this.geterp()}geterp(){this.apiservice.geterp().subscribe(T=>{if(0!=T.response){this.orderlist=T.response.ordernumber_list.ordernummers;for(let O=0;O<this.orderlist.length-1;O++){this.orderlist[O].isExist=!1;for(let A=0;A<=this.workstationorders.length-1;A++)if(this.workstationorders[A].orderID==this.orderlist[O].orderID){this.orderlist[O].isExist=!0;break}}}else this.toastrService.error("No ERP orders available","Error!"),this.orderlist=[]},T=>{this.toastrService.error("Something went wrong!","Error!")})}navigate(){"office"==localStorage.getItem("role")?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([a.O.HOME+"/"+a.O.LANDING_PAGE])}):this.DashboardComponent.set_flag("screen","")}orders(){this.form.valid&&this.DashboardComponent.add_order(this.form.value.order)}sendorder(T){this.order_to_pass=T}open(T){this.modalService.open(T,{ariaLabelledBy:"modal-basic-title"}).result.then(O=>{this.closeResult=`Closed with: ${O}`},O=>{this.closeResult=`Dismissed ${this.getDismissReason(O)}`})}getDismissReason(T){return T===x.If.ESC?"by pressing ESC":T===x.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${T}`}onSubmit(){this.DashboardComponent.add_order(this.order_to_pass.orderID),this.DashboardComponent.erpattachment(this.order_to_pass)}}return D.\u0275fac=function(T){return new(T||D)(_.Y36(x.FF),_.Y36(t.D),_.Y36(q._W),_.Y36(u.s),_.Y36(U.M),_.Y36(J.F0),_.Y36(w.qu))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-project-list"]],decls:33,vars:2,consts:[[1,"row","h-100"],[1,"col-md-1"],[1,"col-md-10","my-auto"],[1,"modal-content","orderNumberInput"],[1,"modal-header"],["id","loginModalLabel",1,"modal-title"],["novalidate","",3,"formGroup","keyup.enter"],[1,"modal-body"],[1,"form-group"],["type","number","name","order","formControlName","order","placeholder","Project number",1,"form-control","form-control-lg","inputOrderNumber",2,"display","inline-block","width","calc(100% - 120px)","width","calc(100% - 120px)","width","calc(100% - 120px)","width","calc(100% - 120px)"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","form-control-lg",2,"margin-bottom","5px"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"d-grid","gap-2"],["class","btn btn-light","style","background-color:#EFEFEF;","type","button",3,"click",4,"ngFor","ngForOf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-light",2,"background-color","#EFEFEF",3,"click"],["style","color: green;background-color: white;",4,"ngIf"],[2,"color","green","background-color","white"]],template:function(T,O){1&T&&(_.TgZ(0,"div",0),_._UZ(1,"div",1),_.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),_._uU(6,"Which project are you going to work on?"),_.qZA()(),_.TgZ(7,"form",6),_.NdJ("keyup.enter",function(){return O.orders()}),_.TgZ(8,"div",7)(9,"div",8),_._UZ(10,"input",9),_.TgZ(11,"button",10),_._uU(12,"Selecting"),_.qZA()()()(),_.TgZ(13,"div",11)(14,"button",12),_.NdJ("click",function(){return O.navigate()}),_._uU(15,"Cancel"),_.qZA(),_.TgZ(16,"button",13),_.NdJ("click",function(){return O.orders()}),_._uU(17,"Confirm"),_.qZA()()()()(),_.TgZ(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",4)(22,"h5",17),_._uU(23,"Order"),_.qZA(),_._UZ(24,"button",18),_.qZA(),_.TgZ(25,"div",7)(26,"div",19),_.YNc(27,j,3,2,"button",20),_.qZA()(),_.TgZ(28,"div",11)(29,"button",21),_._uU(30,"Cancel"),_.qZA(),_.TgZ(31,"button",22),_.NdJ("click",function(){return O.onSubmit()}),_._uU(32,"Confirm"),_.qZA()()()()()),2&T&&(_.xp6(7),_.Q6J("formGroup",O.form),_.xp6(20),_.Q6J("ngForOf",O.orderlist))},directives:[w._Y,w.JL,w.sg,w.wV,w.Fj,w.JJ,w.u,B.sg,B.O5],styles:[""]}),D})()},3068:(Q,F,c)=>{c.d(F,{y:()=>b});var w=c(2831),a=c(2382),x=c(2340),_=c(6425),t=c(1223),q=c(8441),u=c(4875),U=c(2290),J=c(8356),B=c(5425),e=c(3325),j=c(7687),N=c(9808);function D(s,m){1&s&&(t.TgZ(0,"div",24),t._uU(1,"What is the message?"),t.qZA())}function M(s,m){1&s&&(t.TgZ(0,"div",24),t._uU(1,"Who do you want to send the notification to?"),t.qZA())}function T(s,m){if(1&s){const g=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t.NdJ("click",function(){const y=t.CHM(g).$implicit,L=t.oxw(2),H=t.MAs(11),V=t.MAs(13);return L.open(H,V,y)}),t.TgZ(2,"div",29)(3,"div",30)(4,"div")(5,"span",31),t._uU(6),t.qZA()()()()()()}if(2&s){const g=m.$implicit;t.xp6(6),t.hij(" ",g.text," ")}}function O(s,m){if(1&s&&(t.TgZ(0,"div",25),t.YNc(1,T,7,1,"div",26),t.qZA()),2&s){const g=t.oxw();t.xp6(1),t.Q6J("ngForOf",g.categories)}}function A(s,m){1&s&&(t.TgZ(0,"strong",35),t._uU(1,"Recente meldingen:"),t.qZA())}function f(s,m){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const g=m.$implicit;t.xp6(1),t.HOy("Op ",g.day," om ",g.timing," door ",g.displayName,": ",g.fkEventDetail,"")}}function d(s,m){if(1&s&&(t.TgZ(0,"div",32),t.YNc(1,A,2,0,"strong",33),t.TgZ(2,"div",34)(3,"ul",35),t.YNc(4,f,2,4,"li",36),t.qZA()()()),2&s){const g=t.oxw();t.xp6(1),t.Q6J("ngIf",g.notes.length>0),t.xp6(3),t.Q6J("ngForOf",g.notes)}}function h(s,m){if(1&s){const g=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t.NdJ("click",function(){const y=t.CHM(g).$implicit;return t.oxw(2).create_alert(y)}),t.TgZ(2,"div",29)(3,"div",30)(4,"div")(5,"span",31),t._uU(6),t.qZA()()()()()()}if(2&s){const g=m.$implicit;t.xp6(6),t.hij(" ",g.text," ")}}function o(s,m){if(1&s&&(t.TgZ(0,"div",25),t.YNc(1,h,7,1,"div",26),t.qZA()),2&s){const g=t.oxw();t.xp6(1),t.Q6J("ngForOf",g.reports)}}function C(s,m){if(1&s){const g=t.EpF();t.TgZ(0,"div",12)(1,"h5",37),t._uU(2,"Would you like to send message for a direct request for help?"),t.qZA(),t.TgZ(3,"button",38),t.NdJ("click",function(){return t.CHM(g).$implicit.dismiss("Cross click")}),t.qZA()(),t._UZ(4,"div",15),t.TgZ(5,"div",39)(6,"button",40),t.NdJ("click",function(){return t.CHM(g),t.oxw().backToDashbord()}),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",41),t.NdJ("click",function(){const y=t.CHM(g).$implicit;return t.oxw().submit(),y.close("Save click")}),t._uU(9,"To confirm"),t.qZA()()}}function v(s,m){if(1&s){const g=t.EpF();t.TgZ(0,"div",12)(1,"h5",37),t._uU(2,"Would you like to send a message for a direct request for help?"),t.qZA(),t.TgZ(3,"button",38),t.NdJ("click",function(){return t.CHM(g).$implicit.dismiss("Cross click")}),t.qZA()(),t._UZ(4,"div",15),t.TgZ(5,"div",39)(6,"button",40),t.NdJ("click",function(){return t.CHM(g).$implicit.close("Save click")}),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",41),t.NdJ("click",function(){return t.CHM(g),t.oxw().submit()}),t._uU(9,"To confirm"),t.qZA()()}}let b=(()=>{class s{constructor(g,Z,k,y,L,H,V,G,W){this.ngxService=g,this.modalService=Z,this.myService=k,this.toastrService=y,this.apiservice=L,this.router=H,this.fb=V,this.LandingPageComponent=G,this.DashboardComponent=W,this.categories_flag=!1,this.alert_flag=!1,this.currentuser=localStorage.getItem("current_user"),this.workstationid=localStorage.getItem("workstationID"),this.customerID=localStorage.getItem("customerID"),this.currentuser=JSON.parse(this.currentuser),this.downtimeform=this.fb.group({info:["",[a.kI.required]]}),this.categories=localStorage.getItem("bluecategories"),this.notes=localStorage.getItem("notes"),this.notes=JSON.parse(this.notes),this.reports=localStorage.getItem("reportblue"),this.categories=JSON.parse(this.categories),this.categories&&(this.categories_flag=!0,this.reports=JSON.parse(this.reports))}ngOnInit(){}submit(){this.categories_flag=!1,this.alert_flag=!0,this.modalService.dismissAll()}open(g,Z,k){this.dropdown_values=[],null!=k.extraLevel?(k.extraLevel.split(";").forEach(L=>{this.dropdown_values.push(L)}),this.modalService.open(g,{ariaLabelledBy:"modal-basic-title"}).result.then(L=>{this.closeResult=`Closed with: ${L}`},L=>{this.closeResult=`Dismissed ${this.getDismissReason(L)}`})):this.modalService.open(g,{ariaLabelledBy:"modal-basic-title"}).result.then(y=>{this.closeResult=`Closed with: ${y}`},y=>{this.closeResult=`Dismissed ${this.getDismissReason(y)}`}),this.createorder("blue",k)}backToDashbord(){console.log("in back"),this.modalService.dismissAll(),this.DashboardComponent.set_flag("screen","")}createorder(g,Z){var k=Math.floor((new Date).getTime()/1e3);this.apiservice.addorder({orderNr:this.DashboardComponent.active_order.orderID,customerRef:"",orderkey:"",userID:this.currentuser.userID,actionType:g,eventDescription:Z.text,actionDetail:Z.value,workstationID:this.workstationid,monitorStartTime:k}).subscribe(L=>{this.DashboardComponent.getorders(this.DashboardComponent.currentuser.userID,this.workstationid)},L=>{this.toastrService.error("Something went wrong!","Error!")})}getDismissReason(g){return g===_.If.ESC?"by pressing ESC":g===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${g}`}setflag(g,Z){if(this.myService.add(g),"office"==localStorage.getItem("role"))this.LandingPageComponent.temp(),this.LandingPageComponent.start("blue");else if(this.DashboardComponent.temp(),1==x.N.Deactivate_timer){let y=localStorage.getItem("active_order");y=JSON.parse(y),this.DashboardComponent.createorder("blue",Z)}}create_alert(g){let Z=localStorage.getItem("active_order");Z=JSON.parse(Z);let k={userID:this.currentuser.userID,workstationID:this.workstationid,orderNr:Z.orderID,role:g.value};this.ngxService.start(),this.apiservice.createalert(k).subscribe(y=>{this.ngxService.stop(),this.downtimeform.reset({}),y?(localStorage.setItem("blueperson",y),this.backToDashbord(),this.DashboardComponent.getorders(this.DashboardComponent.currentuser.userID,this.workstationid),this.toastrService.success("Alert created","Success!")):this.toastrService.error("Alert is not created!","Error!")},y=>{})}navigate(){"office"==localStorage.getItem("role")?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([w.O.HOME+"/"+w.O.LANDING_PAGE])}):this.DashboardComponent.set_flag("screen","content")}}return s.\u0275fac=function(g){return new(g||s)(t.Y36(q.LA),t.Y36(_.FF),t.Y36(u.D),t.Y36(U._W),t.Y36(J.s),t.Y36(B.F0),t.Y36(a.qu),t.Y36(e.n),t.Y36(j.M))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-reports"]],decls:48,vars:5,consts:[["data-level","1",1,"row","mb-4","blue","titleBar"],[1,"col-md-3","text-start"],[3,"click"],[1,"fa","fa-arrow-left"],["class","col-md-9 text-end",4,"ngIf"],["class","row","id","prob_class",4,"ngIf"],["class","row recenteMeldingen",4,"ngIf"],["content",""],["report",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["type","text","placeholder","Items",1,"form-control"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button",1,"btn","btn-outline-primary"],["id","example_Modal","tabindex","-1","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],["id","ModalLabel",1,"modal-title"],["type","text",1,"form-control"],[1,"col-md-9","text-end"],["id","prob_class",1,"row"],["class","col-md-6 mx-2",4,"ngFor","ngForOf"],[1,"col-md-6","mx-2"],[1,"row","mb-2","actionButton",3,"click"],[1,"col","my-auto","text-start"],[1,"row"],[1,"button-text-small"],[1,"row","recenteMeldingen"],["class","text-start",4,"ngIf"],[1,"col-md-8"],[1,"text-start"],[4,"ngFor","ngForOf"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(g,Z){1&g&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return Z.navigate()}),t._UZ(3,"i",3),t._uU(4," \xa0\xa0Back "),t.qZA()(),t.YNc(5,D,2,0,"div",4),t.YNc(6,M,2,0,"div",4),t.qZA(),t.YNc(7,O,2,1,"div",5),t.YNc(8,d,5,2,"div",6),t.YNc(9,o,2,1,"div",5),t.YNc(10,C,10,0,"ng-template",null,7,t.W1O),t.YNc(12,v,10,0,"ng-template",null,8,t.W1O),t.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"h5",13),t._uU(19,"Additional Information"),t.qZA(),t._UZ(20,"button",14),t.qZA(),t.TgZ(21,"div",15)(22,"form")(23,"div",16),t._UZ(24,"input",17),t.qZA()()(),t.TgZ(25,"div",18)(26,"button",19),t._uU(27,"Cancel"),t.qZA(),t.TgZ(28,"button",20),t._uU(29,"Confirm"),t.qZA()()()()(),t.TgZ(30,"div",21)(31,"div",10)(32,"div",11)(33,"div",12)(34,"h5",22),t._uU(35,"Additional Information"),t.qZA(),t._UZ(36,"button",14),t.qZA(),t.TgZ(37,"div",15)(38,"form")(39,"div",16)(40,"label"),t._uU(41,"Would you like to send a message for a direct request for help?"),t.qZA(),t._UZ(42,"input",23),t.qZA()()(),t.TgZ(43,"div",18)(44,"button",19),t._uU(45,"New"),t.qZA(),t.TgZ(46,"button",20),t._uU(47,"And"),t.qZA()()()()()),2&g&&(t.xp6(5),t.Q6J("ngIf",Z.categories_flag),t.xp6(1),t.Q6J("ngIf",Z.alert_flag),t.xp6(1),t.Q6J("ngIf",Z.categories_flag),t.xp6(1),t.Q6J("ngIf",!Z.alert_flag),t.xp6(1),t.Q6J("ngIf",Z.alert_flag))},directives:[N.O5,N.sg,a._Y,a.JL,a.F],styles:[".screenMainSection[_ngcontent-%COMP%]{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.actionButton[_ngcontent-%COMP%]{padding:8px 25px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.titleBar[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:20px}.blue[_ngcontent-%COMP%]{background-color:#00f}.prob_class[_ngcontent-%COMP%]{margin-right:-44px}.recenteMeldingen[_ngcontent-%COMP%]{margin-top:28%}"]}),s})()},1722:(Q,F,c)=>{c.d(F,{i:()=>f});var w=c(2831),a=c(2382),x=c(6425),_=c(2340),t=c(1223),q=c(8441),u=c(2290),U=c(8356),J=c(7687),B=c(5425),e=c(4875),j=c(3325),N=c(9808);const D=["textboxmodal"];function M(d,h){if(1&d){const o=t.EpF();t.TgZ(0,"div",24)(1,"div",25),t.NdJ("click",function(){const b=t.CHM(o).$implicit,s=t.oxw(),m=t.MAs(10);return s.open(m,b)}),t.TgZ(2,"div",26)(3,"div",5)(4,"div")(5,"span",27),t._uU(6),t.qZA()()()()()()}if(2&d){const o=h.$implicit;t.xp6(6),t.hij(" ",o.text," ")}}function T(d,h){if(1&d&&(t.TgZ(0,"option",36),t._uU(1),t.qZA()),2&d){const o=h.$implicit;t.s9C("value",o),t.xp6(1),t.Oqu(o)}}function O(d,h){if(1&d){const o=t.EpF();t.TgZ(0,"div",12)(1,"h5",28),t._uU(2,"Additional Information"),t.qZA(),t.TgZ(3,"button",29),t.NdJ("click",function(){return t.CHM(o).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",15)(5,"form",30),t.NdJ("keyup.enter",function(){return t.CHM(o),t.oxw().submit_dropdown()}),t.TgZ(6,"div",16)(7,"select",31)(8,"option",18),t._uU(9,"select "),t.qZA(),t.YNc(10,T,2,2,"option",32),t.qZA()()()(),t.TgZ(11,"div",33)(12,"button",34),t.NdJ("click",function(){return t.CHM(o).$implicit.close("Save click")}),t._uU(13,"Cancel"),t.qZA(),t.TgZ(14,"button",35),t.NdJ("click",function(){return t.CHM(o),t.oxw().submit_dropdown()}),t._uU(15,"To confirm"),t.qZA()()}if(2&d){const o=t.oxw();t.xp6(5),t.Q6J("formGroup",o.dropdownform),t.xp6(5),t.Q6J("ngForOf",o.dropdown_values)}}function A(d,h){if(1&d){const o=t.EpF();t.TgZ(0,"div",12)(1,"h5",28),t._uU(2,"Additional Information"),t.qZA(),t.TgZ(3,"button",29),t.NdJ("click",function(){return t.CHM(o).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",15)(5,"form",30),t.NdJ("keyup.enter",function(){return t.CHM(o),t.oxw().submit_dropdown()}),t.TgZ(6,"div",16)(7,"div",37),t._UZ(8,"input",38),t.qZA()()()(),t.TgZ(9,"div",33)(10,"button",34),t.NdJ("click",function(){return t.CHM(o).$implicit.close("Save click")}),t._uU(11,"Cancel"),t.qZA(),t.TgZ(12,"button",35),t.NdJ("click",function(){return t.CHM(o),t.oxw().submit_dropdown()}),t._uU(13,"To confirm"),t.qZA()()}if(2&d){const o=t.oxw();t.xp6(5),t.Q6J("formGroup",o.dropdownform),t.xp6(3),t.s9C("placeholder",o.placeholder)}}let f=(()=>{class d{constructor(o,C,v,b,s,m,g,Z,k){this.ngxService=o,this.modalService=C,this.toastrService=v,this.apiservice=b,this.DashboardComponent=s,this.router=m,this.fb=g,this.myService=Z,this.LandingPageComponent=k,this.dropdown_values=[],this.values=[],this.values_b=[],this.array=[],this.add_info_modal=!1,this.currentuser=localStorage.getItem("current_user"),this.currentuser=JSON.parse(this.currentuser),this.customerID=localStorage.getItem("customerID"),this.categories=localStorage.getItem("redcategories"),this.categories=JSON.parse(this.categories),this.dropdownform=this.fb.group({additional_info:["",[a.kI.required]]}),this.downtimeform=this.fb.group({info:["",[a.kI.required]]})}submit_dropdown(){let o=localStorage.getItem("active_order");if(o=JSON.parse(o),this.dropdownform.valid){let C={eventID:o.eventID,updateFields:[{Fieldname:this.dropdownform.value.additional_info}]};this.modalService.dismissAll(),this.setflag("red",this.eventDesc),this.ngxService.start(),this.apiservice.addformfield(C).subscribe(v=>{this.ngxService.stop(),this.downtimeform.reset({}),"success"==v.response?this.toastrService.success("Added","Success!"):this.toastrService.error("Not added!","Error!")},v=>{})}else this.toastrService.error("Please select any value!","Error!")}open(o,C){if(this.eventDesc=C,this.dropdown_values=[],null!=C.extraLevel){let v=C.extraLevel.split("mailto");if("Instructie|"==v[0]){if(v.forEach(b=>{b.split(/[<>]/).forEach(m=>{this.values_b.push(m)})}),this.values_b.forEach(b=>{if(/^[A-Za-z0-9&; ]+$/.test(b)&&""!=b&&";"!=b){let g=b.substring(0,b.indexOf(" &"));g=""==g?b:g,this.values.push(g)}}),this.values.length>1)for(let b=0;b<this.values.length-1;b++)this.values[b]&&b+1<=this.values.length-1&&(this.dropdown_values.push(this.values[b]+" & "+this.values[b+1]),b+=1);else this.dropdown_values=this.values;this.modalService.open(o,{ariaLabelledBy:"modal-basic-title"}).result.then(b=>{this.closeResult=`Closed with: ${b}`},b=>{this.closeResult=`Dismissed ${this.getDismissReason(b)}`})}else C.extraLevel.includes(";")?(C.extraLevel.split(";").forEach(s=>{this.dropdown_values.push(s)}),this.modalService.open(o,{ariaLabelledBy:"modal-basic-title"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})):(console.log(C.extraLevel,"item"),this.openmd(this.contentRef),this.placeholder=C.extraLevel)}else this.setflag("red",this.eventDesc)}openmd(o){this.modalService.open(o,{ariaLabelledBy:"modal-basic-title"}).result.then(C=>{this.closeResult=`Closed with: ${C}`},C=>{this.closeResult=`Dismissed ${this.getDismissReason(C)}`})}getDismissReason(o){return o===x.If.ESC?"by pressing ESC":o===x.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${o}`}ngOnInit(){this.getCategories(this.customerID)}getCategories(o){this.apiservice.getcategories(o).subscribe(C=>{C.red?this.categories=C.red:this.toastrService.error("No categories!","Error!")},C=>{this.toastrService.error("Something went wrong!","Error!")})}navigate(){"office"==localStorage.getItem("role")?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([w.O.HOME+"/"+w.O.LANDING_PAGE])}):this.DashboardComponent.set_flag("screen","")}setflag(o,C){if(this.myService.add(o),"office"==localStorage.getItem("role"))this.LandingPageComponent.temp();else if(1==_.N.Deactivate_timer){let b=localStorage.getItem("green_eventdata");b=JSON.parse(b);let s=localStorage.getItem("active_order");s=JSON.parse(s),b&&this.DashboardComponent.stop(b,"red"),this.DashboardComponent.stop(s,"red"),this.DashboardComponent.createorder("red",C),b&&this.DashboardComponent.createorder("green","working on the order"),localStorage.removeItem("green_eventdata")}this.navigate()}}return d.\u0275fac=function(o){return new(o||d)(t.Y36(q.LA),t.Y36(x.FF),t.Y36(u._W),t.Y36(U.s),t.Y36(J.M),t.Y36(B.F0),t.Y36(a.qu),t.Y36(e.D),t.Y36(j.n))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-unplanned-down-time"]],viewQuery:function(o,C){if(1&o&&t.Gf(D,5),2&o){let v;t.iGM(v=t.CRH())&&(C.contentRef=v.first)}},decls:35,vars:1,consts:[[1,"row","mb-4","red","titleBar"],[1,"col-md-3","text-start"],[3,"click"],[1,"fa","fa-arrow-left"],[1,"col-md-9","text-end"],[1,"row"],["class","col-md-6 mx-2",4,"ngFor","ngForOf"],["content",""],["textboxmodal",""],["id","example_Modal","tabindex","-1","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","ModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["aria-label",".form-select-sm example",1,"form-select","form-select-lg"],["selected","","disabled",""],["value","1"],["value","2"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button",1,"btn","btn-outline-primary"],[1,"col-md-6","mx-2"],[1,"row","mb-2","actionButton",3,"click"],[1,"col","my-auto","text-start"],[1,"button-text-small"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup","keyup.enter"],["formControlName","additional_info","aria-label",".form-select-sm example",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"value"],[1,"form-group"],["type","text","formControlName","additional_info",1,"form-control",3,"placeholder"]],template:function(o,C){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return C.navigate()}),t._UZ(3,"i",3),t._uU(4," \xa0\xa0Back "),t.qZA()(),t.TgZ(5,"div",4),t._uU(6," Unplanned downtime. What is the reason? "),t.qZA()(),t.TgZ(7,"div",5),t.YNc(8,M,7,1,"div",6),t.qZA(),t.YNc(9,O,16,2,"ng-template",null,7,t.W1O),t.YNc(11,A,14,2,"ng-template",null,8,t.W1O),t.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"h5",13),t._uU(18,"Additional Information"),t.qZA(),t._UZ(19,"button",14),t.qZA(),t.TgZ(20,"div",15)(21,"form")(22,"div",16)(23,"select",17)(24,"option",18),t._uU(25,"Open this select menu"),t.qZA(),t.TgZ(26,"option",19),t._uU(27,"Test 1"),t.qZA(),t.TgZ(28,"option",20),t._uU(29,"Test 2"),t.qZA()()()()(),t.TgZ(30,"div",21)(31,"button",22),t._uU(32,"Cancel"),t.qZA(),t.TgZ(33,"button",23),t._uU(34,"Confirm"),t.qZA()()()()()),2&o&&(t.xp6(8),t.Q6J("ngForOf",C.categories))},directives:[N.sg,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,a.Fj,a.F],styles:[".screenMainSection[_ngcontent-%COMP%]{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.actionButton[_ngcontent-%COMP%]{padding:8px 25px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.titleBar[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:20px}.yellow[_ngcontent-%COMP%]{background-color:red}.prob_class[_ngcontent-%COMP%]{margin-right:-44px}"]}),d})()},7687:(Q,F,c)=>{function w(l,S,r,i,n,p,I){try{var E=l[p](I),Y=E.value}catch(R){return void r(R)}E.done?S(Y):Promise.resolve(Y).then(i,n)}function a(l){return function(){var S=this,r=arguments;return new Promise(function(i,n){var p=l.apply(S,r);function I(Y){w(p,i,n,I,E,"next",Y)}function E(Y){w(p,i,n,I,E,"throw",Y)}I(void 0)})}}c.d(F,{M:()=>ht});var x=c(2831),_=c(3325),t=c(5963),q=c(1135),u=c(4004),U=c(2340),J=c(6425),B=c(2382),e=c(1223),j=c(2290),N=c(8356),D=c(284),M=c(5425),T=c(4875);const O=["attachment"],A=["logoutt"],f=["basicTimer"];function d(l,S){1&l&&e._UZ(0,"i",37)}function h(l,S){1&l&&e._UZ(0,"i",38)}function o(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"i",39),e.NdJ("click",function(){e.CHM(r);const n=e.oxw().$implicit;return e.oxw().modal_values(n)}),e.qZA()}}const C=function(l){return{active:l}};function v(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",32),e.NdJ("click",function(n){const I=e.CHM(r).$implicit;return e.oxw().current_user(I,n)}),e.YNc(1,d,1,0,"i",33),e.YNc(2,h,1,0,"i",34),e.TgZ(3,"span",35),e._uU(4),e.qZA(),e.YNc(5,o,1,0,"i",36),e.qZA()}if(2&l){const r=S.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(5,C,(null==r?null:r.displayName)==(null==i.currentuser?null:i.currentuser.displayName)&&0==i.user_screen)),e.xp6(1),e.Q6J("ngIf","play"==(null==r?null:r.icon)),e.xp6(1),e.Q6J("ngIf","pause"==(null==r?null:r.icon)),e.xp6(2),e.hij(" ",null==r?null:r.displayName," "),e.xp6(1),e.Q6J("ngIf",(null==r?null:r.displayName)==(null==i.currentuser?null:i.currentuser.displayName)&&0==i.user_screen)}}const b=function(l,S,r,i){return{green:l,yellow:S,red:r,grey:i}};function s(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",61),e.NdJ("click",function(){const p=e.CHM(r).$implicit;return e.oxw(2).focus_button(p)}),e._UZ(1,"button",62),e.TgZ(2,"p",63),e._uU(3),e.qZA()()}if(2&l){const r=S.$implicit;e.Q6J("ngClass",e.VKq(3,C,1==(null==r?null:r.focus))),e.xp6(1),e.Q6J("ngClass",e.l5B(5,b,"green"==(null==r?null:r.eventType),"yellow"==(null==r?null:r.eventType),"red"==(null==r?null:r.eventType),"grey"==(null==r?null:r.eventType))),e.xp6(2),e.Oqu(null==r?null:r.orderID)}}function m(l,S){1&l&&(e.TgZ(0,"div",64),e._UZ(1,"app-down-time"),e.qZA())}function g(l,S){1&l&&(e.TgZ(0,"div",64),e._UZ(1,"app-unplanned-down-time"),e.qZA())}function Z(l,S){1&l&&(e.TgZ(0,"div",64),e._UZ(1,"app-reports"),e.qZA())}function k(l,S){1&l&&(e.TgZ(0,"div",64),e._UZ(1,"app-working-on"),e.qZA())}function y(l,S){1&l&&(e.TgZ(0,"div",64),e._UZ(1,"app-project-list"),e.qZA())}const L=function(l){return{blur_button:l}};function H(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",79),e.NdJ("click",function(){return e.CHM(r),e.oxw(3).open_attachment()}),e.TgZ(1,"div",66),e._UZ(2,"img",80),e.qZA(),e.TgZ(3,"div",68)(4,"div",69)(5,"span",70),e._uU(6,"Instructies & documenten"),e.qZA()()()()}if(2&l){const r=e.oxw(3);e.Q6J("ngClass",e.VKq(1,L,null==r.attachments))}}function V(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",64)(1,"div",65),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(2),p=e.MAs(55);return n.set_flag("green",p)}),e.TgZ(2,"div",66),e._UZ(3,"button",67),e.qZA(),e.TgZ(4,"div",68)(5,"div",69)(6,"span",70),e._uU(7,"Werken aan het project"),e.qZA()(),e.TgZ(8,"div",69)(9,"div")(10,"span",71),e._uU(11,"(Waardetoevoegende of noodzakelijke activiteit)"),e.qZA()()()()(),e.TgZ(12,"div",72),e.NdJ("click",function(){return e.CHM(r),e.oxw(2).set_flag("yellow","content")}),e.TgZ(13,"div",66),e._UZ(14,"button",73),e.qZA(),e.TgZ(15,"div",68)(16,"div",69)(17,"span",70),e._uU(18,"Geplande stilstand"),e.qZA()(),e.TgZ(19,"div",69)(20,"div")(21,"span",71),e._uU(22,"(Je kunt "),e.TgZ(23,"u"),e._uU(24,"niet"),e.qZA(),e._uU(25," verder met dit project)"),e.qZA()()()()(),e.TgZ(26,"div",74),e.NdJ("click",function(){return e.CHM(r),e.oxw(2).set_flag("red","content")}),e.TgZ(27,"div",66),e._UZ(28,"button",75),e.qZA(),e.TgZ(29,"div",68)(30,"div",69)(31,"div")(32,"span",70),e._uU(33,"Ongeplande stilstand"),e.qZA()()(),e.TgZ(34,"div",69)(35,"div")(36,"span",71),e._uU(37,"(Je kunt "),e.TgZ(38,"u"),e._uU(39,"niet"),e.qZA(),e._uU(40," verder met dit project)"),e.qZA()()()()(),e.TgZ(41,"div",76),e.NdJ("click",function(){return e.CHM(r),e.oxw(2).set_flag("blue","content")}),e.TgZ(42,"div",66),e._UZ(43,"button",77),e.qZA(),e.TgZ(44,"div",68)(45,"div",69)(46,"span",70),e._uU(47,"Melding & hulpvraag"),e.qZA()(),e.TgZ(48,"div",69)(49,"div")(50,"span",71),e._uU(51,"(Je kunt "),e.TgZ(52,"u"),e._uU(53,"wel"),e.qZA(),e._uU(54," verder met dit project)"),e.qZA()()()()(),e.YNc(55,H,7,3,"div",78),e.qZA()}if(2&l){const r=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,L,1==r.disablegreen)),e.xp6(54),e.Q6J("ngIf",r.attachment_flag)}}function G(l,S){1&l&&(e.TgZ(0,"div",81),e._UZ(1,"div",82),e.qZA())}function W(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(4);return n.stop(n.report_event,"blue")}),e._uU(1,"Gereed"),e.qZA()}}const X=function(l){return{blue:l}};function tt(l,S){if(1&l&&(e.TgZ(0,"div",84)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e.YNc(4,W,2,0,"button",85),e.qZA()()),2&l){const r=e.oxw(3);e.Q6J("ngClass",e.VKq(3,X,1==r.reportstatus_flag)),e.xp6(2),e.Oqu(r.report_event.eventDetail),e.xp6(2),e.Q6J("ngIf",r.reportstatus_flag)}}function et(l,S){if(1&l&&(e.TgZ(0,"div",81),e.YNc(1,tt,5,5,"div",83),e.qZA()),2&l){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.reportstatus_flag)}}function rt(l,S){if(1&l&&e._UZ(0,"cd-timer",87,88),2&l){const r=e.oxw(2);e.Q6J("startTime",r.starttime)}}function it(l,S){1&l&&(e.TgZ(0,"span"),e._uU(1,"00:00:00"),e.qZA())}function ot(l,S){1&l&&(e.TgZ(0,"span",89),e._uU(1,"Planned down time"),e.qZA())}function nt(l,S){1&l&&(e.TgZ(0,"span",89),e._uU(1,"Unplanned down time"),e.qZA())}function st(l,S){if(1&l&&(e.TgZ(0,"span",90),e._uU(1),e.qZA()),2&l){const r=e.oxw(2);e.xp6(1),e.Oqu(null==r.active_order?null:r.active_order.eventDescription)}}const at=function(l,S,r,i,n){return{green:l,yellow:S,red:r,grey:i,blue:n}};function lt(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div",42),e._uU(3," Order: "),e.qZA(),e.TgZ(4,"div",43),e.YNc(5,s,4,10,"div",44),e.TgZ(6,"div",45),e.NdJ("click",function(){return e.CHM(r),e.oxw().add_order("s")}),e.TgZ(7,"span"),e._UZ(8,"i",12),e.qZA()()()(),e.YNc(9,m,2,0,"div",46),e.YNc(10,g,2,0,"div",46),e.YNc(11,Z,2,0,"div",46),e.YNc(12,k,2,0,"div",46),e.YNc(13,y,2,0,"div",46),e.YNc(14,V,56,4,"div",46),e.TgZ(15,"div",47),e.YNc(16,G,2,0,"div",48),e.YNc(17,et,2,1,"div",48),e.TgZ(18,"div",49)(19,"div",50),e.YNc(20,rt,2,1,"cd-timer",51),e.YNc(21,it,2,0,"span",52),e.qZA(),e.YNc(22,ot,2,0,"span",53),e.YNc(23,nt,2,0,"span",53),e.YNc(24,st,2,1,"span",54),e.qZA(),e.TgZ(25,"div",55),e.NdJ("click",function(){return e.CHM(r),e.oxw().delete_order()}),e.TgZ(26,"div",56),e._UZ(27,"img",57),e.qZA(),e.TgZ(28,"div",58)(29,"div",59)(30,"div"),e._uU(31,"Sluiten"),e.qZA(),e._UZ(32,"i",60),e.qZA()()()()()}if(2&l){const r=e.oxw();e.xp6(5),e.Q6J("ngForOf",r.orders),e.xp6(4),e.Q6J("ngIf",r.downtime_flag),e.xp6(1),e.Q6J("ngIf",r.unplanned_flag),e.xp6(1),e.Q6J("ngIf",r.reports_flag),e.xp6(1),e.Q6J("ngIf",r.greencat_flag&&r.allow_greensubcat),e.xp6(1),e.Q6J("ngIf",r.project_flag),e.xp6(1),e.Q6J("ngIf",r.screen_status),e.xp6(1),e.Q6J("ngClass",e.qbA(16,at,"green"==(null==r.active_order?null:r.active_order.eventType)&&0==r.reportstatus_flag,"yellow"==(null==r.active_order?null:r.active_order.eventType)&&0==r.reportstatus_flag,"red"==(null==r.active_order?null:r.active_order.eventType)&&0==r.reportstatus_flag,"grey"==(null==r.active_order?null:r.active_order.eventType)||""==(null==r.active_order?null:r.active_order.eventType)||null==r.active_order,1==r.reportstatus_flag)),e.xp6(1),e.Q6J("ngIf",!r.reportstatus_flag),e.xp6(1),e.Q6J("ngIf",r.reportstatus_flag),e.xp6(1),e.Q6J("ngClass",e.l5B(22,b,"green"==(null==r.active_order?null:r.active_order.eventType),"yellow"==(null==r.active_order?null:r.active_order.eventType),"red"==(null==r.active_order?null:r.active_order.eventType),null==r.active_order||"grey"==(null==r.active_order?null:r.active_order.eventType)||""==(null==r.active_order?null:r.active_order.eventType))),e.xp6(2),e.Q6J("ngIf",r.timer_flag&&"grey"!=(null==r.active_order?null:r.active_order.eventType)&&""!=(null==r.active_order?null:r.active_order.eventType)),e.xp6(1),e.Q6J("ngIf","grey"==(null==r.active_order?null:r.active_order.eventType)||""==(null==r.active_order?null:r.active_order.eventType)),e.xp6(1),e.Q6J("ngIf","yellow"==(null==r.active_order?null:r.active_order.eventType)),e.xp6(1),e.Q6J("ngIf","red"==(null==r.active_order?null:r.active_order.eventType)),e.xp6(1),e.Q6J("ngIf",null!=r.active_order&&"grey"!=(null==r.active_order?null:r.active_order.eventType))}}function ct(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"a",97),e.NdJ("click",function(){const p=e.CHM(r).$implicit;return e.oxw(2).add_user(p)}),e._uU(1),e.qZA()}if(2&l){const r=S.$implicit;e.xp6(1),e.hij("",r.firstName," ")}}function dt(l,S){if(1&l&&(e.TgZ(0,"div",91),e._UZ(1,"div",35),e.TgZ(2,"div",92)(3,"div",93)(4,"div",18)(5,"h5",94),e._uU(6,"Kies een gebruiker om aan te melden:"),e.qZA()(),e.TgZ(7,"div",21)(8,"div",95),e.YNc(9,ct,2,1,"a",96),e.qZA()()()(),e._UZ(10,"div",35),e.qZA()),2&l){const r=e.oxw();e.xp6(9),e.Q6J("ngForOf",r.available_users)}}function ut(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",18)(1,"h5",98),e._uU(2,"Confirmation"),e.qZA(),e.TgZ(3,"button",99),e.NdJ("click",function(){return e.CHM(r).$implicit.dismiss("Cross click")}),e.qZA()(),e.TgZ(4,"div",21)(5,"p",27),e._uU(6),e.qZA(),e.TgZ(7,"h5"),e._uU(8," Are you sure you want to sign out? "),e.qZA()(),e.TgZ(9,"div",28)(10,"button",100),e.NdJ("click",function(){return e.CHM(r).$implicit.close("Save click")}),e._uU(11,"Cancel"),e.qZA(),e.TgZ(12,"button",101),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return n.remove_user(n.modal_item)}),e._uU(13,"Ok"),e.qZA()()}if(2&l){const r=e.oxw();e.xp6(6),e.Oqu(r.modal_item)}}function _t(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",18)(1,"h5",98),e._uU(2,"An activity is already running"),e.qZA(),e.TgZ(3,"button",99),e.NdJ("click",function(){return e.CHM(r).$implicit.dismiss("Cross click")}),e.qZA()(),e.TgZ(4,"div",21)(5,"p"),e._uU(6," You can only be engaged in a value-adding activity for one order at a time."),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"form",102)(10,"div",103),e._UZ(11,"input",104),e.TgZ(12,"label",105),e._uU(13," Close "),e.qZA()(),e.TgZ(14,"div",103),e._UZ(15,"input",106),e.TgZ(16,"label",107),e._uU(17," Put on yellow (planned stoppage) "),e.qZA()(),e.TgZ(18,"div",103),e._UZ(19,"input",108),e.TgZ(20,"label",107),e._uU(21," Put on red (unplanned stoppage) "),e.qZA()()()(),e.TgZ(22,"div",28)(23,"button",100),e.NdJ("click",function(){return e.CHM(r).$implicit.close("Save click")}),e._uU(24,"Cancel"),e.qZA(),e.TgZ(25,"button",101),e.NdJ("click",function(){return e.CHM(r),e.oxw().onSubmit_event()}),e._uU(26,"To confirm"),e.qZA()()}if(2&l){const r=e.oxw();e.xp6(8),e.AsE("What do you want to do with order ",r.green_eventdata.orderID," on workstation ",r.name,"?"),e.xp6(1),e.Q6J("formGroup",r.activityForm)}}function gt(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"span")(1,"button",114),e.NdJ("click",function(){const p=e.CHM(r).$implicit;return e.oxw(2).open_modal(p)}),e._uU(2),e.qZA(),e._UZ(3,"br"),e.qZA()}if(2&l){const r=S.$implicit;e.xp6(2),e.Oqu(r.document_type)}}function mt(l,S){if(1&l){const r=e.EpF();e.TgZ(0,"div",18)(1,"h5",98),e._uU(2,"Document"),e.qZA(),e.TgZ(3,"button",100),e.NdJ("click",function(){return e.CHM(r).$implicit.close("Save click")}),e._uU(4,"Sluiten"),e.qZA()(),e.TgZ(5,"div",21)(6,"div",109)(7,"div",110),e.YNc(8,gt,4,1,"span",111),e.qZA(),e.TgZ(9,"div",112),e._UZ(10,"pdf-viewer",113),e.qZA()()()}if(2&l){const r=e.oxw();e.xp6(8),e.Q6J("ngForOf",r.attachments),e.xp6(2),e.Q6J("src",r.src)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}(0,t.H)(0,1e3);let ht=(()=>{class l{constructor(r,i,n,p,I,E,Y){if(this.modalService=r,this.fb=i,this.toastrService=n,this.apiservice=p,this.countupTimerService=I,this.router=E,this.myService=Y,this.timer_flag=!1,this.subject=new q.X("init ;"),this.screen_status=!0,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.greencat_flag=!1,this.user_screen=!1,this.status_screen=!0,this.orders=[],this.seconds=0,this.minutes=0,this.hours=0,this.reportstatus_flag=!1,this.workstation_orders=[],this.disablegreen=!1,this.adduserflag=!1,this.allow_greensubcat=!1,this.workstationid=localStorage.getItem("workstationID"),this.customerID=localStorage.getItem("customerID"),this.currentuser&&(this.temp_orders=localStorage.getItem(this.currentuser.userID)),this.statusflag=localStorage.getItem("status_flag"),this.timing=localStorage.getItem("timing"),this.activityForm=this.fb.group({event:["",[B.kI.required]]}),this.statusflag&&1==U.N.Deactivate_timer){let pt=new Date("2022-4-18 20:17:30");var R=new Date,K=R.getFullYear()+"-"+(R.getMonth()+1)+"-"+R.getDate(),z=R.getHours()+":"+R.getMinutes()+":"+R.getSeconds();new Date(K+" "+z).getTime(),pt.getTime()}"green"==this.statusflag?this.green_screen=!0:"yellow"==this.statusflag?this.yellow_screen=!0:this.status_screen=!0,this.name=localStorage.getItem("smartbox_name"),this.getusers(),this.getCategories(this.customerID),this.activities()}activities(){this.apiservice.getgreenactivities().subscribe(r=>{r.response&&(this.attachment_flag=r.response.allow_attachments,this.allow_greensubcat="1"!=r.response.numberOfGreenActivities||1!=r.response.numberOfGreenActivities)},r=>{this.toastrService.error("Something went wrong!","Error!")})}getnotes(){this.apiservice.getnotes(this.active_order.orderID).subscribe(r=>{r?(r.forEach(i=>{let n=1e3*parseInt(i.endTime);var p=new Date(n);i.day=p.getDate()+"-"+(p.getMonth()+1),i.timing=p.getHours()+":"+p.getMinutes()}),localStorage.setItem("notes",JSON.stringify(r))):localStorage.setItem("notes",JSON.stringify(null))},r=>{this.toastrService.error("Something went wrong!","Error!")})}lastuser_focus(){this.active_users[this.active_users.length-1].focus=!0,this.currentuser=this.active_users[this.active_users.length-1],localStorage.setItem("current_user",JSON.stringify(this.currentuser))}lastorder_focus(){this.orders[this.orders.length-1].focus=!0,this.active_order=this.orders[this.orders.length-1],localStorage.setItem("active_order",JSON.stringify(this.active_order)),localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(this.active_order))}openLg(r){this.modalService.open(r,{size:"lg"})}ngOnDestroy(){this.timerSubscription.unsubscribe()}getavailableusers(){let r=[];this.active_users.forEach(i=>{r.push(i.userID)}),this.userIds=r.toString(),this.apiservice.getavailableuserslist(this.userIds,this.workstationid).subscribe(i=>{this.available_users=i.res?i.res:[]},i=>{this.toastrService.error("Something went wrong!","Error!")})}getorders(r,i){this.apiservice.getorder(r,i).subscribe(n=>{if(n){this.pre_orders=localStorage.getItem("orders");let p=!1;if(n&&JSON.stringify(n)==this.pre_orders?p=!0:(p=!1,localStorage.setItem("orders",JSON.stringify(n))),1!=p){this.orderss=n;let I=0;if(this.orderss.forEach(E=>{"blue"==E.eventType&&(I+=1)}),this.temp_orders=localStorage.getItem(this.currentuser.userID),this.temp_orders&&("string"==typeof this.temp_orders&&(this.temp_orders=JSON.parse(this.temp_orders)),this.temp_orders.forEach(E=>{E.focus=!1,this.orderss.push(E)})),n==[]||0==n.length||this.orderss.length==I)this.orders=[],this.add_order("s"),this.orders[0].focus=!0,this.active_order=this.orders[0],this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0,this.timer_flag=!1;else{this.screen_status=!0,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1;let Y=[],R=[];for(let P=0;P<=this.orderss.length-1;P++)this.orderss[P].focus=!1,"blue"!=this.orderss[P].eventType?Y.push(this.orderss[P]):R.push(this.orderss[P]);if(R&&R.length>0)for(let P=0;P<R.length;P++)R[P].eventDetail.includes("Signaal")&&(this.reportstatus_flag=!0,this.person=localStorage.getItem("blueperson"),this.report_event=R[P]);else this.reportstatus_flag=!1;this.orders=Y;let K=localStorage.getItem(this.currentuser.userID+"focus_order");K=JSON.parse(K),K&&""!=K.orderID?this.orders.forEach(P=>{P.focus=!1,P.orderID==K.orderID&&(P.focus=!0,this.active_order=P,localStorage.setItem("active_order",JSON.stringify(this.active_order)))}):this.lastorder_focus(),this.start(this.active_order,this.active_order.eventType),this.erpattachment(this.active_order);let z=[];z[0]=this.currentuser,this.getusericon(z),this.getnotes()}}}else this.toastrService.error("No orders for this user!","Error!")},n=>{this.toastrService.error("Something went wrong!","Error!")})}getusers(){this.apiservice.getuserlist(this.workstationid).subscribe(r=>{if("success"==r.response)if(0==r.users.length)setInterval(()=>this.getusers(),54e3),this.active_users=[];else{if(this.users=localStorage.getItem("users"),this.users=JSON.parse(this.users),this.adduserflag&&this.users){this.userarr=this.users;let n=r.users.filter(p=>!this.users.some(I=>I.userID==p.userID));this.userarr.push(n[0]),this.userarr&&(this.active_users=this.userarr,localStorage.setItem("users",JSON.stringify(this.active_users)),this.lastuser_focus())}else this.active_users=r.users,localStorage.setItem("users",JSON.stringify(r.users));this.active_users.forEach(n=>{n.focus=!1}),localStorage.getItem("current_user")||(this.currentuser=this.active_users[this.active_users.length-1],localStorage.setItem("current_user",JSON.stringify(this.currentuser)),this.lastuser_focus()),this.getorders(this.currentuser.userID,this.workstationid),this.getavailableusers(),this.getusericon(this.active_users)}else this.toastrService.error("No user found!","Error!")},r=>{this.toastrService.error("Something went wrong!","Error!")})}getusericon(r){r.forEach(i=>{this.apiservice.getorder(i.userID,this.workstationid).subscribe(n=>{if(n)if(i.icon="",n==[]||0==n.length)i.icon="pause";else{n.forEach(p=>{this.workstation_orders.push(p)}),this.myService.set(this.workstation_orders);for(let p=0;p<=n.length-1;p++){if("green"==n[p].eventType||"red"==n[p].eventType||"yellow"==n[p].eventType){i.icon="play";break}p==n.length-1&&""==i.icon&&(i.icon="pause")}}else this.toastrService.error("Something went wrong!","Error!")},n=>{this.toastrService.error(`Something went wrong! ${n}`,"Error!")})})}stop(r,i){this.apiservice.stopevent({eventID:r.eventID,orderkey:"",deleteFromERP:!0,userID:this.currentuser.userID,workstationID:this.workstationid}).subscribe(p=>{"success"==p.response?("blue"==i&&(this.reportstatus_flag=!1),localStorage.removeItem("active_order"),localStorage.removeItem("orders"),this.getorders(this.currentuser.userID,this.workstationid)):this.toastrService.error("Event is not stopped!","Error!")},p=>{this.toastrService.error("Something went wrong!","Error!")})}start(r,i){if("grey"==r.eventType||""==r.eventType)this.starttime=parseInt("00");else{this.timer_flag=!1;const P=new Date(1e3*r.monitorStartTime);var n=P.getFullYear()+"-"+(P.getMonth()+1)+"-"+P.getDate(),p=P.getHours()+":"+P.getMinutes()+":"+P.getSeconds(),I=new Date(n+" "+p);const $=new Date;var E=$.getFullYear()+"-"+($.getMonth()+1)+"-"+$.getDate(),Y=$.getHours()+":"+$.getMinutes()+":"+$.getSeconds(),R=new Date(E+" "+Y);this.starttime=(R.getTime()-I.getTime())/1e3,setTimeout(()=>{this.timer_flag=!0},100),this.disablegreen=!1}}delete_order(){var r=this;return a(function*(){if(1==r.reportstatus_flag)localStorage.removeItem("active_order"),localStorage.removeItem("orders"),localStorage.removeItem(r.currentuser.userID+"focus_order"),r.stop(r.report_event,"blue"),r.stop(r.active_order,r.active_order.eventType);else if(0==r.reportstatus_flag&&null!=r.active_order&&""!=r.active_order.eventType)localStorage.removeItem("active_order"),localStorage.removeItem("orders"),localStorage.removeItem(r.currentuser.userID+"focus_order"),r.stop(r.active_order,r.active_order.eventType);else if(""==r.active_order.eventType&&1==r.active_order.focus){let i=r.active_order.orderID,n=r.orders.filter(function(I){return I.orderID!=i});r.temp_orders=localStorage.getItem(r.currentuser.userID),r.temp_orders=JSON.parse(r.temp_orders);let p=r.temp_orders.filter(function(I){return I.orderID!=i});localStorage.setItem(r.currentuser.userID,JSON.stringify(p)),r.temp_orders=localStorage.getItem(r.currentuser.userID),r.orders=n,localStorage.removeItem("active_order"),localStorage.removeItem("orders"),localStorage.removeItem(r.currentuser.userID+"focus_order")}else r.toastrService.warning("Please select an order to close","Warning");r.orders.length>0&&r.lastorder_focus()})()}timer_update(r,i,n,p){null!=this.statusflag&&this.statusflag!=p&&(n=0,i=0,r=0,localStorage.removeItem("timing"));let I=localStorage.getItem("timing");if("string"==typeof I){let E=I.split(":");n=parseInt(E[2]),i=parseInt(E[1]),r=parseInt(E[0])}else n=0,i=0,r=0;(n+=1)>=60&&(n=0,(i+=1)>=60&&(i=0,r+=1)),this.seconds=n,this.minutes=i,this.hours=r,this.timing=(r?r>9?r:"0"+r:"00")+":"+(i?i>9?i:"0"+i:"00")+":"+(n>9?n:"0"+n),localStorage.setItem("timing",this.timing)}erpattachment(r){this.apiservice.getattachment(r,this.workstationid).subscribe(i=>{i.result&&i.result.length>0?(this.attachments=i.result,this.src="https://slimmerwerken.app"+i.result[0].filename):this.attachments=void 0},i=>{this.toastrService.error("Something went wrong!","Error!")})}open_modal(r){this.src="https://slimmerwerken.app"+r.filename}add_order(r){if(this.timer_flag=!1,"s"!=r){let i;for(let n=0;n<=this.orders.length-1;n++)if(this.orders[n].orderID==r){i=!0;break}if(1==i)this.toastrService.error("Order already exist","error");else{let n=[];this.orders.forEach(p=>{1==p.focus&&(n.push(p),p.orderID=r,this.active_order=p,localStorage.setItem("active_order",JSON.stringify(this.active_order)),localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(this.active_order)))}),this.temp_orders=localStorage.getItem(this.currentuser.userID),this.temp_orders&&(this.temp_orders=JSON.parse(this.temp_orders),this.temp_orders.forEach(p=>{n.push(p)})),localStorage.setItem(this.currentuser.userID,JSON.stringify(n)),this.screen_status=!0,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1}}else r="s"==r?"":r,this.orders.forEach(i=>{i.focus=!1}),this.orders.push({orderID:r,eventType:"",focus:!0}),this.orders.forEach(i=>{1==i.focus&&(i.orderID=r,this.active_order=i,localStorage.setItem("active_order",JSON.stringify(this.active_order)))}),this.screen_status=!1,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0}remove_user(r){this.modalService.dismissAll(),this.orders.forEach(n=>{"green"==n.eventType&&this.stop(n,"green")}),this.apiservice.deleteuser({userID:r.userID}).subscribe(n=>{"success"==n.response?(this.adduserflag=!1,localStorage.removeItem("current_user"),localStorage.removeItem("active_order"),this.toastrService.success("User unsubscribed!","success!"),this.currentuser=void 0,this.active_order=void 0,this.getusers()):this.toastrService.error("User is not unsubscribed!","Error!")},n=>{this.toastrService.error("Something went wrong!","Error!")})}modal_values(r){this.modal_item=r}add_user(r){this.apiservice.adduser({userID:r.userID}).subscribe(n=>{"success"==n.response?(this.adduserflag=!0,this.toastrService.success("User added!","success!"),this.user_screen=!1,this.status_screen=!0,localStorage.removeItem("active_order"),this.getusers()):this.toastrService.error("User is not added!","Error!")},n=>{this.toastrService.error("Something went wrong!","Error!")}),this.lastuser_focus()}realtimeorder(){this.timerSubscription=(0,t.H)(0,34e3).pipe((0,u.U)(()=>{this.currentuser&&this.getorders(this.currentuser.userID,this.workstationid)})).subscribe()}current_user(r,i){localStorage.removeItem("active_order"),localStorage.removeItem("orders"),window.event.srcElement.classList.length>1?this.open(this.logoutRef):(this.currentuser=r,this.user_screen=!1,this.status_screen=!0,this.reportstatus_flag=!1,localStorage.setItem("current_user",JSON.stringify(this.currentuser)),this.temp_orders=localStorage.getItem(this.currentuser.userID),this.getorders(this.currentuser.userID,this.workstationid))}focus_button(r){this.orders.forEach(i=>{i.focus=!1}),r.focus=!0,this.active_order=r,this.erpattachment(this.active_order),this.screen_status=!0,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,r.eventType&&(localStorage.setItem("active_order",JSON.stringify(this.active_order)),this.start(r,this.active_order.eventType)),localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(this.active_order)),""==r.orderID&&(this.screen_status=!1,this.workinghours_flag=!1,this.downtime_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0),this.getnotes()}users_list(){this.user_screen=!0,this.status_screen=!1}open_attachment(){var r=this;return a(function*(){yield r.erpattachment(r.active_order),r.openLg(r.contentRef)})()}ngOnInit(){localStorage.removeItem("orders");let r=localStorage.getItem("current_user");r&&(this.currentuser=JSON.parse(r));let i=localStorage.getItem("active_order");i&&(this.active_order=JSON.parse(i)),this.realtimeorder()}temp(){this.myService.myMethod().subscribe(r=>{this.data=r,"yellow"==this.data?(this.yellow_screen=!0,this.green_screen=!1,this.active_order.eventType="yellow"):"red"==this.data&&(this.active_order.eventType="red",this.red_screen=!0,this.yellow_screen=!1,this.green_screen=!1)})}createorder(r,i){var n=Math.floor((new Date).getTime()/1e3);let p={orderNr:this.active_order.orderID,customerRef:"",orderkey:"",userID:this.currentuser.userID,actionType:r,eventDescription:i.value?i.eventDescription:i,actionDetail:i.value?i.value:i,workstationID:this.workstationid,monitorStartTime:n};if(""==this.active_order.eventType){let I=this.active_order.orderID;this.temp_orders=localStorage.getItem(this.currentuser.userID),this.temp_orders=JSON.parse(this.temp_orders);let E=this.temp_orders.filter(function(Y){return Y.orderID!=I});localStorage.setItem(this.currentuser.userID,JSON.stringify(E))}this.green_eventdata&&(p.orderNr=this.green_eventdata.orderID),this.green_eventdata=void 0,this.apiservice.addorder(p).subscribe(I=>{"success"==I.response?"blue"==r?this.toastrService.success("Created/Updated successfully","Success"):(localStorage.setItem(this.currentuser.userID+"focus_order",JSON.stringify(this.active_order)),this.toastrService.success("Created/Updated successfully","Success"),this.getorders(this.currentuser.userID,this.workstationid),this.orders.forEach(E=>{E.orderID==I.orderID&&(E.eventID=I.eventID)})):this.toastrService.error("Order is not created!","Error!")},I=>{this.toastrService.error("Something went wrong!","Error!")})}onSubmit_event(){this.modalService.dismissAll(),"close"==this.activityForm.value.event?(this.stop(this.green_eventdata,"close"),this.green_eventdata=void 0,this.createorder("green","working on the order"),this.green_screen=!0,1==U.N.Deactivate_timer&&this.start(this.active_order,"green")):"yellow"==this.activityForm.value.event?(this.screen_status=!1,this.downtime_flag=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1):(this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!0,this.reports_flag=!1,this.project_flag=!1)}open(r){this.modalService.open(r,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}getDismissReason(r){return r===J.If.ESC?"by pressing ESC":r===J.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${r}`}getCategories(r){this.apiservice.getcategories(r).subscribe(i=>{if(i.yellow){if(this.categories=i.yellow,this.redcategories=i.red,this.bluecategories=i.blue,this.report_blue=i.level2.blue,localStorage.setItem("categories",JSON.stringify(this.categories)),localStorage.setItem("redcategories",JSON.stringify(this.redcategories)),localStorage.setItem("bluecategories",JSON.stringify(this.bluecategories)),localStorage.setItem("reportblue",JSON.stringify(this.report_blue)),this.allow_greensubcat){let n;this.green_categories=i.green,this.green_categories.forEach(p=>{null==p.extraLevel&&(n=!0)}),n&&localStorage.setItem("greencategories",JSON.stringify(this.green_categories))}}else localStorage.setItem("categories",JSON.stringify(this.categories)),localStorage.setItem("redcategories",JSON.stringify(this.redcategories)),localStorage.setItem("bluecategories",JSON.stringify(this.bluecategories)),localStorage.setItem("bluecategories",JSON.stringify(this.report_blue)),this.toastrService.error("No categories!","Error!")},i=>{this.toastrService.error("Something went wrong!","Error!")})}set_flag(r,i){if("yellow"==r)this.screen_status=!1,this.downtime_flag=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1;else if("red"==r)this.downtime_flag=!1,this.screen_status=!1,this.workinghours_flag=!1,this.unplanned_flag=!0,this.reports_flag=!1,this.project_flag=!1;else if("screen"==r)this.downtime_flag=!1,this.screen_status=!0,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.greencat_flag=!1;else if("blue"==r)this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!0,this.project_flag=!1;else if("workinghours_flag"==r)this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!0,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!1,this.order_numbers.forEach(n=>{n.focus="false"});else if("green"==r)if(this.green_categories)this.greencat_flag=!0;else{for(let n=0;n<=this.orders.length-1;n++){let p;if("green"==this.orders[n].eventType&&this.orders.length>1&&this.active_order.orderID!=this.orders[n].orderID){this.green_eventdata=this.orders[n],p=!0;break}p=!1}this.green_eventdata?(localStorage.setItem("green_eventdata",JSON.stringify(this.green_eventdata)),this.open(i)):(this.disablegreen=!0,this.stop(this.active_order,"green"),this.createorder(r,"working on the order"),this.green_screen=!0)}else this.myService.set(this.workstation_orders),this.screen_status=!1,this.downtime_flag=!1,this.workinghours_flag=!1,this.unplanned_flag=!1,this.reports_flag=!1,this.project_flag=!0}logout(){var r=this;return a(function*(){yield r.getusericon(r.active_users),r.workstation_orders.forEach(i=>{"green"==i.eventType&&r.stop(i,"green")}),localStorage.removeItem("smartbox_token"),localStorage.removeItem("smartbox_Authenticated"),localStorage.removeItem("role"),localStorage.removeItem("active_order"),localStorage.removeItem("current_user"),localStorage.removeItem("green_eventdata"),localStorage.removeItem("orders"),localStorage.removeItem("users"),r.router.navigate([x.O.LOGIN])})()}}return l.\u0275fac=function(r){return new(r||l)(e.Y36(J.FF),e.Y36(B.qu),e.Y36(j._W),e.Y36(N.s),e.Y36(D.Cb),e.Y36(M.F0),e.Y36(T.D))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-dashboard"]],viewQuery:function(r,i){if(1&r&&(e.Gf(O,5),e.Gf(A,5),e.Gf(f,7)),2&r){let n;e.iGM(n=e.CRH())&&(i.contentRef=n.first),e.iGM(n=e.CRH())&&(i.logoutRef=n.first),e.iGM(n=e.CRH())&&(i.basicTimer=n.first)}},features:[e._Bn([_.n])],decls:58,vars:8,consts:[[1,"navbar","navbar-light","bg-light","static-top"],[1,"container"],[1,"navbar-brand"],["src","https://smartbox-solutions.nl/wp-content/uploads/2021/03/logo_1200x300-300x75.png"],["id","eventHistory",1,"mr-3"],["id","userName",1,"mr-3"],["type","button","id","menuLoginButton","data-bs-toggle","modal","data-bs-target","#example",1,"btn","btn-primary"],["id","pageOverall",1,"features-icons","bg-light","text-center"],[1,"container","h-100"],["id","userBar",1,"row","mb-4"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"addUser",2,"flex","0 0 150px",3,"ngClass","click"],[1,"fa","fa-plus"],["class","row mainScreen",4,"ngIf"],["class","row mainScreen mt-5","style","display: flex;",4,"ngIf"],["id","example","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","example",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer","d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],[2,"display","none"],[1,"modal-footer"],["logoutt",""],["content",""],["attachment",""],[3,"ngClass","click"],["class","fa fa-play-circle ",4,"ngIf"],["class","fa fa-pause-circle ",4,"ngIf"],[1,"col-md-1"],["class","fa fa-times-circle float-end mt-1","style","font-size: 35px;",3,"click",4,"ngIf"],[1,"fa","fa-play-circle"],[1,"fa","fa-pause-circle"],[1,"fa","fa-times-circle","float-end","mt-1",2,"font-size","35px",3,"click"],[1,"row","mainScreen"],[1,"col-md-2","orderTabs"],[1,"row","text-left"],[1,"scrollable"],["class","row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row","addOrder",2,"display","flex",3,"click"],["class","col-md-8 screenMainSection",4,"ngIf"],[1,"col-md-2","statusScreen",3,"ngClass"],["class","row h-50",4,"ngIf"],[1,"row","h-25",3,"ngClass"],[1,"col-md-12","text-align","my-auto","timer","running"],["format","hms",3,"startTime",4,"ngIf"],[4,"ngIf"],["class","activeColorText",4,"ngIf"],["class","activeColorTextDescription",4,"ngIf"],[1,"row","h-25","statusScreen--last",3,"click"],[2,"height","0"],[1,"stopTimer"],[1,"statusScreen--last-wrapper","closeOrderBtn"],[1,"col-md-12"],[1,"fa","fa-times","mt-1"],[1,"row",3,"ngClass","click"],[1,"circle",3,"ngClass"],[1,"number"],[1,"col-md-8","screenMainSection"],["data-allow-start","false","data-a","green","data-eventtype","green","data-level","1",1,"row","mb-2","actionButton","action","d-flex","flex-row",3,"ngClass","click"],[1,"col-md-3","col-12"],["id","greenbutton",1,"circle","green"],[1,"col-md-9","col-12","my-auto"],[1,"row"],[1,"button-text-large","pl-2","ml-1"],[1,"button-text-small","pl-2","ml-1"],[1,"row","mb-2","actionButton","d-flex","flex-row",3,"click"],[1,"circle","yellow"],["data-a","RedStep1","data-level","1","data-eventtype","red",1,"row","mb-2","actionButton","flex-row",3,"click"],[1,"circle","red"],[1,"row","mb-2","actionButton","flex-row",3,"click"],[1,"circle","blue"],["class","row mb-2 actionButton flex-row attachments chosen",3,"ngClass","click",4,"ngIf"],[1,"row","mb-2","actionButton","flex-row","attachments","chosen",3,"ngClass","click"],["src","../../assets/document-icon.png",2,"width","50%"],[1,"row","h-50"],[1,"col-md-12","text-align","my-auto","blueStatusBar"],["class","col-md-12 text-align my-auto blueStatusBar",3,"ngClass",4,"ngIf"],[1,"col-md-12","text-align","my-auto","blueStatusBar",3,"ngClass"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["format","hms",3,"startTime"],["basicTimer",""],[1,"activeColorText"],[1,"activeColorTextDescription"],[1,"row","mainScreen","mt-5",2,"display","flex"],[1,"col-md-10","my-auto","mt-5"],[1,"modal-content","userOverview"],["id","loginModalLabel",1,"modal-title"],[1,"form-group"],["class","btn btn-primary btn-lg btn-block active","role","button","aria-pressed","true",3,"click",4,"ngFor","ngForOf"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","btn-block","active",3,"click"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],["novalidate","",3,"formGroup"],[1,"form-check"],["type","radio","name","event","formControlName","event","value","close","id","flexRadioDefault1",1,"form-check-input"],["for","flexRadioDefault1",1,"form-check-label"],["type","radio","name","event","formControlName","event","value","yellow","id","flexRadioDefault2",1,"form-check-input"],["for","flexRadioDefault2",1,"form-check-label"],["type","radio","name","event","formControlName","event","value","red","id","flexRadioDefault2",1,"form-check-input"],[1,"row","h-100"],[1,"col-lg-2",2,"border-right","1px solid #eee"],[4,"ngFor","ngForOf"],[1,"col-lg-10","pdf-container"],[2,"width","100%","height","600px",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders"],["aria-pressed","true",1,"width-150px","btn","active","pbm",3,"click"]],template:function(r,i){1&r&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"span",4),e.TgZ(6,"span",5),e._uU(7),e.qZA(),e.TgZ(8,"button",6),e._uU(9,"Log out"),e.qZA()()()(),e.TgZ(10,"section",7)(11,"div",8)(12,"div",9),e.YNc(13,v,6,7,"div",10),e.TgZ(14,"div",11),e.NdJ("click",function(){return i.users_list()}),e.TgZ(15,"span"),e._UZ(16,"i",12),e.qZA()()(),e.YNc(17,lt,33,27,"div",13),e.YNc(18,dt,11,1,"div",14),e.qZA()(),e._UZ(19,"br"),e.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"h5",19),e._uU(25,"Log out"),e.qZA(),e._UZ(26,"button",20),e.qZA(),e.TgZ(27,"div",21)(28,"h5"),e._uU(29,"Are you sure you want to log out?"),e.qZA()(),e.TgZ(30,"div",22)(31,"button",23),e._uU(32,"Cancel"),e.qZA(),e.TgZ(33,"button",24),e.NdJ("click",function(){return i.logout()}),e._uU(34,"Confirm"),e.qZA()()()()(),e.TgZ(35,"div",25)(36,"div",16)(37,"div",17)(38,"div",18)(39,"h5",26),e._uU(40,"Confirmation "),e.qZA(),e._UZ(41,"button",20),e.qZA(),e.TgZ(42,"div",21)(43,"p",27),e._uU(44),e.qZA(),e.TgZ(45,"h5"),e._uU(46," Are you sure you want to sign out? "),e.qZA()(),e.TgZ(47,"div",28)(48,"button",23),e._uU(49,"Cancel"),e.qZA(),e.TgZ(50,"button",24),e.NdJ("click",function(){return i.remove_user(i.modal_item)}),e._uU(51,"Ok"),e.qZA()()()()(),e.YNc(52,ut,14,1,"ng-template",null,29,e.W1O),e.YNc(54,_t,27,3,"ng-template",null,30,e.W1O),e.YNc(56,mt,11,13,"ng-template",null,31,e.W1O)),2&r&&(e.xp6(7),e.Oqu(i.name),e.xp6(6),e.Q6J("ngForOf",i.active_users),e.xp6(1),e.Q6J("ngClass",e.VKq(6,C,1==i.user_screen)),e.xp6(3),e.Q6J("ngIf",i.status_screen),e.xp6(1),e.Q6J("ngIf",i.user_screen),e.xp6(26),e.Oqu(i.modal_item))},styles:[".navbar[_ngcontent-%COMP%]{height:100px}.activeColorText[_ngcontent-%COMP%]{font-size:medium}.activeColorTextDescription[_ngcontent-%COMP%]{font-size:11}.statusScreen[_ngcontent-%COMP%]{border-radius:0;color:#fff;font-weight:700;margin-left:28px;max-width:calc(18.66667% - 60px)}.features-icons[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:1rem}.disable[_ngcontent-%COMP%]{pointer-events:none}nav[_ngcontent-%COMP%]{flex:70px 0 0;flex-grow:0;flex-shrink:0;flex-basis:70px}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#000000e6}.navbar-brand[_ngcontent-%COMP%]{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}#userName[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-right:19px}#userBar[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{background:#02597D;color:#fff;cursor:pointer}#userBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;padding:8px 10px;color:#02597d;border-right:1px solid #02597D;font-weight:600;font-size:18px;line-height:40px;cursor:pointer}.orderTabs[_ngcontent-%COMP%]   div.row[_ngcontent-%COMP%]{padding:15px 10px;margin:0;height:77px;border-bottom:1px solid #fff;display:flex;flex-wrap:wrap}.red[_ngcontent-%COMP%]{background-color:red}.yellow[_ngcontent-%COMP%]{background-color:orange}.addOrder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;margin-left:60px;font-size:20px;line-height:39px}.pbm[_ngcontent-%COMP%]{background-color:#a9a9a9;width:auto;margin-top:5%}.orderTabs[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]:first-child{height:62.6px;padding:5px 10px;display:inherit;background:#547C96;margin-left:-12px;color:#fff;font-size:24px;font-weight:400;text-align:left}.orderTabs[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding-bottom:14px;background:rgba(84,124,150,.5);background-image:initial;background-position-x:initial;background-position-y:initial;background-size:initial;background-attachment:initial;background-origin:initial;background-clip:initial;background-color:#547c9680;margin-right:30px;max-width:calc(18.66667% - 30px);padding-right:0;height:525px}.overig[_ngcontent-%COMP%], .orderTabs[_ngcontent-%COMP%]   div.row.overig[_ngcontent-%COMP%]{margin-left:-12px}.screenMainSection[_ngcontent-%COMP%]{max-width:65%;margin-right:auto}.orderTabs[_ngcontent-%COMP%]   button.circle[_ngcontent-%COMP%]{width:11px;height:20px;border-radius:50%;border:none;margin:auto 0 -31px}.blur_button[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.green[_ngcontent-%COMP%]{background-color:green}.number[_ngcontent-%COMP%]{margin-top:10px}.row.mb-2.actionButton[_ngcontent-%COMP%]{padding:8px 25px}.row.actionButton[_ngcontent-%COMP%]{padding:8px;border:1px solid #24597A;border-radius:10px;box-shadow:0 4px 4px #e8e6e6;min-height:50px}.mt-6[_ngcontent-%COMP%]{margin-top:10rem}.mainScreen[_ngcontent-%COMP%]{height:calc(100% - 60px)}.orderTabs[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 363px);margin-left:-15px;-ms-overflow-style:none;scrollbar-width:none}.pro_icon[_ngcontent-%COMP%]{margin-left:28px;width:0px;font-size:28px;margin-top:8px}"]}),l})()},284:(Q,F,c)=>{c.d(F,{Cb:()=>u,d_:()=>A});var w=c(9808),a=c(1223),x=c(1566),_=c(5963);function t(f=0,d=x.z){return f<0&&(f=0),(0,_.H)(f,f,d)}var q=c(8306);class u{constructor(){this.timerValue={seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=d=>{if(d){let h=new Date,o=new Date(d);this.totalSeconds=Math.round((h.getTime()-o.getTime())/1e3)}return this.isTimerStart=!0,!0},this.pauseTimer=(d,h)=>{if(d&&h){let o=new Date(h),C=new Date(d);this.totalSeconds=Math.round((o.getTime()-C.getTime())/1e3)}return this.isTimerStart=!1,!1},this.stopTimer=()=>{this.isTimerStart=!1,this.totalSeconds=0},this.getTimerValue=()=>new q.y(d=>{this.intervalSubscription&&this.intervalSubscription.unsubscribe(),this.intervalSubscription=this.interval.subscribe(h=>{if(this.isTimerStart){++this.totalSeconds,this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let o=0;o=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(o)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600)),d.next(this.timerValue),d.complete()}else{if(this.totalSeconds>0){this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let o=0;o=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(o)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600))}else this.timerValue.hours="00",this.timerValue.mins="00",this.timerValue.seconds="00";d.next(this.timerValue),d.complete()}},h=>{d.error(h),d.complete()})}),this.setTimervalue=d=>{let h=d+"";return h.length<2?"0"+h:h},this.interval=t(1e3)}}u.\u0275fac=function(d){return new(d||u)},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u.ngInjectableDef=(0,a.Ez6)({factory:function(){return new u},token:u,providedIn:"root"});class D{constructor(){this.onTimerStatusChange=new a.vpe,this.timerValue={seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=d=>{if(d){let h=new Date,o=new Date(d);this.totalSeconds=-1*Math.round((h.getTime()-o.getTime())/1e3)}return this.isTimerStart=!0,this.onTimerStatusChange.emit("START"),!0},this.pauseTimer=(d,h)=>{if(d&&h){let o=new Date(h),C=new Date(d);this.totalSeconds=Math.round((o.getTime()-C.getTime())/1e3)}return this.isTimerStart=!1,this.onTimerStatusChange.emit("PAUSE"),!1},this.stopTimer=()=>{this.isTimerStart=!1,this.totalSeconds=0,this.onTimerStatusChange.emit("STOP")},this.resumeTimer=()=>{this.isTimerStart=!0},this.getTimerValue=()=>new q.y(d=>{this.intervalSubscription&&this.intervalSubscription.unsubscribe(),this.intervalSubscription=this.interval.subscribe(h=>{if(this.isTimerStart&&this.totalSeconds>0){--this.totalSeconds,this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let o=0;o=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(o)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600)),d.next(this.timerValue),d.complete()}else{if(this.totalSeconds>0){this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let o=0;o=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(o)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600))}else this.timerValue.hours="00",this.timerValue.mins="00",this.timerValue.seconds="00",this.stopTimer();d.next(this.timerValue),d.complete()}},h=>{d.error(h),d.complete()})}),this.setTimervalue=d=>{let h=d+"";return h.length<2?"0"+h:h},this.interval=t(1e3)}}D.\u0275fac=function(d){return new(d||D)},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D.ngInjectableDef=(0,a.Ez6)({factory:function(){return new D},token:D,providedIn:"root"});class T{constructor(){this.timerValue={miliseconds:"00",seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=()=>(this.isTimerStart=!0,!0),this.pauseTimer=(d,h)=>{if(d&&h){let o=new Date(h),C=new Date(d);this.totalSeconds=Math.round((o.getTime()-C.getTime())/1e3)}return this.isTimerStart=!1,!1},this.stopTimer=()=>{this.isTimerStart=!1,this.totalSeconds=0},this.resumeTimer=()=>{this.isTimerStart=!0},this.getTimerValue=()=>new q.y(d=>{this.intervalSubscription&&this.intervalSubscription.unsubscribe(),this.intervalSubscription=this.interval.subscribe(h=>{if(this.isTimerStart&&this.totalSeconds>0){--this.totalSeconds,this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let o=0;o=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(o)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600)),d.next(this.timerValue),d.complete()}else{if(this.totalSeconds>0){this.timerValue.seconds=this.setTimervalue(this.totalSeconds%60);let o=0;o=Math.trunc(this.totalSeconds/60)>=60?this.totalSeconds/60%60:this.totalSeconds/60,this.timerValue.mins=this.setTimervalue(Math.trunc(o)),this.timerValue.hours=this.setTimervalue(Math.trunc(this.totalSeconds/3600))}else this.timerValue.hours="00",this.timerValue.mins="00",this.timerValue.seconds="00";d.next(this.timerValue),d.complete()}},h=>{d.error(h),d.complete()})}),this.setTimervalue=d=>{let h=d+"";return h.length<2?"0"+h:h},this.interval=t(1e4)}}T.\u0275fac=function(d){return new(d||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T.ngInjectableDef=(0,a.Ez6)({factory:function(){return new T},token:T,providedIn:"root"});let A=(()=>{class f{}return f.\u0275fac=function(h){return new(h||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({providers:[u,D,T],imports:[[w.ez]]}),f})()},9592:(Q,F,c)=>{c.d(F,{I:()=>x,d:()=>_});var w=c(1223);const a=["*"];let x=(()=>{class t{constructor(u,U){this.elt=u,this.renderer=U,this.onStart=new w.vpe,this.onStop=new w.vpe,this.onTick=new w.vpe,this.onComplete=new w.vpe,this.autoStart=!0,this.startTime=0,this.endTime=0,this.timeoutId=null,this.countdown=!1,this.format="default"}ngAfterViewInit(){const u=this.elt.nativeElement.lastChild;this.ngContentSchema=u?u.nodeValue:"",(void 0===this.autoStart||!0===this.autoStart)&&this.start()}ngOnDestroy(){this.resetTimeout()}start(){this.initVar(),this.resetTimeout(),this.computeTimeUnits(),this.startTickCount(),this.onStart.emit(this)}resume(){this.resetTimeout(),this.startTickCount()}stop(){this.clear(),this.onStop.emit(this)}reset(){this.initVar(),this.resetTimeout(),this.clear(),this.computeTimeUnits(),this.renderText()}get(){return{seconds:this.seconds,minutes:this.minutes,hours:this.hours,days:this.days,timer:this.timeoutId,tick_count:this.tickCounter}}initVar(){this.startTime=this.startTime||0,this.endTime=this.endTime||0,this.countdown=this.countdown||!1,this.tickCounter=this.startTime,this.countdown&&0===this.startTime&&(this.countdown=!1),this.format||(this.format=this.ngContentSchema.length>5?"user":"default")}resetTimeout(){this.timeoutId&&clearInterval(this.timeoutId)}renderText(){let u;if("user"===this.format){const U={seconds:this.seconds,minutes:this.minutes,hours:this.hours,days:this.days};u=this.ngContentSchema;for(const J of Object.keys(U))u=u.replace("["+J+"]",U[J].toString())}else"intelli"===this.format?(u="",this.days>0&&(u+=this.days.toString()+"day"+(this.days>1?"s":"")+" "),(this.hours>0||this.days>0)&&(u+=this.hours.toString()+"h "),(this.minutes>0||this.hours>0)&&0===this.days&&(u+=this.minutes.toString().padStart(2,"0")+"min "),0===this.hours&&0===this.days&&(u+=this.seconds.toString().padStart(2,"0")+"s")):"hms"===this.format?(u=this.hours.toString().padStart(2,"0")+":",u+=this.minutes.toString().padStart(2,"0")+":",u+=this.seconds.toString().padStart(2,"0")):"ms"===this.format?(u="",this.hours>0&&(u=this.hours.toString().padStart(2,"0")+":"),u+=this.minutes.toString().padStart(2,"0")+":",u+=this.seconds.toString().padStart(2,"0")):(u=this.days.toString()+"d ",u+=this.hours.toString()+"h ",u+=this.minutes.toString()+"m ",u+=this.seconds.toString()+"s");this.renderer.setProperty(this.elt.nativeElement,"innerHTML",u)}clear(){this.resetTimeout(),this.timeoutId=null}computeTimeUnits(){this.maxTimeUnit&&"day"!==this.maxTimeUnit?"second"===this.maxTimeUnit?(this.seconds=this.tickCounter,this.minutes=0,this.hours=0,this.days=0):"minute"===this.maxTimeUnit?(this.seconds=Math.floor(this.tickCounter%60),this.minutes=Math.floor(this.tickCounter/60),this.hours=0,this.days=0):"hour"===this.maxTimeUnit&&(this.seconds=Math.floor(this.tickCounter%60),this.minutes=Math.floor(this.tickCounter/60%60),this.hours=Math.floor(this.tickCounter/3600),this.days=0):(this.seconds=Math.floor(this.tickCounter%60),this.minutes=Math.floor(this.tickCounter/60%60),this.hours=Math.floor(this.tickCounter/3600%24),this.days=Math.floor(this.tickCounter/3600/24)),this.renderText()}startTickCount(){const u=this;u.timeoutId=setInterval(function(){let U;if(u.countdown?(U=u.tickCounter,u.startTime>u.endTime&&(U=u.tickCounter-u.endTime-1)):(U=u.tickCounter-u.startTime,u.endTime>u.startTime&&(U=u.endTime-u.tickCounter-1)),u.computeTimeUnits(),u.onTick.emit({seconds:u.seconds,minutes:u.minutes,hours:u.hours,days:u.days,timer:u.timeoutId,tick_count:u.tickCounter}),U<0)return u.stop(),void u.onComplete.emit(u);u.countdown?u.tickCounter--:u.tickCounter++},1e3)}}return t.\u0275fac=function(u){return new(u||t)(w.Y36(w.SBq),w.Y36(w.Qsj))},t.\u0275cmp=w.Xpm({type:t,selectors:[["cd-timer"]],inputs:{startTime:"startTime",endTime:"endTime",countdown:"countdown",autoStart:"autoStart",maxTimeUnit:"maxTimeUnit",format:"format"},outputs:{onStart:"onStart",onStop:"onStop",onTick:"onTick",onComplete:"onComplete"},ngContentSelectors:a,decls:1,vars:0,template:function(u,U){1&u&&(w.F$t(),w.Hsn(0))},encapsulation:2}),t})(),_=(()=>{class t{}return t.\u0275fac=function(u){return new(u||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[[]]}),t})()}}]);